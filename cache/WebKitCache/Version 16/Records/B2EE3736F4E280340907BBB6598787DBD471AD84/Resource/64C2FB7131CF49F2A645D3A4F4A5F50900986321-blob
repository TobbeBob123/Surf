/*! Core Analytics v4.2.5 - Copyright (c) 2015-2019 NRK */
this.CA4=this.CA4||{},this.CA4["statistics/analytics"]=function(){"use strict";var e;(function(e,t){var n;n=function(){function m(){for(var e=arguments,t=0,n={};t<arguments.length;t++){var r=e[t];for(var o in r)n[o]=r[o]}return n}return function e(p){function f(e,t,n){var r;if("undefined"!=typeof document){if(1<arguments.length){if("number"==typeof(n=m({path:"/"},f.defaults,n)).expires){var o=new Date;o.setMilliseconds(o.getMilliseconds()+864e5*n.expires),n.expires=o}n.expires=n.expires?n.expires.toUTCString():"";try{r=JSON.stringify(t),/^[\{\[]/.test(r)&&(t=r)}catch(e){}t=p.write?p.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var a="";for(var i in n)n[i]&&(a+="; "+i,!0!==n[i]&&(a+="="+n[i]));return document.cookie=e+"="+t+a}e||(r={});for(var c=document.cookie?document.cookie.split("; "):[],s=/(%[0-9A-Z]{2})+/g,u=0;u<c.length;u++){var d=c[u].split("="),g=d.slice(1).join("=");this.json||'"'!==g.charAt(0)||(g=g.slice(1,-1));try{var l=d[0].replace(s,decodeURIComponent);if(g=p.read?p.read(g,l):p(g,l)||g.replace(s,decodeURIComponent),this.json)try{g=JSON.parse(g)}catch(e){}if(e===l){r=g;break}e||(r[l]=g)}catch(e){}}return r}}return(f.set=f).get=function(e){return f.call(f,e)},f.getJSON=function(){return f.apply({json:!0},[].slice.call(arguments))},f.defaults={},f.remove=function(e,t){f(e,"",m(t,{expires:-1}))},f.withConverter=e,f}(function(){})},e.exports=n()})(e={exports:{}},e.exports);function s(n){for(var e=[],t=arguments.length-1;0<t--;)e[t]=arguments[t+1];return e.filter(Boolean).forEach(function(t){Object.keys(t).forEach(function(e){return n[e]=t[e]})}),n}var r=function(){if("undefined"==typeof window)return function(){return null};var n=window.Element.prototype,r=n.matches||n.msMatchesSelector||n.webkitMatchesSelector;return function(e,t){if(n.closest)return e.closest(t);for(;e;e=e.parentElement)if(r.call(e,t))return e;return null}}();function n(e){return e.replace(/^www\./,"")}var o={contentId:"dimension1",title:"dimension2",year:"dimension3",month:"dimension4",day:"dimension5",referrerDomain:"dimension6",referrer:"dimension7",userId:"dimension8",userIdSession:"dimension9",parentId:"dimension10"};return function(a){function i(e){for(var t=[],n=arguments.length-1;0<n--;)t[n]=arguments[n+1];try{window.ga.apply(window,[a.uuid+"."+e].concat(t))}catch(e){throw e}}function c(t){var n=t.ga||{},e=t.publishDate&&new Date(t.publishDate);e&&(isNaN(e)?a("error",new Error("publishDate is an InvalidDate. Check formatting")):(n[o.year]=e.getFullYear(),n[o.month]=e.getMonth()+1,n[o.day]=e.getDate())),t.userId&&(n[o.userId]=t.userId,n[o.userIdSession]=t.userId),Object.keys(t).forEach(function(e){o[e]&&(n[o[e]]=String(t[e]))}),i("set",n)}document.addEventListener("click",function(e){var t=a.contains(r(e.target,"[data-ga-category]")),n=t&&t.hasAttribute("data-ga-value")&&[parseInt(t.getAttribute("data-ga-value"),10)];t&&a("event",{ga:[t.getAttribute("data-ga-category"),t.getAttribute("data-ga-action"),t.getAttribute("data-ga-label")].concat(n||[])})}),a.set("gaEmit",i),a.on("initialize",function(e){window.ga||(window.ga=function(){(window.ga.q=window.ga.q||[]).push(arguments)},window.ga.l=Math.round(window.performance.timeOrigin)||window.performance.timing.navigationStart),function(e){var t=e.src,n=e.onload;void 0===n&&(n=Function.prototype);var r=e.crossorigin;void 0===r&&(r=!0);var o=document.querySelector('script[src="'+t+'"]')||document.createElement("script"),a=o.queue=o.queue||[];a.length?a.push(n):o.parentNode?n(o):(a.push(n),o.async=!0,o.onload=function(){return a.splice(0).forEach(function(e){return e(o)})},o.setAttribute("src",t),r&&o.setAttribute("crossorigin","anonymous"),document.head.appendChild(o))}({src:"https://www.google-analytics.com/analytics"+(a.debug?"_debug":"")+".js",crossorigin:!1}),console.log(a.uuid);var t={name:a.uuid,trackingId:e.ga,cookieDomain:"auto"},n={anonymizeIp:!0,forceSSL:!0,transport:"beacon"};if(!t.trackingId)return a("error",new Error("Please provide a Google Analytics trackingId"));e.parentId&&(n[o.parentId]=e.parentId),e.clientId&&(t.clientId=e.clientId),a.set("gaTrackingId",t.trackingId),window.ga("create",t),i("set",n)}),a.on("context",c),a.on("pageview",function(e){if(void 0===e&&(e={}),e.ga||(e.ga={}),e.contentId||a.log("You should provide a contentId when sending pageviews"),e.page&&"/"!==e.page[0])return a("error",new Error("The page parameter must be a string beginning with /"));var t;e.ga.title=e.title||document.title,e.ga.page=e.page||document.location.pathname+document.location.search,e.ga.hostname=n(e.hostname||document.location.hostname),e.referrer=n(document.referrer),e.referrerDomain=(t=e.referrer,s(document.createElement("a"),{href:t})).hostname,c(e),i("send","pageview")}),a.on("event",function(t){var r=["eventCategory","eventAction","eventLabel","eventValue","nonInteraction"],n={},o={};Array.isArray(t.ga)&&(t.ga=t.ga.reduce(function(e,t,n){return"object"==typeof t?s(e,t):e[r[n]]=t,e},{})),Object.keys(t.ga).forEach(function(e){-1===r.indexOf(e)?o[e]=t.ga[e]:n[e]=t.ga[e]});var e=parseInt(n.eventValue,10);return n.eventCategory?n.eventAction?n.hasOwnProperty("eventValue")&&isNaN(e)?a("error",new Error("Please provide a value as a number: "+JSON.stringify(n.eventValue))):(c({ga:o}),void i("send","event",n)):a("error",new Error("Please provide an action as a string")):a("error",new Error("Please provide a category as a string"))})}}();
//# sourceMappingURL=analytics.min.js.map
