;
(self.AMP=self.AMP||[]).push({m:1,v:"2203150226000",n:"amp-carousel",ev:"0.1",l:!0,f:function(t,i){(()=>{function i(t,i,s){return i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s,t}function s(t,i){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),s.push.apply(s,n)}return s}function n(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?s(Object(e),!0).forEach((function(s){i(t,s,e[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):s(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}var{isArray:e}=Array;function r(t){return"string"==typeof t}function o(t,i){(null==i||i>t.length)&&(i=t.length);for(var s=0,n=new Array(i);s<i;s++)n[s]=t[s];return n}function l(t,i){var s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(s)return(s=s.call(t)).next.bind(s);if(Array.isArray(t)||(s=function(t,i){if(t){if("string"==typeof t)return o(t,i);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?o(t,i):void 0}}(t))||i&&t&&"number"==typeof t.length){s&&(t=s);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var{hasOwnProperty:h,toString:a}=Object.prototype;function u(t){const i=Object.create(null);return t&&Object.assign(i,t),i}function c(t){return"number"==typeof t&&isFinite(t)}function p(t,i,s,n,e,r,o,l,h,a,u){return t}function f(t){return(t.ownerDocument||t).defaultView}function m(t){return CSS.escape(t)}function d(t){return function(t,i){const s=[];for(let i=t.firstElementChild;i;i=i.nextElementSibling)!(function(t){let i;var s;return r(t)?i=t:1==(null==(s=t)?void 0:s.nodeType)&&(i=t.tagName),!!i&&i.toLowerCase().startsWith("i-")}(n=i)||n.nodeType===Node.ELEMENT_NODE&&(n.hasAttribute("placeholder")||n.hasAttribute("fallback")||n.hasAttribute("overflow")))&&s.push(i);var n;return s}(t)}var v={bubbles:!0,cancelable:!0};function _(t,i,s){const n=t.hasAttribute(i),e=void 0!==s?s:!n;return e!==n&&(e?t.setAttribute(i,""):t.removeAttribute(i)),e}function b(t){return t.hasAttribute("i-amphtml-ssr")}var A,g="amp-carousel-button-prev",P="amp-carousel-button-next",x="i-amphtml-carousel-has-controls",w="amp-carousel-slide",y="i-amphtml-slide-item",E="i-amphtml-slides-container",M="i-amphtml-slidescroll-no-snap",I="i-amphtml-slide-item-show",T="i-amphtml-scrollable-carousel-container";function R(){for(let t=0;t<arguments.length;t++)if(!arguments[t])throw new Error("Invalid server render")}function S(t,{className:i,enabled:s,title:n}){const e=B(t)?"presentation":"button",r=t.ownerDocument.createElement("div");return r.setAttribute("tabindex","0"),r.classList.add("amp-carousel-button",i),r.setAttribute("role",e),r.setAttribute("title",n),k(r,s),t.appendChild(r),r}function k(t,i){t.classList.toggle("amp-disabled",!i),t.setAttribute("aria-disabled",String(!i)),t.setAttribute("tabindex",String(i?0:-1))}function V(t){const i=d(t).length,s=B(t)?function(t){if(b(t))return function(t){const i=t.querySelector(`.${m(T)}`),s=Array.from(t.querySelectorAll(`.${m(w)}`));return R(i,s),{container:i,cells:s}}(t);const i=t.ownerDocument,s=d(t),n=i.createElement("div");return n.classList.add(T),n.setAttribute("tabindex","-1"),t.appendChild(n),s.forEach((t=>{t.classList.add(w,"amp-scrollable-carousel-slide"),n.appendChild(t)})),{cells:s,container:n}}(t):function(t){var i;if(b(t))return function(t){const i=t.querySelector(`.${m(E)}`),s=Array.from(t.querySelectorAll(`.${m(y)}`)),n=Array.from(t.querySelectorAll(`.${m(w)}`));return R(i,s,n),{slides:n,slidesContainer:i,slideWrappers:s}}(t);const s=t.ownerDocument,n=d(t);t.classList.add("i-amphtml-slidescroll");const e=s.createElement("div");e.setAttribute("tabindex","-1"),e.classList.add(E,M),e.setAttribute("aria-live","polite"),t.appendChild(e);const r=[];return n.forEach((t=>{t.classList.add(w);const i=s.createElement("div");i.classList.add(y),i.appendChild(t),e.appendChild(i),r.push(i)})),null===(i=r[0])||void 0===i||i.classList.add(I),{slidesContainer:e,slides:n,slideWrappers:r}}(t);return n(n({},function(t,i){if(b(t))return function(t){const i=t.querySelector(`.${m(g)}`),s=t.querySelector(`.${m(P)}`);return R(i,s),{prevButton:i,nextButton:s}}(t);(function(t,i){const s=i.documentElement;return["âš¡4email","amp4email"].some((t=>s.hasAttribute(t)))}(0,t.ownerDocument)||t.hasAttribute("controls"))&&t.classList.add(x);const s=t.hasAttribute("loop"),n=i>1?2:s?0:1;return{prevButton:S(t,{className:g,title:j(t,{index:String(s?i:0),total:String(i)}),enabled:t.hasAttribute("loop")}),nextButton:S(t,{className:P,title:O(t,{index:String(n),total:String(i)}),enabled:i>1})}}(t,i)),s)}function O(t,i){const s=t.getAttribute("data-next-button-aria-label")||"Next item in carousel",{index:n,total:e}=i;return C(t,{prefix:s,index:n,total:e})}function j(t,i){const s=t.getAttribute("data-prev-button-aria-label")||"Previous item in carousel",{index:n,total:e}=i;return C(t,{prefix:s,index:n,total:e})}function C(t,{index:i,prefix:s,total:n}){return B(t)?s:`${s} ${(t.getAttribute("data-button-count-format")||"(%s of %s)").replace("%s",i).replace("%s",n)}`}function B(t){return"slides"!==t.getAttribute("type")}function N(){return A||(A=Promise.resolve(void 0))}var z=class{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}},$="ArrowLeft",L="ArrowRight",F="fixed",W="fixed-height";function H(t,i,s={}){const{needsRootBounds:n,rootMargin:e,threshold:r}=s,o=function(t){return t.parent&&t.parent!=t}(i)&&(n||e)?i.document:void 0;return new i.IntersectionObserver(t,{threshold:r,root:o,rootMargin:e})}var U,X=new WeakMap,Y=new WeakMap;function D(t,i,s){const n=f(t);if(s){const e=H((t=>{i(t[t.length-1])}),n,s);return e.observe(t),()=>{e.unobserve(t)}}let e=X.get(n);e||X.set(n,e=H(G,n));let r=Y.get(t);return r||(r=[],Y.set(t,r)),r.push(i),e.observe(t),()=>{!function(t,i){const s=Y.get(t);if(!s)return;if(!function(t,i){const s=t.indexOf(i);return-1!=s&&(t.splice(s,1),!0)}(s,i))return;if(s.length)return;const n=f(t),e=X.get(n);null==e||e.unobserve(t),Y.delete(t)}(t,i)}}function G(t){const i=new Set;for(let s=t.length-1;s>=0;s--){const n=t[s],{target:e}=n;if(i.has(e))continue;i.add(e);const r=Y.get(e);if(r)for(let t=0;t<r.length;t++)(0,r[t])(n)}}function Z(t){const i=Object.getOwnPropertyDescriptor(t,"message");if(null!=i&&i.writable)return t;const{message:s,stack:n}=t,e=new Error(s);for(const i in t)e[i]=t[i];return e.stack=n,e}function J(t){let i=null,s="";for(var n,e=l(arguments,!0);!(n=e()).done;){const t=n.value;t instanceof Error&&!i?i=Z(t):(s&&(s+=" "),s+=t)}return i?s&&(i.message=s+": "+i.message):i=new Error(s),i}function q(t){var i,s;null===(i=(s=self).__AMP_REPORT_ERROR)||void 0===i||i.call(s,t)}function K(t,...i){try{return t.apply(null,i)}catch(t){!function(t){const i=J.apply(null,arguments);setTimeout((()=>{throw q(i),i}))}(t)}}var Q=["Webkit","webkit","Moz","moz","ms","O","o"],tt={"getPropertyPriority":()=>"","getPropertyValue":()=>""};function it(t,i,s){if(nt(i))return i;U||(U=u());let n=U[i];if(!n||s){if(n=i,void 0===t[i]){const s=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(i),e=function(t,i){for(let s=0;s<Q.length;s++){const n=Q[s]+i;if(void 0!==t[n])return n}return""}(t,s);void 0!==t[e]&&(n=e)}s||(U[i]=n)}return n}function st(t,i,s,n,e){const r=it(t.style,i,e);if(!r)return;const o=n?s+n:s;t.style.setProperty(function(t){const i=t.replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()));return Q.some((t=>i.startsWith(t+"-")))?`-${i}`:i}(r),o)}function nt(t){return t.startsWith("--")}function et(t,i){return s=>t+(i-t)*s}var rt=self.AMP_CONFIG||{},ot=("string"==typeof rt.thirdPartyFrameRegex?new RegExp(rt.thirdPartyFrameRegex):rt.thirdPartyFrameRegex,("string"==typeof rt.cdnProxyRegex?new RegExp(rt.cdnProxyRegex):rt.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/);function lt(t){if(!self.document||!self.document.head)return null;if(self.location&&ot.test(self.location.origin))return null;const i=self.document.head.querySelector(`meta[name="${t}"]`);return i&&i.getAttribute("content")||null}rt.thirdPartyUrl,rt.thirdPartyFrameHost,rt.cdnUrl||lt("runtime-host"),rt.errorReportingUrl,rt.betaErrorReportingUrl,rt.localDev,rt.geoApiUrl||lt("amp-geo-api");var ht=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function at(t,i=""){try{return decodeURIComponent(t)}catch(t){return i}}self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var ut=self.__AMP_LOG;function ct(t,i){throw new Error("failed to call initLogConstructor")}function pt(t){return ut.user||(ut.user=ft()),function(t,i){return i&&i.ownerDocument.defaultView!=t}(ut.user.win,t)?ut.userForEmbed||(ut.userForEmbed=ft()):ut.user}function ft(t){return ct()}function mt(){return ut.dev||(ut.dev=ct())}function dt(t,i,s,n,e,r,o,l,h,a,u){return t}function vt(t,i){return xt(t=function(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}(t),i)}function _t(t,i){return xt(Pt(gt(t)),i)}function bt(t,i){return function(t,i){const s=wt(t,i);if(s)return s;const n=yt(t);return n[i]=function(){const t=new z,{promise:i,reject:s,resolve:n}=t;return i.catch((()=>{})),{obj:null,promise:i,resolve:n,reject:s,context:null,ctor:null}}(),n[i].promise}(Pt(t),i)}function At(t,i){return wt(Pt(t),i)}function gt(t){return t.nodeType?(i=f(t),vt(i,"ampdoc")).getAmpDoc(t):t;var i}function Pt(t){const i=gt(t);return i.isSingleDoc()?i.win:i}function xt(t,i){dt(Et(t,i));const s=yt(t)[i];return s.obj||(dt(s.ctor),dt(s.context),s.obj=new s.ctor(s.context),dt(s.obj),s.context=null,s.resolve&&s.resolve(s.obj)),s.obj}function wt(t,i){const s=yt(t)[i];return s?s.promise?s.promise:(xt(t,i),s.promise=Promise.resolve(s.obj)):null}function yt(t){let i=t.__AMP_SERVICES;return i||(i=t.__AMP_SERVICES={}),i}function Et(t,i){const s=t.__AMP_SERVICES&&t.__AMP_SERVICES[i];return!(!s||!s.ctor)}var Mt=t=>function(t,i){const s=Pt(gt(t));return Et(s,i)?xt(s,i):null}(t,"action"),It=t=>function(t,i,s,n){const e=At(t,i);if(e)return e;const r=gt(t);return r.whenExtensionsKnown().then((()=>{const t=r.getExtensionVersion(s);return t?vt(r.win,"extensions").waitForExtension(s,t):null})).then((s=>s?n?At(t,i):bt(t,i):null))}(t,"amp-analytics-instrumentation","amp-analytics"),Tt=t=>_t(t,"owners"),Rt=t=>vt(t,"platform"),St=t=>xt(t,"timer"),kt=t=>vt(t,"vsync");function Vt(t,i,s,n){return e=>Ot.solveYValueFromXValue(e,0,0,t,i,s,n,1,1)}var Ot=class{static solveYValueFromXValue(t,i,s,n,e,r,o,l,h){return Ot.nr(Ot.rr(t,i,n,r,l),s,e,o,h)}static rr(t,i,s,n,e){const r=1e-6;let o=(t-i)/(e-i);if(o<=0)return 0;if(o>=1)return 1;let l=0,h=1,a=0;for(let u=0;u<8;u++){a=Ot.hr(o,i,s,n,e);const u=(Ot.hr(o+r,i,s,n,e)-a)/r;if(Math.abs(a-t)<r)return o;if(Math.abs(u)<r)break;a<t?l=o:h=o,o-=(a-t)/u}for(let u=0;Math.abs(a-t)>r&&u<8;u++)a<t?(l=o,o=(o+h)/2):(h=o,o=(o+l)/2),a=Ot.hr(o,i,s,n,e);return o}static hr(t,i,s,n,e){if(0==t)return i;if(1==t)return e;let r=Ot.ur(i,s,t),o=Ot.ur(s,n,t);const l=Ot.ur(n,e,t);return r=Ot.ur(r,o,t),o=Ot.ur(o,l,t),Ot.ur(r,o,t)}static nr(t,i,s,n,e){if(0==t)return i;if(1==t)return e;let r=Ot.ur(i,s,t),o=Ot.ur(s,n,t);const l=Ot.ur(n,e,t);return r=Ot.ur(r,o,t),o=Ot.ur(o,l,t),Ot.ur(r,o,t)}static ur(t,i,s){return t+s*(i-t)}},jt={LINEAR:t=>t,EASE:t=>Ot.solveYValueFromXValue(t,0,0,.25,.1,.25,1,1,1),EASE_IN:t=>Ot.solveYValueFromXValue(t,0,0,.42,0,1,1,1,1),EASE_OUT:t=>Ot.solveYValueFromXValue(t,0,0,0,0,.58,1,1,1),EASE_IN_OUT:t=>Ot.solveYValueFromXValue(t,0,0,.42,0,.58,1,1,1)},Ct={"linear":jt.LINEAR,"ease":jt.EASE,"ease-in":jt.EASE_IN,"ease-out":jt.EASE_OUT,"ease-in-out":jt.EASE_IN_OUT};function Bt(t){if(!t)return null;if(r(t)){if(-1!=(t=t).indexOf("cubic-bezier")){const i=t.match(/cubic-bezier\((.+)\)/);if(i){const t=i[1].split(",").map(parseFloat);if(4==t.length){for(let i=0;i<4;i++)if(isNaN(t[i]))return null;return Vt(t[0],t[1],t[2],t[3])}}return null}return Ct[t]}return t}var Nt,zt="Animation",$t=function(){},Lt=class{static animate(t,i,s,n){return new Lt(t).setCurve(n).add(0,i,1).start(s)}constructor(t,i){this.lr=t,this.cr=i||kt(self),this.ar=null,this.dr=[]}setCurve(t){return t&&(this.ar=Bt(t)),this}add(t,i,s,n){return this.dr.push({delay:t,func:i,duration:s,curve:Bt(n)}),this}start(t){return new Ft(this.cr,this.lr,this.dr,this.ar,t)}},Ft=class{constructor(t,i,s,n,e){this.cr=t,this.lr=i,this.dr=[];for(let t=0;t<s.length;t++){const i=s[t];this.dr.push({delay:i.delay,func:i.func,duration:i.duration,curve:i.curve||n,started:!1,completed:!1})}this.pr=e,this.jn=Date.now(),this.le=!0,this.Xt={};const r=new z;this.mr=r.promise,this.Ns=r.resolve,this._r=r.reject,this.Ar=this.cr.createAnimTask(this.lr,{mutate:this.gr.bind(this)}),this.cr.canAnimate(this.lr)?this.Ar(this.Xt):this.Pr(!1,0)}then(t,i){return t||i?this.mr.then(t,i):this.mr}thenAlways(t){const i=t||$t;return this.then(i,i)}halt(t){this.Pr(!1,t||0)}Pr(t,i){if(this.le){if(this.le=!1,0!=i){this.dr.length>1&&this.dr.sort(((t,i)=>t.delay+t.duration-(i.delay+i.duration)));try{if(i>0)for(let t=0;t<this.dr.length;t++)this.dr[t].func(1,!0);else for(let t=this.dr.length-1;t>=0;t--)this.dr[t].func(0,!1)}catch(i){mt().error(zt,"completion failed: "+i,i),t=!1}}t?this.Ns():this._r()}}gr(t){if(!this.le)return;const i=Date.now(),s=Math.min((i-this.jn)/this.pr,1);for(let t=0;t<this.dr.length;t++){const i=this.dr[t];!i.started&&s>=i.delay&&(i.started=!0)}for(let t=0;t<this.dr.length;t++){const i=this.dr[t];i.started&&!i.completed&&this.vr(i,s)}1==s?this.Pr(!0,0):this.cr.canAnimate(this.lr)?this.Ar(this.Xt):this.Pr(!1,0)}vr(t,i){let s,n;if(t.duration>0){if(s=Math.min((i-t.delay)/t.duration,1),n=s,t.curve&&1!=n)try{n=t.curve(s)}catch(t){return mt().error(zt,"step curve failed: "+t,t),void this.Pr(!1,0)}}else s=1,n=1;1==s&&(t.completed=!0);try{t.func(n,t.completed)}catch(t){return mt().error(zt,"step mutate failed: "+t,t),void this.Pr(!1,0)}}};function Wt(t,i,s,n){return function(t,i,s,n){let e=t,r=s,o=t=>{try{return r(t)}catch(t){var i,s;throw null===(i=(s=self).__AMP_REPORT_ERROR)||void 0===i||i.call(s,t),t}};const l=function(){if(void 0!==Nt)return Nt;Nt=!1;try{const t={get capture(){return Nt=!0,!1}};self.addEventListener("test-options",null,t),self.removeEventListener("test-options",null,t)}catch(t){}return Nt}(),h=!(null==n||!n.capture);return e.addEventListener(i,o,l?n:h),()=>{null==e||e.removeEventListener(i,o,l?n:h),r=null,e=null,o=null}}(t,i,s,n)}var Ht=class{constructor({element:t,go:i,nextButton:s,prevButton:n}){this.Ya=t,this.A8=i,this.i=f(t),this.Lm=n,this.Ym=s,this.I2=!1,this.E8()}E8(){var t;this.setupButtonInteraction(this.Lm,(()=>this.handlePrev())),this.setupButtonInteraction(this.Ym,(()=>this.handleNext())),this.Ya.hasAttribute("controls")?this.I2=!0:(t=this.i,vt(t,"input")).onMouseDetected((t=>{t&&(this.I2=!0,_(this.Ya,"i-amphtml-carousel-hide-buttons",!this.I2),this.Ya.classList.add(x))}),!0)}setupButtonInteraction(t,i){t.addEventListener("click",i),t.addEventListener("keydown",(t=>{t.defaultPrevented||"Enter"!=t.key&&" "!=t.key||(t.preventDefault(),i())}))}setControlsState({next:t,prev:i}){k(this.Lm,i),k(this.Ym,t)}hintControls(){this.I2||kt(this.i).mutate((()=>{const t="i-amphtml-carousel-button-start-hint";this.Ya.classList.add(t),St(this.i).delay((()=>{var i;(i=this.Ya,_t(i,"mutator")).measureMutateElement(this.Ya,null,(()=>{this.Ya.classList.remove(t),_(this.Ya,"i-amphtml-carousel-hide-buttons",!this.I2)}))}),4e3)}))}updateButtonTitles(t,i){this.Lm.title=t,this.Ym.title=i}handlePrev(){!this.Lm.classList.contains("amp-disabled")&&this.A8(-1,!0,!1)}handleNext(){!this.Ym.classList.contains("amp-disabled")&&this.A8(1,!0,!1)}},Ut=class extends t.BaseElement{constructor(t){super(t),this.pC=0,this.M8=0,this.I8=null,this.Ha=null,this.AC=null,this.ij=null,this.vd=null}isLayoutSupported(t){return function(t){return t==F||t==W}(t)}isRelayoutNeeded(){return!0}T8(){this.S8(),this.Ha.addEventListener("scroll",this.vm.bind(this)),this.Ha.addEventListener("keydown",this.QV.bind(this)),this.I8.forEach((t=>{Tt(this.element).setOwner(t,this.element)})),this.registerAction("goToSlide",(t=>{const{args:i}=t;if(i){const t=parseInt(i.index,10);this.goToSlide(t)}}),1),Mt(this.element).addToAllowlist("amp-carousel","goToSlide",["email"])}buildCallback(){const{cells:t,container:i,nextButton:s,prevButton:n}=V(this.element);this.Ha=i,this.I8=t,this.vd=new Ht({element:this.element,prevButton:n,nextButton:s,go:this.go.bind(this)}),this.T8()}layoutCallback(){return this.ij=D(this.element,(({isIntersecting:t})=>this.viewportCallback(t))),this.k8(this.pC),this.V8(this.pC,1),this.vd.setControlsState({prev:this.O8(),next:this.j8()}),N()}unlayoutCallback(){var t;return null===(t=this.ij)||void 0===t||t.call(this),this.ij=null,!0}viewportCallback(t){this.C8(this.pC,this.pC),t&&this.vd.hintControls()}go(t,i){const s=this.B8(this.pC,t),n=this.pC;if(s!=n)if(i){const t=et(n,s),i=200,e="ease-in-out";Lt.animate(this.element,(i=>{this.Ha.scrollLeft=t(i)}),i,e).thenAlways((()=>{this.N8(s)}))}else this.N8(s),this.Ha.scrollLeft=s}goToSlide(t){const i=this.I8.length;if(!isFinite(t)||t<0||t>=i)return this.user().error("amp-scrollable-carousel","Invalid [slide] value: %s",t),N();const s=this.pC;let n=s;this.measureMutateElement((()=>{n=this.z8(t)}),(()=>{if(n==s)return;const t=et(s,n);Lt.animate(this.element,(i=>{this.Ha.scrollLeft=t(i)}),200,"ease-in-out").thenAlways((()=>{this.N8(n)}))}))}z8(t){const i=this.element.offsetWidth;return this.I8[t].offsetLeft-(i-this.I8[t].offsetWidth)/2}vm(){const t=this.Ha.scrollLeft;this.pC=t,null===this.AC&&this.ZC(t)}QV(t){const{key:i}=t;i!=$&&i!=L||t.stopPropagation()}ZC(t){this.AC=St(this.win).delay((()=>{Math.abs(t-this.pC)<30?(this.AC=null,this.N8(this.pC)):this.ZC(this.pC)}),100)}N8(t){this.C8(t,this.M8),this.k8(t),this.V8(t,Math.sign(t-this.M8)),this.M8=t,this.pC=t,this.vd.setControlsState({prev:this.O8(),next:this.j8()})}B8(t,i){const s=this.element.offsetWidth,n=this.Ha.scrollWidth,e=t+i*s;return e<0?0:n>=s&&e>n-s?n-s:e}L8(t,i){const s=this.element.offsetWidth;for(let n=0;n<this.I8.length;n++){const e=this.I8[n];e.offsetLeft+e.offsetWidth>=t&&e.offsetLeft<=t+s&&i(e)}}k8(t){this.L8(t,(t=>{Tt(this.element).scheduleLayout(this.element,t)}))}V8(t,i){const s=this.B8(t,i);s!=t&&this.L8(s,(t=>{Tt(this.element).schedulePreload(this.element,t)}))}C8(t,i){const s=[];this.L8(t,(t=>{s.push(t)})),i!=t&&this.L8(i,(t=>{s.includes(t)||Tt(this.element).schedulePause(this.element,t)}))}O8(){return 0!=this.pC}j8(){const t=this.element.offsetWidth,i=this.Ha.scrollWidth,s=Math.max(i-t,0);return this.pC!=s}interactionNext(){this.vd.handleNext()}interactionPrev(){this.vd.handlePrev()}goCallback(t,i){this.go(t,i)}S8(){Wt(this.element,"touchmove",(t=>t.stopPropagation()),{passive:!0})}},Xt=/vertical/,Yt=new WeakMap,Dt=new WeakMap,Gt=new WeakMap;function Zt(t){let i=Yt.get(t);return i||(i=new t.ResizeObserver(Jt),Yt.set(t,i)),i}function Jt(t){const i=new Set;for(let s=t.length-1;s>=0;s--){const n=t[s],{target:e}=n;if(i.has(e))continue;i.add(e);const r=Dt.get(e);if(r){Gt.set(e,n);for(let t=0;t<r.length;t++){const{callback:i,type:s}=r[t];qt(s,i,n)}}}}function qt(t,i,s){if(0==t){const{contentRect:t}=s,{height:n,width:e}=t;K(i,{width:e,height:n})}else if(1==t){const{borderBoxSize:t}=s;let n;if(t)n=t.length>0?t[0]:{inlineSize:0,blockSize:0};else{const{target:t}=s,i=f(t),e=Xt.test(function(t,i){return t.getComputedStyle(i)||tt}(i,t).writingMode),{offsetHeight:r,offsetWidth:o}=t;let l,h;e?(h=o,l=r):(l=o,h=r),n={inlineSize:l,blockSize:h}}K(i,n)}}var Kt="__AMP__EXPERIMENT_TOGGLES",Qt="AMP-CAROUSEL",ti=class extends t.BaseElement{constructor(t){super(t),this.cr=null,this.F8=!1,this.eQ=[],this.W8=0,this.Q2=null,this.H8=[],this.U8=!1,this.X8=null,this.Y8=!1,this.D8=null,this.G8=!1,this.Z8=!1,this.qM=!1,this.J8=5e3,this.q8=null,this.K8=0,this.Q8=!1,this.B9=!1,this.z9=0,this.F9=null,this.W9=0,this.H9=0,this.X9=0,this.Y9=[];const i=Rt(this.win);this.yC=i.isIos(),this.rk=i.isSafari(),this.Ql=null,this.Z9=!!Rt(this.win).getIosVersionString().startsWith("10.3")||!this.yC&&!function(t,i){const s=function(t){var i,s,r,o,h;if(t[Kt])return t[Kt];t[Kt]=u();const a=t[Kt];p(a);const c=n(n({},null!==(i=t.AMP_CONFIG)&&void 0!==i?i:{}),null!==(s=t.AMP_EXP)&&void 0!==s?s:(f=(null===(r=t.__AMP_EXP)||void 0===r?void 0:r.textContent)||"{}",JSON.parse(f)));var f;for(const t in c){const i=c[t];"number"==typeof i&&i>=0&&i<=1&&(a[t]=Math.random()<i)}const m=null===(o=t.AMP_CONFIG)||void 0===o?void 0:o["allow-doc-opt-in"];if(e(m)&&m.length){const i=t.document.head.querySelector('meta[name="amp-experiments-opt-in"]');if(i)for(var d,v,_=l((null===(d=i.getAttribute("content"))||void 0===d?void 0:d.split(","))||[],!0);!(v=_()).done;){const t=v.value;m.includes(t)&&(a[t]=!0)}}Object.assign(a,function(t){var i;let s="";try{var n;"localStorage"in t&&(s=null!==(n=t.localStorage.getItem("amp-experiment-toggles"))&&void 0!==n?n:"")}catch(t){}const e=(null===(i=s)||void 0===i?void 0:i.split(/\s*,\s*/g))||[],r=u();for(var o,h=l(e,!0);!(o=h()).done;){const t=o.value;t&&("-"==t[0]?r[t.substr(1)]=!1:r[t]=!0)}return r}(t));const b=null===(h=t.AMP_CONFIG)||void 0===h?void 0:h["allow-url-opt-in"];if(e(b)&&b.length){const i=function(t){const i=u();if(!t)return i;let s;for(;s=ht.exec(t);){const t=at(s[1],s[1]),n=s[2]?at(s[2].replace(/\+/g," "),s[2]):"";i[t]=n}return i}(t.location.originalHash||t.location.hash);for(var A,g=l(b,!0);!(A=g()).done;){const t=A.value,s=i[`e-${t}`];"1"==s&&(a[t]=!0),"0"==s&&(a[t]=!1)}}return a}(t);return!!s["amp-carousel-chrome-scroll-snap"]}(this.win),this.J9=!1,this.fv=this.fv.bind(this),this.ij=null,this.vd=null}isLayoutSupported(t){return function(t){return t==F||t==W||"responsive"==t||"fill"==t||"flex-item"==t||"fluid"==t||"intrinsic"==t}(t)}isRelayoutNeeded(){return!0}T8(){const t=this.element.getAttribute("autoplay");var i,s,n,e,r,o,l,h,a,u,p;t&&(this.q8=parseInt(t,10),i=c(this.q8),pt().assert(i,s,n,e,r,o,l,h,a,u,p)),this.B9&&0!=this.q8&&this.q9(),this.registerAction("toggleAutoplay",(t=>{const{args:i}=t;i&&void 0!==i.toggleOn?this.P2(i.toggleOn):this.P2(!this.qM)}),1)}K9(){if(this.cr=this.getVsync(),this.Ql=Mt(this.element),this.Ql.addToAllowlist(Qt,"goToSlide",["email"]),this.F8=null!=function(t,i,s){const n=it(t.style,"scrollSnapType",void 0);if(n)return nt(n)?t.style.getPropertyValue(n):t.style[n]}(this.element),this.Z9&&(this.F8=!1),this.Q2.classList.toggle(M,this.Z9),this.F8){const t=this.win.document.createElement("div");t.classList.add("i-amphtml-carousel-start-marker"),this.Q2.appendChild(t);const i=this.win.document.createElement("div");i.classList.add("i-amphtml-carousel-end-marker"),this.Q2.appendChild(i)}this.eQ.forEach(((t,i)=>{const s=t.getAttribute("data-slide-id")||i.toString();this.Y9.push(s),Tt(this.element).setOwner(t,this.element)})),this.S8(),this.Q2.addEventListener("scroll",this.vm.bind(this)),this.Q2.addEventListener("keydown",this.QV.bind(this)),Wt(this.Q2,"touchmove",this.Q9.bind(this),{passive:!0}),Wt(this.Q2,"touchend",this.j6.bind(this),{passive:!0}),this.registerAction("goToSlide",(t=>{const{args:i}=t;i&&this.goToSlide(i.index,3)}),1)}attachedCallback(){(function(t,i,s){const n=t.ownerDocument.defaultView;if(!n)return;let e=Dt.get(t);if(e||(e=[],Dt.set(t,e),Zt(n).observe(t)),!e.some((t=>t.callback===s&&0===t.type))){e.push({type:0,callback:s});const i=Gt.get(t);i&&setTimeout((()=>qt(0,s,i)))}})(this.element,0,this.fv)}detachedCallback(){(function(t,i,s){const n=Dt.get(t);if(n&&(function(t,i){const n=[];let e=0;for(let i=0;i<t.length;i++){const o=t[i];(r=o).callback===s&&0===r.type?n.push(o):(e<i&&(t[e]=o),e++)}var r;e<t.length&&(t.length=e)}(n),0==n.length)){Dt.delete(t),Gt.delete(t);const i=t.ownerDocument.defaultView;i&&Zt(i).unobserve(t)}})(this.element,0,this.fv)}isLoopingEligible(){return this.W8>1}mutatedAttributesCallback(t){const i=t.slide;void 0!==i&&this.goToSlide(i,3)}Q9(){this.B6(),this.Y8=!0}viewportCallback(t){var i;t?(this.hj(),null===(i=this.vd)||void 0===i||i.hintControls()):this.B6()}interactionNext(){this.vd.handleNext()}interactionPrev(){this.vd.handlePrev()}goCallback(t,i,s){this.go(t,i,s)}go(t,i,s){const n=s?1:3;this.moveSlide(t,i,n),s?this.hj():this.B6()}N6(t){this.X8&&St(this.win).cancel(this.X8),this.X8=St(this.win).delay((()=>{if(this.X8=null,this.U8||this.Y8)return;const t=this.Q2.scrollLeft;this.F8?this.z6(t,1):this.L6(t,void 0,1)}),t)}j6(){const t=this.Z9?45:100;this.Y8=!1,this.N6(t)}fv(t){this.H9=t.width,this.J9=!0}buildCallback(){const{nextButton:t,prevButton:i,slideWrappers:s,slides:n,slidesContainer:e}=V(this.element);this.eQ=n,this.Q2=e,this.H8=s,this.W8=this.eQ.length,this.G8=this.element.hasAttribute("loop"),this.qM=this.element.hasAttribute("autoplay"),this.Q8=this.G8&&this.isLoopingEligible(),this.B9=this.qM&&this.isLoopingEligible(),this.vd=new Ht({element:this.element,go:this.go.bind(this),nextButton:t,prevButton:i}),this.vd.updateButtonTitles(this.getPrevButtonTitle(),this.getNextButtonTitle()),this.T8(),this.K9()}layoutCallback(){var t;if(this.ij=D(this.element,(({isIntersecting:t})=>this.viewportCallback(t))),"[i-amphtml-scale-animation]",(t=this.element).closest?t.closest("[i-amphtml-scale-animation]"):function(t,i,s){let n;for(n=t;n&&void 0!==n;n=n.parentElement)if(i(n))return n;return null}(t,(t=>function(t,i){const s=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector;return!!s&&s.call(t,"[i-amphtml-scale-animation]")}(t))))return N();if(this.J9||(this.H9=this.Q2.clientWidth),null===this.F9)this.F6(this.W9);else{const t=pt().assertNumber(this.F9,"E#19457 this.slideIndex_"),i=this.W6(t);Tt(this.element).scheduleLayout(this.element,this.eQ[t]),this.Q2.scrollLeft=i,this.X9=i}return N()}unlayoutCallback(){var t;return null===(t=this.ij)||void 0===t||t.call(this),this.ij=null,this.F9=null,!0}O8(){return this.Q8||this.F9>0}j8(){return this.Q8||this.F9<this.eQ.length-1}moveSlide(t,i,s){if(null!==this.F9){const n=this.j8(),e=this.O8();if(1==t&&n||-1==t&&e){let n=this.F9+t;if(-1==n?n=this.W8-1:n>=this.W8&&(n=0),i){const i=1!=t||e?this.H9:0;this.L6(i,t,s)}else this.H6(n,s)}}}vm(t){const i=this.Q2.scrollLeft;this.yC||this.rk||this.U6(i);const s=this.F8?200:this.yC?45:100;this.N6(s),this.X9=i}QV(t){const{key:i}=t;i!=$&&i!=L||t.stopPropagation()}U6(t){const i=this.Q2.scrollWidth;-1==this.z9&&t>=this.X9||1==this.z9&&t<=this.X9?this.L6(t).then((()=>{this.z9=0})):t<0?this.z9=-1:t+this.H9>i?this.z9=1:this.z9=0}L6(t,i,s){this.U8=!0;let n=this.X6(t)-this.F9;const e=this.O8();let r=e?this.H9:0;return 0!=n||1!=i&&-1!=i||(n=i),1==n||-1!=n&&n==-1*(this.W8-1)?r=e?2*this.H9:this.H9:-1!=n&&n!=this.W8-1||(r=0),this.Y6(t,r).then((()=>{this.z6(r,s)}))}X6(t){if(!t&&!this.H9)return 0;const i=Math.round(t/this.H9);let s=0;const n=this.O8(),e=this.j8();n&&e?s=i-1:e?s=i:n&&(s=i-1);let r=this.F9+s;return r=this.Q8?r<0?this.W8-1:r>=this.W8?0:r:r<0?0:r>=this.W8?this.W8-1:r,r}getPrevButtonTitle(){const t=this.C2(this.F9),i=(null==t?0:t)+1;return j(this.element,{index:String(i),total:String(this.W8)})}getNextButtonTitle(){const t=this.z2(this.F9),i=(null==t?this.W8-1:t)+1;return O(this.element,{index:String(i),total:String(this.W8)})}z6(t,i){if(!c(t)||null===this.F9)return;this.U8=!0;const s=this.X6(t);this.cr.mutate((()=>{this.H6(s,i),this.cr.mutate((()=>{this.U8=!1}))}))}goToSlide(t,i){const s=parseInt(t,10);!isFinite(s)||s<0||s>=this.W8?this.user().error(Qt,"Invalid [slide] value: ",t):null!==this.F9?this.H6(s,i):this.W9=s}C2(t){return t-1>=0?t-1:this.Q8?this.W8-1:null}z2(t){return t+1<this.W8?t+1:this.Q8?0:null}F6(t){var i,s;const{W8:n}=this;if((t=t)<0||t>=n||this.F9==t)return!1;const e=this.C2(t),r=this.z2(t),o=[];return null!=e&&o.push(e),o.push(t),null!=r&&r!==e&&o.push(r),void 0===this.eQ[t]?(mt().error(Qt,"Attempting to access a non-existant slide %s / %s",t,n),!1):(o.forEach(((i,s)=>{this.Q8&&st(this.H8[i],"order",s+1),this.H8[i].classList.add(I);const n=Tt(this.element);i==t?(n.scheduleLayout(this.element,this.eQ[i]),n.scheduleResume(this.element,this.eQ[i]),this.eQ[i].setAttribute("aria-hidden","false")):(n.schedulePreload(this.element,this.eQ[i]),this.eQ[i].setAttribute("aria-hidden","true"))})),this.Q2.scrollLeft=this.W6(t),this.bK(t),this.F9=t,this.q8&&this.F9===this.W8-1&&(this.K8++,this.K8==this.q8&&this.D6()),this.G6(o),null===(i=this.vd)||void 0===i||i.setControlsState({prev:this.O8(),next:this.j8()}),null===(s=this.vd)||void 0===s||s.updateButtonTitles(this.getPrevButtonTitle(),this.getNextButtonTitle()),!0)}H6(t,i=1){if(this.F6(t)){const s="slideChange",n=function(t,i,s,n){const e={detail:s};return Object.assign(e,void 0),new t.CustomEvent(i,e)}(this.win,`slidescroll.${s}`,{"index":t});this.Ql.trigger(this.element,s,n,i),function(t,i,s,n){const e=s||{};p(t.ownerDocument);const r=t.ownerDocument.createEvent("Event");r.data=e;const{bubbles:o,cancelable:l}=v;r.initEvent(i,o,l),t.dispatchEvent(r)}(this.element,s,{index:t,actionTrust:i})}}W6(t){let i=this.H9;return(!this.Q8&&0==t||this.eQ.length<=1)&&(i=0),i}G6(t){const{W8:i}=this;for(let s=0;s<i;s++)this.H8[s].classList.contains(I)&&(t.includes(s)||(this.Q8&&st(this.H8[s],"order",""),this.H8[s].classList.remove(I),this.eQ[s].removeAttribute("aria-hidden")),this.F9!=s&&Tt(this.element).schedulePause(this.element,this.eQ[s]))}Y6(t,i){if(t==i)return N();const s=et(t,i),n=Vt(.8,0,.6,1),e=this.Q2;return Lt.animate(e,(t=>{this.Q2.scrollLeft=s(t)}),80,n).thenAlways()}S8(){Wt(this.element,"touchmove",(t=>t.stopPropagation()),{passive:!0})}bK(t){let i=t-this.F9;if(0==i)return;1!==Math.abs(i)&&(i=i<0?1:-1,null===this.F9&&(i=1));const s={"fromSlide":null===this.F9?"null":this.Y9[this.F9],"toSlide":this.Y9[t]};this.AJ("amp-carousel-change",s),1==i?this.AJ("amp-carousel-next",s):this.AJ("amp-carousel-prev",s)}AJ(t,i){!function(t,i,s={},n=!0){It(t).then((e=>{e&&e.triggerEventForTarget(t,i,s,n)}))}(this.element,t,i)}q9(){const t=Number(this.element.getAttribute("delay"));t>0&&(this.J8=Math.max(1e3,t)),this.G8||(this.element.setAttribute("loop",""),this.Z8=!0,this.G8=!0,this.Q8=!0)}hj(){this.B9&&0!=this.q8&&(this.B6(),this.D8=St(this.win).delay(this.go.bind(this,1,!0,!0),this.J8))}P2(t){if(t==this.B9)return;const i=this.B9;this.qM=t,this.B9=this.qM&&this.isLoopingEligible(),!i&&this.B9&&this.q9(),this.B9?this.hj():this.B6()}B6(){null!==this.D8&&(St(this.win).cancel(this.D8),this.D8=null)}D6(){this.B6(),this.Z8&&(this.element.removeAttribute("loop"),this.Z8=!1,this.G8=!1,this.Q8=!1),this.qM=!1,this.B9=this.qM&&this.isLoopingEligible()}},ii=class extends t.BaseElement{upgradeCallback(){return B(this.element)?new Ut(this.element):new ti(this.element)}};t.registerElement("amp-carousel",ii,'.amp-carousel-slide>.i-amphtml-replaced-content{-o-object-fit:contain;object-fit:contain}.amp-carousel-button{position:absolute;box-sizing:border-box;top:50%;height:34px;width:34px;border-radius:2px;opacity:0;pointer-events:all;background-color:rgba(0,0,0,.5);background-position:50% 50%;background-repeat:no-repeat;transform:translateY(-50%);visibility:hidden;z-index:10}.amp-carousel-button:focus{border:1px solid #000;outline:1px solid #fff}.amp-mode-mouse .amp-carousel-button,amp-carousel.i-amphtml-carousel-has-controls .amp-carousel-button,amp-carousel[controls] .amp-carousel-button{opacity:1;visibility:visible}.amp-carousel-button-prev{left:16px;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="%23fff"><path d="M15 8.25H5.87l4.19-4.19L9 3 3 9l6 6 1.06-1.06-4.19-4.19H15v-1.5z"/></svg>\');background-size:18px 18px}.amp-carousel-button-next{right:16px;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="%23fff"><path d="M9 3 7.94 4.06l4.19 4.19H3v1.5h9.13l-4.19 4.19L9 15l6-6z"/></svg>\');background-size:18px 18px}.i-amphtml-carousel-button-start-hint .amp-carousel-button:not(.amp-disabled){animation:i-amphtml-carousel-hint 1s ease-in 3s 1 normal both}.amp-mode-mouse .i-amphtml-carousel-button-start-hint .amp-carousel-button:not(.amp-disabled){animation:none}@keyframes i-amphtml-carousel-hint{0%{opacity:1;visibility:visible}to{opacity:0;visibility:hidden}}amp-carousel .amp-carousel-button.amp-disabled{animation:none;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}amp-carousel[i-amphtml-carousel-hide-buttons] .amp-carousel-button-next,amp-carousel[i-amphtml-carousel-hide-buttons] .amp-carousel-button-prev{opacity:0;pointer-events:none;visibility:visible!important}.i-amphtml-slides-container{display:-ms-flexbox!important;display:flex!important;-ms-flex-wrap:nowrap;flex-wrap:nowrap;height:100%!important;left:0;overflow-x:auto!important;overflow-y:hidden!important;position:absolute!important;top:0;width:100%!important;scroll-snap-type:x mandatory!important;scrollbar-width:none;padding-bottom:20px!important;box-sizing:content-box!important;-webkit-overflow-scrolling:touch!important}.i-amphtml-slides-container::-webkit-scrollbar{display:none!important}.i-amphtml-slides-container.i-amphtml-no-scroll{overflow-x:hidden!important}.i-amphtml-slide-item{-ms-flex-align:center!important;align-items:center!important;display:none!important;-ms-flex:0 0 100%!important;flex:0 0 100%!important;height:100%!important;-ms-flex-pack:center!important;justify-content:center!important;position:relative!important;scroll-snap-align:start!important;width:100%!important}.i-amphtml-slide-item>*{height:100%;width:100%;overflow:hidden!important}.i-amphtml-slide-item-show{display:-ms-flexbox!important;display:flex!important}.i-amphtml-carousel-end-marker,.i-amphtml-carousel-start-marker{background-color:transparent!important;display:block!important;-ms-flex:0 0 1px!important;flex:0 0 1px!important;height:100%!important;position:relative!important;scroll-snap-align:start!important;width:1px!important}.i-amphtml-carousel-start-marker{-ms-flex-order:-1!important;order:-1!important;margin-left:-1px!important}.i-amphtml-carousel-end-marker{-ms-flex-order:100000000!important;order:100000000!important;margin-right:-1px!important}.i-amphtml-slidescroll-no-snap.i-amphtml-slides-container{scroll-snap-type:none!important}.i-amphtml-slidescroll-no-snap .i-amphtml-slide-item{scroll-snap-align:none!important}.i-amphtml-slidescroll-no-snap.i-amphtml-slides-container.i-amphtml-no-scroll{-webkit-overflow-scrolling:auto!important}.amp-scrollable-carousel-slide{display:inline-block!important;margin-left:8px}.amp-scrollable-carousel-slide:first-child{margin-left:0px}.i-amphtml-scrollable-carousel-container{white-space:nowrap!important;overflow-x:auto!important;overflow-y:hidden!important;-webkit-overflow-scrolling:touch!important}\n/*# sourceURL=/extensions/amp-carousel/0.1/amp-carousel.css*/')})();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-carousel-0.1.mjs.map