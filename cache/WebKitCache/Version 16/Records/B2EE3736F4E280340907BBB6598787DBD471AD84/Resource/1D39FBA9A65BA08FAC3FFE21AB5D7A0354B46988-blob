"use strict";(()=>{var je=Object.defineProperty;var s=(A,q)=>je(A,"name",{value:q,configurable:!0});(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[6876],{13097:(A,q,u)=>{var d=u(13462),L=u.n(d),c=u(59753);(0,c.on)("submit",".js-braintree-encrypt",function({currentTarget:e}){const t=e.getAttribute("data-braintree-key");if(!t)throw new Error("Missing `data-braintree-key` attribute on element");window.Braintree.create(t).encryptForm(e)});var g=u(64463),S=u(34782);(0,c.on)("submit",".js-find-coupon-form",function(e){const t=e.target;if(!(t instanceof HTMLFormElement))return;const n=t.action,r=document.querySelector("#code");window.location.href=`${n}/${encodeURIComponent(r.value)}`,e.preventDefault()}),(0,c.on)("click",".js-choose-account",function(e){for(const r of document.querySelectorAll(".js-plan-row, .js-choose-plan"))r.classList.remove("selected");const t=document.querySelector(".js-plan");t.value="";for(const r of document.querySelectorAll(".js-billing-section"))r.classList.add("has-removed-contents");const n=e.currentTarget.closest(".js-account-row");n&&E(n)}),(0,c.on)("click",".js-choose-plan",function(e){if(!(e.target instanceof Element))return;const t=e.target.closest(".js-plan-row");l(t)}),(0,g.N7)(".js-choose-plan-radio:checked",{add(e){l(e.closest(".js-plan-row"))}}),(0,g.N7)(".js-plan-row.selected",{add:f}),(0,g.N7)(".js-choose-account.selected",{add:f});function f(e){const t=e.closest("form");if(!t)return;const n=t.querySelector(".js-redeem-button");n instanceof HTMLButtonElement&&(n.disabled=e.classList.contains("free-plan"))}s(f,"enableNextButton");function E(e){const t=e.getAttribute("data-login"),n=e.getAttribute("data-plan");if(!t||!n)return;for(const b of document.querySelectorAll(".js-account-row, .js-choose-account"))b.classList.remove("selected");e.classList.add("selected");const r=e.querySelector(".js-choose-account");r&&r.classList.add("selected");const o=document.querySelector(".js-account");o&&(o.value=t);const i=document.querySelector(".js-plan-section");i&&(i.hidden=!1);for(const b of document.querySelectorAll(".js-billing-plans"))b.hidden=!0;const a=document.querySelector(`.js-billing-plans[data-login='${t}']`);if(!a)return;a.hidden=!1;const m=a.querySelectorAll(".js-plan-row"),v=m.length===1?m[0]:a.querySelector(`[data-name='${n}']`);v instanceof Element&&l(v)}s(E,"selectAccount");function C(e){const t=e.getAttribute("data-login"),n=e.getAttribute("data-plan");if(!t||!n)return;for(const a of document.querySelectorAll(".js-billing-plans"))a.hidden=!0;const r=document.querySelector(`.js-billing-plans[data-login='${t}']`);if(!r)return;r.hidden=!1;const o=r.querySelectorAll(".js-plan-row"),i=o.length===1?o[0]:r.querySelector(`[data-name='${n}']`);i instanceof Element&&l(i)}s(C,"selectPlanForDataCollection");function l(e){const t=e.getAttribute("data-name"),n=e.closest(".js-billing-plans");if(!n)return;const r=n.getAttribute("data-login");if(!r)return;const o=n.getAttribute("data-has-billing")==="true",i=parseInt(e.getAttribute("data-cost")||"",10);for(const w of document.querySelectorAll(".js-plan-row, .js-choose-plan"))w.classList.remove("selected");e.classList.add("selected");const a=e.querySelector(".js-choose-plan");a&&a.classList.add("selected");const m=e.querySelector(".js-choose-plan-radio");m instanceof HTMLInputElement&&(m.checked=!0);const v=document.querySelector(".js-plan");if(v&&(v.value=t||""),!document.querySelector(".js-coupons-data-collection-wrapper")){if(i===0||o){const w=document.querySelector(".js-billing-section");w&&w.classList.add("has-removed-contents")}else if(r){const w=document.querySelector(`.js-billing-section[data-login='${r}']`);w&&w.classList.remove("has-removed-contents")}}}s(l,"selectPlan"),async function(){await S.x;const e=document.querySelector(".js-account-row.selected");e&&E(e);const t=document.querySelector(".js-coupons-data-collection-wrapper");if(t)C(t);else{const n=document.querySelector(".js-plan-row.selected");n instanceof Element&&l(n)}}(),(0,c.on)("click",".js-enter-new-card",function(e){const t=e.currentTarget.closest(".js-zuora-existing-card"),n=document.querySelector(".js-billing-section"),r=document.querySelector(".js-enter-new-card");t.classList.add("d-none"),n.hidden=!1;const o=n.querySelector("iframe");o.setAttribute("width","100%");const i=r.getAttribute("data-sdn-data-collection")==="true"?"237":"677";o.setAttribute("height",i)}),(0,c.on)("click",".js-edit-card-details",function(e){const t=document.getElementById("zuora_payment"),n=e.currentTarget.closest(".js-zuora-billing-info"),r=document.querySelector(".js-billing-section");t.classList.toggle("d-none"),n.classList.toggle("d-none"),r.classList.remove("PaymentMethod--creditcard-added"),r.classList.add("PaymentMethod--creditcard")});const p={Australia:"AU00 000 000 000",Austria:"ATU000000000",Belgium:"BE0000000000",Bulgaria:"BG000000000",Croatia:"HR00000000000",Cyprus:"CY000000000X","Czech Republic":"CZ00000000...",Denmark:"DK00 00 00 00",Estonia:"EE000000000",Finland:"FI00000000",France:"FRXX 000000000",Germany:"DE000000000",Greece:"EL000000000",Hungary:"HU00000000",Iceland:"IS...",India:"IN00000000000",Ireland:"IE0000000XA",Italy:"IT00000000000",Japan:"000000000000",Latvia:"LV00000000000",Lithuania:"LT000000000...",Luxembourg:"LU00000000",Malta:"MT00000000",Netherlands:"NL000000000B00","New Zealand":"NZ0000000000000",Norway:"NO000000000MVA",Poland:"PL0000000000",Portugal:"PT000000000",Romania:"RO0000000000",Russia:"RU0000000000",Slovakia:"SK0000000000",Slovenia:"SI00000000",Spain:"ES...",Sweden:"SE000000000000",Switzerland:"CHE000000000TVA",Taiwan:"00000000","United Kingdom":"GB000000000"},h=["Angola","Antigua and Barbuda","Aruba","Bahamas","Belize","Benin","Botswana","Cameroon","Comoros","Congo (Brazzaville)","Congo (Kinshasa)","Cook Islands","C\xF4te d'Ivoire","Djibouti","Dominica","Fiji","French Southern Lands","Ghana","Guyana","Hong Kong","Ireland","Kiribati","Korea, North","Malawi","Maritania","Mauritius","Montserrat","Nauru","Niue","Qatar","Saint Kitts and Nevis","Saint Lucia","Sao Tome and Principe","Seychelles","Sierra Leone","Sint Maarten (Dutch part)","Solomon Islands","Somalia","Suriname","Syria","Togo","Tokelau","Tonga","United Arab Emirates","Vanuatu","Yemen","Zimbabwe"],_="United States of America",P="Canada";function M(e){let t;const n=e.options[e.selectedIndex];n&&(t=n.textContent);const r=t?p[t]:null,o=e.closest(".js-setup-creditcard");o.classList.toggle("is-vat-country",r!=null);const i=o.querySelector(".js-vat-help-text");i.textContent=r?`(${r})`:"";const a=o.querySelector(".js-select-state");if(o.classList.toggle("is-international",t!==_&&t!==P),a.required=t===_,t!==_&&(a.value=""),t===P){const b=o.querySelector(".js-select-province"),w=o.querySelector(".js-region-label");w.textContent="Province",b.disabled=!1,b.required=!0,a.classList.add("d-none"),b.classList.remove("d-none")}else{const b=o.querySelector(".js-select-province"),w=o.querySelector(".js-region-label");w.textContent="State",b.disabled=!0,b.required=!1,b.value="",a.classList.remove("d-none"),b.classList.add("d-none")}const m=o.querySelector(".js-postal-code-field"),v=h.indexOf(t||"")>=0;o.classList.toggle("no-postcodes",v),m.required=!v,v&&(m.value="")}s(M,"setupCountryFields"),(0,g.N7)(".js-select-country",{constructor:HTMLSelectElement,initialize(e){M(e),e.form&&(0,c.f)(e.form,"change"),e.addEventListener("change",function(){M(e)})}}),(0,c.on)("change",".js-payment-methods .js-payment-method",T),(0,c.on)("click",".js-payment-method-href",T);function T(e){if(!(e.currentTarget instanceof Element))return;const t=e.currentTarget.closest(".js-payment-methods"),n=e.currentTarget.getAttribute("data-selected-tab"),r=t.querySelectorAll(".js-selected-payment-method");for(const i of r)i.classList.remove("active");t.querySelector(`.${n}`).classList.add("active");const o=t.closest(".js-billing-section");if(o)if(n==="pay-with-paypal"){o.classList.add("PaymentMethod--paypal"),o.classList.remove("PaymentMethod--creditcard"),o.classList.remove("PaymentMethod--creditcard-added");const i=document.querySelector(".js-zuora-billing-info"),a=document.querySelector(".js-zuora-payment-page");i.classList.add("d-none"),a.classList.remove("d-none")}else n==="pay-by-credit-card"&&(o.classList.remove("PaymentMethod--paypal"),o.classList.add("PaymentMethod--creditcard"))}s(T,"handlePaymentMethodChange"),(0,g.N7)(".js-selected-payment-method:not(.active)",{add(e){e.classList.add("has-removed-contents")},remove(e){e.classList.remove("has-removed-contents")}}),(0,g.N7)(".js-billing-payment-methods",function(e){e.classList.remove("disabled")});const R=["paypal-loading","paypal-logged-in","paypal-logged-out","paypal-down"];function O(e,t,n){const{onSuccess:r}=n;return new Promise(o=>L().setup(e,t,Object.assign({},n,{onSuccess:()=>{r(),o()}})))}s(O,"braintreeSetup");function k(e,t){e.classList.remove(...R),R.indexOf(t)>=0&&e.classList.add(t)}s(k,"setPaypalState");async function z(e){const t=e.getAttribute("data-token");if(t)return t;const n=await fetch("/account/billing/client_token",{headers:{"X-Requested-With":"XMLHttpRequest"}});if(!n.ok)throw new Error("Response is not OK");return await n.text()}s(z,"getClientToken");async function x(e){const t=e.closest(".js-payment-methods");if(!t.classList.contains("paypal-loading")&&!t.classList.contains("paypal-logged-in")){e.innerHTML="",k(t,"paypal-loading");try{const n=await z(t);t.hasAttribute("data-token")||t.setAttribute("data-token",n);const r=e.getAttribute("data-nonce-field"),o=t.querySelector(r);await O(n,"paypal",{container:e,displayName:"GitHub",paymentMethodNonceInputField:o,enableCORS:!0,onSuccess(){k(t,"paypal-logged-in");const m=document.querySelector(".js-awaiting-payment");m&&m.getAttribute("data-toggle-plan-upgrade-visibility")==="true"&&m.toggleAttribute("hidden")},onReady(){k(t,"paypal-logged-out")}});const i=document.querySelector("#bt-pp-cancel");i.setAttribute("type","button");const a=document.querySelector(".js-paypal-cancel-icon").cloneNode(!0);a instanceof Element&&a.classList.remove("d-none"),i.appendChild(a)}catch(n){throw k(t,"paypal-down"),n}}}s(x,"setupBraintreePaypal"),(0,c.on)("click","#bt-pp-cancel",function(e){const t=e.currentTarget.closest(".js-payment-methods");k(t,"paypal-logged-out");const n=e.currentTarget.closest(".js-paypal-container");x(n)}),(0,g.N7)(".js-paypal-container",{add(e){e.closest(".active")!=null&&x(e)}});var H=u(57443),y=u(43682);(0,g.N7)("input.js-plan-choice:checked",{constructor:HTMLInputElement,add(e){const t=e.value==="free";for(const a of document.querySelectorAll(".js-plan-choice-label"))a.classList.toggle("open",a===e);const n=e.closest(".js-plan-choice-label");if(n){const a=n.querySelector(".js-addon-purchase-field");a instanceof HTMLInputElement&&(0,H.dY)(a),e.checked&&n.classList.add("open")}const r=e.classList.contains("js-data-ghe-cloud-trial")&&e.value==="business_plus",o=t||r;for(const a of document.querySelectorAll(".js-billing-section"))a.classList.toggle("has-removed-contents",o);if(t){const a=document.querySelector(".js-contact-us");a!=null&&a.classList.add("d-none");const m=document.querySelector(".js-purchase-button");m!=null&&m.removeAttribute("disabled")}if((document.querySelector("input.js-enterprise-choice[value=server]:checked")&&e.value==="business_plus")===!0){const a=document.querySelector(".SignUpContinueActions");a!=null&&a.classList.add("has-removed-contents")}}}),(0,c.on)("change","input.js-duration-change",function({currentTarget:e}){const t=document.querySelector(".js-upgrade-plan-change:checked"),n=document.querySelector("#js-pjax-container");let r=`?plan_duration=${e.value}`;document.querySelector(".js-transform-user")&&(r=`${r}&transform_user=1`),t instanceof HTMLInputElement?(0,y.ZP)({url:`${r}&new_plan=${t.value}`,container:n}):(0,y.ZP)({url:r,container:n})}),(0,c.on)("change","input.js-upgrade-plan-change",function({currentTarget:e}){const t=document.querySelector("#js-pjax-container");let n=`?new_plan=${e.value}`;document.querySelector(".js-transform-user")&&(n=`${n}&transform_user=1`),(0,y.ZP)({url:n,container:t})}),(0,c.on)("change","input.js-org-duration-change",function({currentTarget:e}){const t=document.querySelector("#js-pjax-container"),n=new URL(document.location.href,window.location.origin).searchParams;if(document.querySelectorAll(".js-experiment-seats").length>0){const r=document.querySelector("#seats");n.set("plan_duration",e.value),n.set("memberships",r.value)}else{const r=document.querySelector(".js-upgrade-org-plan-change:checked"),o=document.querySelector(".js-account-name");n.set("plan",r.value),n.set("plan_duration",e.value),n.set("org",o.value)}e.hasAttribute("data-show-team-as-link")&&n.set("source","trial_upgrade"),(0,y.ZP)({url:`?${n.toString()}`,container:t})}),(0,c.on)("change","input.js-upgrade-org-plan-change",function({currentTarget:e}){const t=document.querySelector(".js-account-name"),n=document.querySelector("#js-pjax-container"),r=new URL(document.location.href,window.location.origin).searchParams;r.set("plan",e.value),r.set("org",t.value),(0,y.ZP)({url:`?${r.toString()}`,container:n})});var j=u(46263);let B=null,F="month";async function D(e){var t;const n=e.value,r=new URL(e.getAttribute("data-url"),window.location.origin),o=new URLSearchParams(r.search.slice(1));o.append("seats",n),document.querySelectorAll(".js-experiment-seats").length>0&&(F=((t=document.querySelector(".js-org-duration-change:checked"))==null?void 0:t.value)||"month",o.append("experiment","true"),o.append("plan_duration",F)),r.search=o.toString(),B==null||B.abort();const{signal:i}=B=new AbortController;let a=null;try{const v=await fetch(r.toString(),{signal:i,headers:{Accept:"application/json"}});if(!v.ok)return;a=await v.json()}catch{}if(i.aborted||!a)return;const m=a.selectors;for(const v in m)for(const b of document.querySelectorAll(v))b.innerHTML=m[v]}s(D,"updateTotals"),(0,g.N7)(".js-trial-upgrade-seats",{constructor:HTMLInputElement,add(e){D(e),(0,H.oq)(e,function(){D(e)})}});let N=1;const W=300;(async function(){await S.x;const e=document.getElementById("seats"),t=document.getElementById("plan_duration_month");t&&(F=t.checked?"month":"year"),e&&(N=Number(e.getAttribute("data-minimum")),Number(e.value)<N&&(e.value=N.toString()),U(e),D(e))})(),document.addEventListener("pjax:end",function(){const e=document.getElementById("seats");U(e)}),(0,c.on)("click","#increase-seats-number",function(){const e=document.getElementById("seats");if(!e)return;const t=Number(e.value)+1;e.value=t.toString(),document.querySelector(".js-minimum-seats").hidden=t>=N,U(e),D(e)}),(0,c.on)("click","#decrease-seats-number",function(){const e=document.getElementById("seats");if(!e)return;const t=Number(e.value)-1;e.value=t>=N?t.toString():N.toString(),document.querySelector(".js-minimum-seats").hidden=t>=N,U(e),D(e)});const ee=(0,j.D)(e=>{const t=e.target;if(!t)return;const n=Number(t.value);(!n||n<N)&&(t.value=N.toString(),document.querySelector(".js-minimum-seats").hidden=!1),U(t),D(t)},200);function U(e){if(!e)return;const t=Number(e.value),n=document.getElementById("plan_duration_year");n.checked&&n.classList.contains("js-discount-allowed")&&t>W?(e.value=W.toString(),document.querySelector(".js-maximum-seats").hidden=!1):document.querySelector(".js-maximum-seats").hidden=!0}s(U,"limitYearlyWithDiscount"),(0,g.N7)("#seats",e=>{e.addEventListener("keyup",ee)});var $=u(45975),te=u(26360),ne=u(81654);async function oe(e){const t=e.getAttribute("data-url"),n=e.getAttribute("data-organization-id"),r=e.getAttribute("data-business-id"),o=e.getAttribute("data-signature-view-context"),i=e.getAttribute("data-manual-payment"),a=new URLSearchParams;n&&a.append("organization_id",n),o&&a.append("view_context",o),r&&a.append("business_id",r),i&&a.append("manual_payment",i);const m=await fetch(`${t}?${a.toString()}`,{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(!m.ok){const b=e.getAttribute("data-general-signature-error-message")||"";V(b);const w=new Error,I=m.statusText?` ${m.statusText}`:"";throw w.message=`HTTP ${m.status}${I}`,w}const v=await m.json();if(e.classList.contains("js-zuora-payment-page")){if(v.error){V(v.error);return}const b=e.getAttribute("data-id");Z(e,v,{creditCardHolderName:b},ie)}else Z(e,v,{creditCardHolderName:"GitHub Organization"},ce)}s(oe,"setupZuoraHostedPaymentsPage");async function re(e,t,n){const r=new URLSearchParams;r.append("payment_method_id",e.refId),t&&r.append("organization_id",t);const o=await fetch(`/settings/billing/payment_method?${r.toString()}`,{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(!o.ok){const i=new Error,a=o.statusText?` ${o.statusText}`:"";throw i.message=`HTTP ${o.status}${a}`,i}n(await o.json())}s(re,"fetchPaymentMethodDetails");function ae(e){return(t,n,r)=>{var o;let i=r;const a=JSON.parse(e.getAttribute("data-error-messages"));switch(t){case"error":(0,ne.Fk)(e),((o=i.match(/Attempt_Exceed_Limitation/))==null?void 0:o.input)?i=a.attempts_exceeded_limit_error:i=a.processor_declined_error;break}$.Z.sendErrorMessageToHpm(t,i)}}s(ae,"errorMessageCallback");async function K(e,t,n=5,r=1e3){if(n===0)throw new Error("Max retries exhausted");let o=`/settings/billing/bill_pay/${e}`;if(t){const a=new URLSearchParams;a.append("organization_id",t),o=`${o}?${a.toString()}`}const i=await fetch(o,{headers:{"X-Requested-With":"XMLHttpRequest"}});if(i.status===200)return i;if(i.status===202)return await new Promise(a=>setTimeout(a,r)),K(e,t,n-1,r*1.5);throw new Error(`Unexpected ${i.status} response from poll endpoint`)}s(K,"pollPayment");function se(e,t){return async n=>{if(t(n),n.success==="true"){const r=document.querySelector(".js-payment-method-form");if(r){if(!(r instanceof HTMLFormElement))return;const o=e.getAttribute("data-redirect-to");if(o)if(n.AuthorizeResult==="Approved"){const i=e.getAttribute("data-organization-id"),a=document.querySelector(".js-payment-verification-spinner"),m=document.querySelector(".js-payment-verification-success"),v=document.querySelector(".js-payment-method-section-wrapper"),b=document.querySelector(".js-payment-still-processing");try{v.hidden=!0,a.hidden=!1,await K(n.PaymentId,i),a.hidden=!0,m.hidden=!1}catch{a.hidden=!0,b.hidden=!1,await new Promise(I=>setTimeout(I,3e3))}await new Promise(w=>setTimeout(w,150)),window.location.replace(o)}else{const i=`Unknown AuthorizationResult ${n.AuthorizeResult}`,a=new ErrorEvent("Unknown auth result",{error:new Error(i)});(0,te.LN)(a),window.location.replace(o)}else r.submit()}else{const o=e.getAttribute("data-organization-id");re(n,o,i=>{const a=document.querySelector(".js-zuora-billing-info"),m=a.querySelector(".js-new-card-type"),v=a.querySelector(".js-new-card-number"),b=i.masked_number.replace(/\*/g,""),w=e.closest(".js-billing-section"),I=document.querySelector(".js-awaiting-payment");m.textContent=i.card_type,v.textContent=b,e.classList.add("d-none"),a.classList.remove("d-none"),I&&I.toggleAttribute("hidden"),w.classList.remove("PaymentMethod--creditcard"),w.classList.add("PaymentMethod--creditcard-added")})}}}}s(se,"zuoraSuccessCallback");function Z(e,t,n,r){const o=Object.assign({},t.prepopulate,n);delete t.prepopulate,$.Z.renderWithErrorHandler(t,o,se(e,r),ae(e))}s(Z,"loadZuora");function ie(e){if(e.success==="true"){const t=document.querySelector(".js-zuora-billing-info"),n=t.querySelector(".js-zuora-payment-method-id"),r=t.querySelector(".js-zuora-select-country"),o=t.querySelector(".js-zuora-select-region"),i=t.querySelector(".js-zuora-select-postal-code");n.value=e.refId,r.value=r.value||e.creditCardCountry,o.value=o.value||e.creditCardState,i.value=i.value||e.creditCardPostalCode}}s(ie,"paymentMethodPageCallback");function ce(e){const t=new URLSearchParams;t.append("success",e.success),t.append("response_from",e.responseFrom),e.success?t.append("ref_id",e.refId):(t.append("error_code",e.errorCode),t.append("error_message",e.errorMessage));const n=`pay?${t.toString()}`;window.location.replace(n)}s(ce,"invoicePaymentCallback");function le(){const e=document.getElementById("z_hppm_iframe");e!=null&&(e.setAttribute("height","100%"),e.setAttribute("width","100%"),$.Z.post(e.id,"resize"))}s(le,"resizeZuoraIframe");function V(e){const t=document.querySelector(".js-zuora-spinner");t&&(t.textContent=e)}s(V,"replaceSpinnerWithMessage"),(0,g.N7)("#zuora_payment",{constructor:HTMLElement,add(e){if(e.classList.contains("js-zuora-payment-page")){const n=document.querySelector(".js-zuora-spinner");n&&n.classList.remove("d-none"),e.style.opacity="0",$.Z.runAfterRender(()=>{n&&n.classList.add("d-none"),e.style.opacity="1",window.addEventListener("resize",(0,j.D)(le,200))})}oe(e)}});const X="United States of America",G="Canada";(0,c.on)("click",".js-edit-user-personal-profile",de),(0,c.on)("click",".js-sponsors-cancel-billing-info",ue),(0,c.on)("click",".js-view-user-personal-profile",me),(0,c.on)("click",".js-edit-paypal-method",pe),(0,c.on)("click",".js-enter-new-card",fe),(0,c.on)("click",".js-edit-payment-method-btn",ye),(0,c.on)("click",".js-cancel-edit-payment-method-btn",he),(0,c.on)("click",".js-sponsors-cancel-edit-payment-method-btn",ge),(0,c.on)("click",".js-add-billing-information-btn",Se),(0,c.on)("click",".js-cancel-submit-personal-profile-btn",ve),(0,c.on)("click",".js-dismiss-flash-message",be);function Q(e){var t;const n=(t=e.options[e.selectedIndex])==null?void 0:t.textContent,r=e.closest(".js-name-address-collection"),o=r.querySelector(".js-select-state"),i=r.querySelector(".js-name-address-state"),a=r.querySelector(".js-name-address-select-province"),m=document.getElementsByClassName("js-region-label");n===X?(o.required=!0,o.id="account_screening_profile_region",o.disabled=!1,o.hidden=!1):(o.disabled=!0,o.required=!1,o.value="",o.removeAttribute("id"),o.hidden=!0),n===G?(a.disabled=!1,a.required=!0,a.id="account_screening_profile_region",a.hidden=!1):(a.disabled=!0,a.required=!1,a.value="",a.removeAttribute("id"),a.hidden=!0),n===X||n===G?(i.disabled=!0,i.value="",i.removeAttribute("id"),i.hidden=!0,m[0].classList.add("required-asterisked")):(i.disabled=!1,i.id="account_screening_profile_region",i.hidden=!1,m[0].classList.remove("required-asterisked"))}s(Q,"name_address_form_setupCountryFields"),(0,g.N7)(".js-name-address-select-country",{constructor:HTMLSelectElement,initialize(e){Q(e),e.form&&(0,c.f)(e.form,"change"),e.addEventListener("change",function(){Q(e)})}}),(0,g.N7)(".js-sponsors-handle-cancel-edit-payment .pay-by-credit-card .js-zuora-existing-card",{constructor:HTMLElement,add(){Y(),document.querySelector(".payment-methods").classList.remove("js-sponsors-handle-cancel-edit-payment")}});function de(e){if(!(e.currentTarget instanceof Element))return;const t=document.querySelector(".js-edit-user-personal-profile-wrapper");t.hidden=!0;const n=document.querySelector(".js-name-address-collection-wrapper");n.hidden=!1;const r=document.querySelector(".js-user-personal-profile-summary");r.hidden=!0;const o=document.querySelector(".js-sponsors-cancel-billing-info");o&&(o.hidden=!1);const i=document.querySelector(".js-awaiting-payment");i&&(i.hasAttribute("hidden")||(i.hidden=!0));const a=document.querySelector(".js-sponsors-form");a&&(a.hidden=!0);const m=document.querySelector(".js-marketplace-form-wrapper");m&&(m.hidden=!0);const v=document.querySelector(".js-sdn-screening-error-wrapper");v&&(v.hidden=!0);const b=document.querySelector(".js-payment-methods-wrapper");b&&(b.hidden=!0);const w=document.querySelector(".js-coupons-form-wrapper");w&&(w.hidden=!0);const I=document.querySelector(".js-sponsors-cancel-edit-payment-method-btn");I&&!I.hidden&&I.click()}s(de,"handleEditAccountScreeningProfile");function ue(e){if(!(e.currentTarget instanceof Element))return;const t=document.querySelector(".js-sponsors-cancel-billing-info");t.hidden=!0;const n=document.querySelector(".js-name-address-collection-wrapper");n.hidden=!0;const r=document.querySelector(".js-user-personal-profile-summary");r.hidden=!1;const o=document.querySelector(".js-edit-user-personal-profile-wrapper");o.hidden=!1;const i=document.querySelector(".js-payment-methods-wrapper");i.hidden=!1;const a=document.querySelector(".js-sponsors-form");a&&(a.hidden=!1)}s(ue,"handleSponsorsCancelBillingInfo");function me(){fetch("/account/user_profile_view?flow_from_page=SPONSORABLE",{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}})}s(me,"handleViewAccountScreeningProfile");function pe(e){if(!(e.currentTarget instanceof Element))return;const t=document.querySelector(".js-awaiting-payment");t&&(t.hidden=!0);const n=document.querySelector(".js-sponsors-form");n&&(n.hidden=!0);const r=document.querySelector(".js-marketplace-form-wrapper");r&&(r.hidden=!0);const o=document.querySelector(".js-payment-methods-radio");o.hidden=!1;const i=document.querySelector(".js-billing-pay-with");i&&(i.hidden=!1);const a=document.querySelector(".js-existing-paypal-summary");a.hidden=!0;const m=document.querySelector(".js-paypal-method-details");m.hidden=!1;const v=document.querySelector(".js-paypal-payment-method-form");v.hidden=!1}s(pe,"handleEditPayPalPaymentMethod");function fe(e){if(!(e.currentTarget instanceof Element))return;const t=document.querySelector(".js-awaiting-payment");t&&(t.hidden=!0);const n=document.querySelector(".js-sponsors-form");n&&(n.hidden=!0);const r=document.querySelector(".js-marketplace-form-wrapper");r&&(r.hidden=!0);const o=document.querySelector(".js-billing-pay-with");o&&(o.hidden=!1);const i=document.querySelector(".js-payment-methods-radio");i&&(i.hidden=!1);const a=document.querySelector(".js-sponsors-cancel-edit-payment-method-btn");a&&(a.hidden=!1)}s(fe,"handleEditCreditCardPaymentMethod");function ye(e){if(!(e.currentTarget instanceof Element))return;const t=document.querySelector(".js-update-billing-information-banner");if(!document.querySelector(".js-billing-information-summary"))t.hidden=!1,J();else{t.hidden=!0;const r=document.querySelector(".js-payment-summary-wrapper");r.hidden=!0;const o=document.querySelector(".js-payment-method-section-wrapper");o.hidden=!1;const i=document.querySelector(".js-edit-payment-method-btn");i.hidden=!0;const a=document.querySelector("#z_hppm_iframe");a!=null&&(a.setAttribute("height","100%"),a.setAttribute("width","100%")),window.dispatchEvent(new Event("resize"))}}s(ye,"handleEditPaymentMethod");function he(e){if(!(e.currentTarget instanceof Element))return;const t=document.querySelector(".js-payment-summary-wrapper");t.hidden=!1;const n=document.querySelector(".js-payment-method-section-wrapper");n.hidden=!0;const r=document.querySelector(".js-edit-payment-method-btn");r.hidden=!1}s(he,"handleCancelEditPaymentMethod");function ge(e){if(!(e.currentTarget instanceof Element))return;document.querySelector(".js-paypal-payment-method-form")==null?Y():(document.querySelector(".payment-methods").classList.add("js-sponsors-handle-cancel-edit-payment"),document.querySelector("#pay-by-credit-card").click())}s(ge,"handleSponsorsCancelEditPaymentMethod");function Y(){const e=document.querySelector(".js-billing-section");e.hidden=!0;const t=document.querySelector(".js-billing-pay-with");t.hidden=!0;const n=document.querySelector(".js-payment-methods-radio");n.hidden=!0;const r=document.querySelector(".js-sponsors-cancel-edit-payment-method-btn");r.hidden=!0;const o=document.querySelector(".js-sponsors-form");o&&(o.hidden=!1);const i=document.querySelector(".js-zuora-existing-card");i&&i.classList.remove("d-none")}s(Y,"sponsorsHidePaymentMethod");function Se(e){e.currentTarget instanceof Element&&J()}s(Se,"handleAddBillingInformation");function J(){const e=document.querySelector(".js-billing-information-summary-wrapper");e.hidden=!0;const t=document.querySelector(".js-name-address-collection-wrapper");t.hidden=!1;const n=document.querySelector(".js-add-billing-information-btn");n.hidden=!0;const r=document.querySelector(".js-no-billing-information-message");r&&(r.hidden=!0);const o=document.querySelector(".js-org-payment-method-wrapper");o&&(o.hidden=!0)}s(J,"addBillingInformationHelper");function ve(e){if(!(e.currentTarget instanceof Element))return;const t=document.querySelector(".js-billing-information-summary-wrapper");t.hidden=!1;const n=document.querySelector(".js-billing-information-collection-wrapper");n.hidden=!0;const r=document.querySelector(".js-add-billing-information-btn");r.hidden=!1;const o=document.querySelector(".js-no-billing-information-message");o&&(o.hidden=!1)}s(ve,"handleCancelAddBillingInformation");function be(e){if(!(e.currentTarget instanceof Element))return;const t=document.querySelector(".js-update-billing-information-banner");t.hidden=!0}s(be,"handleDismissMessage")},2235:(A,q,u)=>{u.d(q,{S:()=>g});function d(S){const f=document.querySelectorAll(S);if(f.length>0)return f[f.length-1]}s(d,"queryLast");function L(){const S=d("meta[name=analytics-location]");return S?S.content:window.location.pathname}s(L,"pagePathname");function c(){const S=d("meta[name=analytics-location-query-strip]");let f="";S||(f=window.location.search);const E=d("meta[name=analytics-location-params]");E&&(f+=(f?"&":"?")+E.content);for(const C of document.querySelectorAll("meta[name=analytics-param-rename]")){const l=C.content.split(":",2);f=f.replace(new RegExp(`(^|[?&])${l[0]}($|=)`,"g"),`$1${l[1]}$2`)}return f}s(c,"pageQuery");function g(){return`${window.location.protocol}//${window.location.host}${L()+c()}`}s(g,"requestUri")},26360:(A,q,u)=>{u.d(q,{LN:()=>p,aJ:()=>z,cI:()=>R,eK:()=>_,mT:()=>h});var d=u(79785),L=u(43452),c=u(82918),g=u(50232),S=u(28382),f=u(2235);let E=!1,C=0;const l=Date.now();function p(y){y.error&&P(T(M(y.error)))}s(p,"reportEvent");async function h(y){if(!!y.promise)try{await y.promise}catch(j){P(T(M(j)))}}s(h,"reportPromiseRejectionEvent");function _(y,j={}){y&&y.name!=="AbortError"&&P(T(M(y),j))}s(_,"reportError");async function P(y){var j,B;if(!H())return;const F=(B=(j=document.head)==null?void 0:j.querySelector('meta[name="browser-errors-url"]'))==null?void 0:B.content;if(!!F){if(k(y.error.stacktrace)){E=!0;return}C++;try{await fetch(F,{method:"post",body:JSON.stringify(y)})}catch{}}}s(P,"report");function M(y){return{type:y.name,value:y.message,stacktrace:R(y)}}s(M,"formatError");function T(y,j={}){return Object.assign({error:y,sanitizedUrl:(0,f.S)()||window.location.href,readyState:document.readyState,referrer:(0,d.wP)(),timeSinceLoad:Math.round(Date.now()-l),user:z()||void 0},j)}s(T,"errorContext");function R(y){return(0,S.Q)(y.stack||"").map(j=>({filename:j.file||"",function:String(j.methodName),lineno:(j.lineNumber||0).toString(),colno:(j.column||0).toString()}))}s(R,"stacktrace");const O=/(chrome|moz|safari)-extension:\/\//;function k(y){return y.some(j=>O.test(j.filename)||O.test(j.function))}s(k,"isExtensionError");function z(){var y,j;const B=(j=(y=document.head)==null?void 0:y.querySelector('meta[name="user-login"]'))==null?void 0:j.content;return B||`anonymous-${(0,c.b)()}`}s(z,"pageUser");let x=!1;window.addEventListener("pageshow",()=>x=!1),window.addEventListener("pagehide",()=>x=!0),document.addEventListener(d.QE.ERROR,y=>{P(T({type:"SoftNavError",value:y.detail,stacktrace:R(new Error)}))});function H(){return!x&&!E&&C<10&&(0,g.Gb)()&&!(0,L.Z)(document)}s(H,"reportable"),typeof BroadcastChannel=="function"&&new BroadcastChannel("shared-worker-error").addEventListener("message",j=>{_(j.data.error)})},81654:(A,q,u)=>{u.d(q,{$S:()=>L,Fk:()=>c,sz:()=>g});var d=u(83476);function L(S,f,E){const C={hydroEventPayload:S,hydroEventHmac:f,visitorPayload:"",visitorHmac:"",hydroClientContext:E},l=document.querySelector("meta[name=visitor-payload]");l instanceof HTMLMetaElement&&(C.visitorPayload=l.content);const p=document.querySelector("meta[name=visitor-hmac]")||"";p instanceof HTMLMetaElement&&(C.visitorHmac=p.content),(0,d.b)(C,!0)}s(L,"sendData");function c(S){const f=S.getAttribute("data-hydro-view")||"",E=S.getAttribute("data-hydro-view-hmac")||"",C=S.getAttribute("data-hydro-client-context")||"";L(f,E,C)}s(c,"trackView");function g(S){const f=S.getAttribute("data-hydro-click-payload")||"",E=S.getAttribute("data-hydro-click-hmac")||"",C=S.getAttribute("data-hydro-client-context")||"";L(f,E,C)}s(g,"sendHydroEvent")},60785:(A,q,u)=>{u.d(q,{Z:()=>L});class d{getItem(){return null}setItem(){}removeItem(){}clear(){}key(){return null}get length(){return 0}}s(d,"NoOpStorage");function L(c,g={throwQuotaErrorsOnSet:!1},S=window){let f;try{f=S[c]}catch{f=new d}const{throwQuotaErrorsOnSet:E}=g;function C(h){try{return f.getItem(h)}catch{return null}}s(C,"getItem");function l(h,_){try{f.setItem(h,_)}catch(P){if(E&&P.message.toLowerCase().includes("quota"))throw P}}s(l,"setItem");function p(h){try{f.removeItem(h)}catch{}}return s(p,"removeItem"),{getItem:C,setItem:l,removeItem:p}}s(L,"safeStorage")},46836:(A,q,u)=>{u.d(q,{LS:()=>c,cl:()=>g,rV:()=>L});var d=u(60785);const{getItem:L,setItem:c,removeItem:g}=(0,d.Z)("sessionStorage")},79785:(A,q,u)=>{u.d(q,{Ak:()=>P,F6:()=>k,FP:()=>h,LD:()=>p,OE:()=>l,Po:()=>C,QE:()=>c,Xk:()=>R,Ys:()=>O,wP:()=>z});var d=u(46836),L=u(2235);const c=Object.freeze({INITIAL:"soft-nav:initial",SUCCESS:"soft-nav:success",ERROR:"soft-nav:error"}),g="soft-navigation-fail",S="soft-navigation-referrer",f="soft-navigation-marker",E="reload";function C(){return(0,d.rV)(f)==="1"}s(C,"inSoftNavigation");function l(){return Boolean(M())}s(l,"hasSoftNavFailure");function p(){(0,d.LS)(f,"1"),(0,d.LS)(S,(0,L.S)()||window.location.href)}s(p,"startSoftNav");function h(){(0,d.LS)(f,"0")}s(h,"endSoftNav");function _(){(0,d.LS)(f,"0"),(0,d.cl)(S),(0,d.cl)(g)}s(_,"clearSoftNav");function P(x){(0,d.LS)(g,x||E)}s(P,"setSoftNavFailReason");function M(){return(0,d.rV)(g)}s(M,"getSoftNavFailReason");let T=0;function R(){T+=1,document.dispatchEvent(new CustomEvent(c.SUCCESS,{detail:T}))}s(R,"softNavSucceeded");function O(){document.dispatchEvent(new CustomEvent(c.ERROR,{detail:M()||E})),T=0,_()}s(O,"softNavFailed");function k(){document.dispatchEvent(new CustomEvent(c.INITIAL)),T=0,_()}s(k,"softNavInitial");function z(){return(0,d.rV)(S)||document.referrer}s(z,"getSoftNavReferrer")},57443:(A,q,u)=>{u.d(q,{dY:()=>C,iU:()=>E,oq:()=>f});const d=new WeakMap;function L(l){const p=d.get(l);!p||(p.timer!=null&&clearTimeout(p.timer),p.timer=window.setTimeout(()=>{p.timer!=null&&(p.timer=null),p.inputed=!1,p.listener.call(null,l)},p.wait))}s(L,"schedule");function c(l){const p=l.currentTarget,h=d.get(p);!h||(h.keypressed=!0,h.timer!=null&&clearTimeout(h.timer))}s(c,"onKeydownInput");function g(l){const p=l.currentTarget,h=d.get(p);!h||(h.keypressed=!1,h.inputed&&L(p))}s(g,"onKeyupInput");function S(l){const p=l.currentTarget,h=d.get(p);!h||(h.inputed=!0,h.keypressed||L(p))}s(S,"onInputInput");function f(l,p,h={wait:null}){d.set(l,{keypressed:!1,inputed:!1,timer:void 0,listener:p,wait:h.wait!=null?h.wait:100}),l.addEventListener("keydown",c),l.addEventListener("keyup",g),l.addEventListener("input",S)}s(f,"addThrottledInputEventListener");function E(l,p){l.removeEventListener("keydown",c),l.removeEventListener("keyup",g),l.removeEventListener("input",S);const h=d.get(l);h&&(h.timer!=null&&h.listener===p&&clearTimeout(h.timer),d.delete(l))}s(E,"removeThrottledInputEventListener");function C(l){const p=d.get(l);p&&p.listener.call(null,l)}s(C,"dispatchThrottledInputEvent")}},A=>{var q=s(d=>A(A.s=d),"__webpack_exec__");A.O(0,[5724,4140,3682],()=>q(13097));var u=A.O()}]);})();

//# sourceMappingURL=billing-87c9c50ece81.js.map