/*!! Core Analytics v6.10.15 - Copyright (c) 2015-2022 NRK */
this.CA6=this.CA6||{},this.CA6["core-analytics"]=function(){"use strict";var e="https://static.nrk.no/core-analytics/major/6";function t(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}(function n(r){function o(){}function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var c=JSON.stringify(n);/^[\{\[]/.test(c)&&(n=c)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var u="";for(var a in i)i[a]&&(u+="; "+a,!0!==i[a]&&(u+="="+i[a].split(";")[0]));return document.cookie=t+"="+n+u}}function c(e,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],c=0;c<i.length;c++){var u=i[c].split("="),a=u.slice(1).join("=");n||'"'!==a.charAt(0)||(a=a.slice(1,-1));try{var s=t(u[0]);if(a=(r.read||r)(a,s)||t(a),n)try{a=JSON.parse(a)}catch(e){}if(o[s]=a,e===s)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return c(e,!1)},o.getJSON=function(e){return c(e,!0)},o.remove=function(t,n){i(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o})((function(){}))})();var n="data-core-analytics";return function r(){var o=[],i=[],c=Object.create(null),u=Object.create(null),a=Object.create(null),s=!1,d=function(e,t){if(function(e){var t;return void 0!==(null===(t=e)||void 0===t?void 0:t.q)}(e))e.q.forEach((function(e){return d.apply(void 0,e)}));else if(function(e){return"function"==typeof e}(e)){var n=o.index>1?1-o.index:o.length;o.splice(n,0,e),s&&setTimeout((function(){return o.index||d.next()}))}else if("string"==typeof e){var r=function(){var n=u[e]||[];n.length||d.log("Missing handler for action "+e),i.push({type:e,args:t}),n.forEach((function(n){return n(t,d,e)}))};if("initialize"===e){if(s)return d("error",new Error("Tracker is already initialized"));s=!0,o.unshift(r),setTimeout(d.next)}else d(r),d((function(){return i.pop()}))}return d};return d.version="6.10.15",d.create=r,d.debug=!1,d.set=function(e,t){"object"==typeof e?Object.keys(e).forEach((function(t){return d.set(t,e[t])})):c[e]=t},d.get=function(e){return e?c[e]:c},d.on=function(e,t){(u[e]=u[e]||[]).push(t),i.forEach((function(n){return n.type===e&&t(n.args,d,e)}))},d.off=function(e,t){u[e]=(u[e]||[]).filter((function(e){return t&&e!==t}))},d.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];d.debug&&console.log.apply(console,t(["%c"+d.uuid+":","font-weight:bold"],e,!1))},d.load=function(e,t){a[t]||(a[t]=!0,d((function(){return function(e){var t=e.src,n=e.onload,r=void 0===n?Function.prototype:n,o=e.crossorigin,i=void 0===o||o,c=e.nomodule,u=void 0!==c&&c,a=e.defer,s=void 0!==a&&a,d=e.type,f=document.querySelector('script[src="'+t+'"]')||document.createElement("script"),l=f.queue=f.queue||[];l.length?l.push(r):f.parentNode?r(f):(l.push(r),f.async=!0,f.onload=function(){return l.splice(0).forEach((function(e){return e(f)}))},f.setAttribute("src",t),i&&-1===t.indexOf("//localhost")&&f.setAttribute("crossorigin","anonymous"),u&&(f.noModule=!0),s&&(f.defer=!0),d&&(f.type=d),document.head.appendChild(f))}({src:e,onload:function(n){d.log("Loading "+e);var r=t.split("."),o=r[0],i=r[1],c=window[o]&&window[o][i];"function"==typeof c?c(d):d("error",new Error("Expected "+n.src+" to expose function at window."+t)),d.next()}}),!1})))},d.next=function(){var e=o.index=o.length,t=o.shift(),n=e&&t(d);"object"==typeof n&&null!==n&&"then"in n&&"function"==typeof n.then?n.then(d.next):e&&!1!==n&&d.next()},d.contains=function(e){for(var t=e;t;t=t.parentElement)if(t.hasAttribute(n))return t.hasAttribute(d.attr)&&e;return!1},d.uuid="",d.attr="",d.on("error",(function(e){return console.error("%c"+(d.uuid||"Core Analytics")+":","font-weight:bold",e.message)})),d.on("context",(function(e){return"userId"in e&&d.set("userId",e.userId)})),d.on("pageview",(function(t){void 0===t&&(t={}),t.tnsSection&&(d.load(e+"/statistics/unispring.min.js","CA6.statistics/unispring"),d.load(e+"/statistics/tns.min.js","CA6.statistics/tns"))})),d.on("recommendations",(function(){return d.load(e+"/recommendations/ecommerce.min.js","CA6.recommendations/ecommerce")})),d.on("ecLite",(function(){return d.load(e+"/statistics/ecommerce-lite.min.js","CA6.statistics/ecommerce-lite")})),d.on("optimize",(function(){return d.load(e+"/experiments/optimize.min.js","CA6.experiments/optimize")})),d.on("time-spent",(function(){return d.load(e+"/engagement/time-spent.min.js","CA6.engagement/time-spent")})),d.on("content-consumed",(function(){return d.load(e+"/engagement/content-consumed.min.js","CA6.engagement/content-consumed")})),d.on("initialize",(function(t){if(void 0===t&&(t={}),/\W/.test(t.trackerName||""))return d("error",new Error("trackerName can only contain alphanumeric characters"));var r=t.container||document.documentElement;d.uuid="ca_"+(t.trackerName||Math.round(Date.now()*Math.random()).toString(32)),d.attr=n+"-"+d.uuid.replace(/[\W_]+/g,"-"),r.setAttribute(n,""),r.setAttribute(d.attr,""),d.set({userId:t.userId,parentId:t.parentId,clientId:t.clientId}),t.debug&&d.log("Debug:",d.debug=Boolean(t.debug)),t.ga&&d.load(e+"/statistics/analytics.min.js","CA6.statistics/analytics")})),d}()}(),function(){var e=window.coreAnalytics||!1,t=window.CA6["core-analytics"];(!e.version||parseInt(e.version,10)<parseInt(t.version,10))&&(window.coreAnalytics=t(e))}();
//# sourceMappingURL=core-analytics.min.js.map
