/*!! Core Analytics v6.10.15 - Copyright (c) 2015-2022 NRK */
this.CA6=this.CA6||{},this.CA6["statistics/analytics"]=function(){"use strict";function e(e,n,t){if(t||2===arguments.length)for(var r,o=0,a=n.length;o<a;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))}function n(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];return n.filter((function(e){return e})).forEach((function(n){Object.keys(n).forEach((function(t){return e[t]=n[t]}))})),e}(function(){function e(){for(var e=0,n={};e<arguments.length;e++){var t=arguments[e];for(var r in t)n[r]=t[r]}return n}function n(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}(function t(r){function o(){}function a(n,t,a){if("undefined"!=typeof document){"number"==typeof(a=e({path:"/"},o.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var i=JSON.stringify(t);/^[\{\[]/.test(i)&&(t=i)}catch(e){}t=r.write?r.write(t,n):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=encodeURIComponent(String(n)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var c="";for(var s in a)a[s]&&(c+="; "+s,!0!==a[s]&&(c+="="+a[s].split(";")[0]));return document.cookie=n+"="+t+c}}function i(e,t){if("undefined"!=typeof document){for(var o={},a=document.cookie?document.cookie.split("; "):[],i=0;i<a.length;i++){var c=a[i].split("="),s=c.slice(1).join("=");t||'"'!==s.charAt(0)||(s=s.slice(1,-1));try{var d=n(c[0]);if(s=(r.read||r)(s,d)||n(s),t)try{s=JSON.parse(s)}catch(e){}if(o[d]=s,e===d)break}catch(e){}}return e?o[e]:o}}return o.set=a,o.get=function(e){return i(e,!1)},o.getJSON=function(e){return i(e,!0)},o.remove=function(n,t){a(n,"",e(t,{expires:-1}))},o.defaults={},o.withConverter=t,o})((function(){}))})();var t,r=function(){if("undefined"==typeof window)return function(){return null};var e=window.Element.prototype,n=e.matches||e.msMatchesSelector||e.webkitMatchesSelector;return function(t,r){if(e.closest)return t.closest(r);for(var o=t;o;o=o.parentElement)if(n.call(o,r))return o;return null}}();function o(e){return e.split("://").pop().replace(/^www\./,"")}!function(e){e.contentId="dimension1",e.title="dimension2",e.year="dimension3",e.month="dimension4",e.day="dimension5",e.parentId="dimension10"}(t||(t={}));var a="https://www.google-analytics.com/collect",i="https://nrk-recommendations.appspot.com/collectPersonalEvent";return function(c){function s(n){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];try{window.ga.apply(window,e([c.uuid+"."+n],t,!1))}catch(e){throw e}}function d(){var e=window.ga.getByName(c.uuid),n=e.get("sendHitTask");e.set("sendHitTask",(function(e){var t=Number(Boolean(c.get("userId"))),r=Number(t&&"1"===e.get("dimension9")),o=e.get("hitPayload").replace(/(^|&)cd[89]=[^&]*/g,"");if(e.set("dimension8",String(t),!0),e.set("dimension9",String(r),!0),e.set("hitPayload",o+"&cd8="+t+"&cd9="+r,!0),r){var a=c.get("userId"),s=e.get("hitPayload")+"&nrkUserId="+encodeURIComponent(a);if(navigator.sendBeacon)navigator.sendBeacon(i,s);else{var d=new window.XMLHttpRequest;d.open("POST",i,!0),d.send(s)}c.log('Sending personalization task with user "'+a+'" to '+i+":\n"+s)}n(e)}))}function u(e,t,r){var o=["eventCategory","eventAction","eventLabel","eventValue","nonInteraction"],a={dimension9:"event.personalization"===r?"1":"0"},i={};Array.isArray(e.ga)&&(e.ga=e.ga.reduce((function(e,t,r){return"object"==typeof t?n(e,t):e[o[r]]=t,e}),{})),Object.keys(e.ga).forEach((function(n){-1===o.indexOf(n)?i[n]=e.ga[n]:a[n]=e.ga[n]}));var c=parseInt(a.eventValue,10);a.eventCategory?a.eventAction?"eventValue"in a&&isNaN(c)?t("error",new Error("Please provide a value as a number: "+JSON.stringify(a.eventValue))):(l({ga:i}),s("send","event",a)):t("error",new Error("Please provide an action as a string")):t("error",new Error("Please provide a category as a string"))}function l(e){var r,a=e.ga||{},i=e.publishDate&&new Date(e.publishDate.toString());for(var d in i&&(isNaN(i.valueOf())?c("error",new Error("publishDate is an InvalidDate. Check formatting")):(a[t.year]=i.getFullYear(),a[t.month]=i.getMonth()+1,a[t.day]=i.getDate())),e.referrer&&(a.dimension6=o((r=e.referrer,n(document.createElement("a"),{href:r})).hostname),a.dimension7=o(e.referrer)),e){var u=t[d];u&&(a[u]=String(e[d]))}s("set",a)}document.querySelector('link[href="'+a+'"]')||document.head.appendChild(n(document.createElement("link"),{rel:"preconnect",href:a,crossOrigin:!0})),document.querySelector('link[href="'+i+'"]')||document.head.appendChild(n(document.createElement("link"),{rel:"preconnect",href:i,crossOrigin:!0})),document.addEventListener("click",(function(e){var n;e.target&&e.target instanceof HTMLElement&&(n=c.contains(r(e.target,"[data-ga-category]"))||void 0);if(n){var t=n.hasAttribute("data-ga-value")&&parseInt(n.getAttribute("data-ga-value"),10),o={eventCategory:n.getAttribute("data-ga-category"),eventAction:n.getAttribute("data-ga-action"),eventLabel:n.getAttribute("data-ga-label")};t&&(o.eventValue=t),c("event",{ga:o})}})),c.set("gaEmit",s),c.on("initialize",(function(e){window.ga||(window.ga=function(){(window.ga.q=window.ga.q||[]).push(arguments)},window.ga.l=Math.round(window.performance.timeOrigin)||window.performance.timing.navigationStart);n={src:"https://www.google-analytics.com/analytics"+(c.debug?"_debug":"")+".js",crossorigin:!1},r=n.src,o=n.onload,a=void 0===o?Function.prototype:o,i=n.crossorigin,u=void 0===i||i,l=n.nomodule,g=void 0!==l&&l,p=n.defer,f=void 0!==p&&p,m=n.type,v=document.querySelector('script[src="'+r+'"]')||document.createElement("script"),h=v.queue=v.queue||[],h.length?h.push(a):v.parentNode?a(v):(h.push(a),v.async=!0,v.onload=function(){return h.splice(0).forEach((function(e){return e(v)}))},v.setAttribute("src",r),u&&-1===r.indexOf("//localhost")&&v.setAttribute("crossorigin","anonymous"),g&&(v.noModule=!0),f&&(v.defer=!0),m&&(v.type=m),document.head.appendChild(v));var n,r,o,a,i,u,l,g,p,f,m,v,h;var w={name:c.uuid,trackingId:e.ga,cookieDomain:"auto"},y={anonymizeIp:!0,forceSSL:!0,transport:"beacon"};if(!w.trackingId)return void c("error",new Error("Please provide a Google Analytics trackingId"));e.parentId&&(y[t.parentId]=e.parentId);e.clientId&&(w.clientId=e.clientId);c.set("gaTrackingId",w.trackingId),window.ga("create",w),window.ga(d),s("set",y)})),c.on("context",l),c.on("pageview",(function(e){void 0===e&&(e={});e.ga||(e.ga={});e.contentId||c.log("You should provide a contentId when sending pageviews");if(e.page&&"/"!==e.page[0])return void c("error",new Error("The page parameter must be a string beginning with /"));e.userId&&c.set("userId",e.userId);e.ga.title=e.title||document.title,e.ga.page=e.page||document.location.pathname+document.location.search,e.ga.hostname=o(e.hostname||document.location.hostname),e.referrer=e.referrer||document.referrer,l(e),s("send","pageview",{dimension9:"1"})})),c.on("event",u),c.on("event.personalization",u)}}();
//# sourceMappingURL=analytics.min.js.map
