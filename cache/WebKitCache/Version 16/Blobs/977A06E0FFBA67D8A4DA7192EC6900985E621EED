!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var r=n(1);n(5),n(2),window.addEventListener("message",function e(t){try{"loaded"==t.data&&(window.removeEventListener("message",e),o=!0,s())}catch(e){}},!1),window.startup=!0,window.size=(0,r.getParameterByName)("size")||window.innerWidth+"x"+window.innerHeight,window.triggerSliderUpdate=!1,window.products=[],window.slider=void 0,window.fetchingProducts=!1;var o="mess-dev"==window.name,a=!1,i=void 0;function s(){WebFont.load({custom:{families:["Gotham:n5,n8","Gotham Narrow:n8"]},active:function(){m=!0}}),a?k():i=setInterval(function(){a&&(clearInterval(i),k())},50)}o&&s(),window.onload=function(){a=!0},String.prototype.replaceTemplateValues=function(){if(this.length>0){var e=this.match(/\[(.*?)\]/g);if(e){for(var t=this,n=0;n<e.length;n++)t=t.replace(e[n],b[e[n].replace(/[^a-zA-Z0-9\/\_\-\:]/g,"")]?b[e[n].replace(/[^a-zA-Z0-9\/\_\-\:]/g,"")]:"");return t}return this}return this};var c=n(3),d={},l={},u={},p=[],m=!1,g=!1,f=!1,y=!1,v=(0,r.getParameterByName)("lang")||"no",h="POWER-DYN-",x="pwr-",b={get height(){return window.innerHeight},get width(){return window.innerWidth},get br(){return'<div class="br s-'+size+'"></div>'}},C=(0,r.debounce)(function(){if(g=!0,""==l.headerPrimaryText.innerHTML&&""==l.headerSecondaryText.innerHTML?l.header.classList.add("no-text"):l.header.classList.remove("no-text"),d.useContentMedia?(d.contentInSlider&&d.useProducts?l.rail.append(l.content):l.bannerContent.append(l.content),d.contentPrimaryText.trim()?l.contentPrimaryText.innerHTML='<div class="outliner">\n    <span style="background-color: '+d.contentPrimaryTextBgColor+';">'+l.content.dataset.primaryText+'</span>\n</div>\n<span class="primary-text" style="color: '+d.contentPrimaryTextColor+';">'+l.content.dataset.primaryText+"</span>":l.contentPrimaryText.innerHTML=""):l.content.remove(),startup){slider&&slider.reset(),startup=!1,I();var e=1e3-performance.now()>0?1e3-performance.now():0;(0,r.handleMediaUpdate)(d,l,"background",d.backgroundMediaType,"image"==d.backgroundMediaType?d.backgroundImage:d.backgroundVideo),(0,r.handleMediaUpdate)(d,l,"content",d.contentMediaType,"image"==d.contentMediaType?d.contentImage:d.contentVideo),function(e){if(d.contentInSlider&&d.useContentMedia&&"video"==d.contentMediaType&&d.contentVideo.trim()&&"full"==d.contentVideoBehaviour){var t=void 0;try{l.contentVideo.readyState>=1&&(t=!0)}catch(e){}if(t)e();else var n=setInterval(function(){try{l.contentVideo.readyState>=1&&(clearInterval(n),e())}catch(e){}},50)}else e()}(function(){w(function(){setTimeout(function(){l.wrapper.classList.add("show"),slider&&slider.start()},e)})}),y||setTimeout(function(){try{l.contentVideo.pause()}catch(e){}try{l.backgroundVideo.pause()}catch(e){}try{slider.stop(!0)}catch(e){}},27e3)}else triggerSliderUpdate&&(slider&&slider.reset(),I(),w(function(){slider&&slider.start()})),(0,r.elems)("disclaimer").forEach(function(e){e.style.color=d.disclaimerColor});triggerSliderUpdate=!1},100);function T(e,t){if(e||0===e)void 0!==p[e].transform&&(t=p[e].transform(t)),p[e].target[p[e].prop]=(void 0!==p[e].prefix?p[e].prefix:"")+("string"==typeof t?(0,r.handleSizeSpecificInput)(t).replaceTemplateValues().trim():t)+(void 0!==p[e].suffix?p[e].suffix:""),f&&C();else{for(var n=0;n<p.length;n++)void 0!==p[n].transform&&(p[n].value=p[n].transform(p[n].value)),p[n].target[p[n].prop]=(void 0!==p[n].prefix?p[n].prefix:"")+("string"==typeof p[n].value?(0,r.handleSizeSpecificInput)(p[n].value).replaceTemplateValues().trim():p[n].value)+(void 0!==p[n].suffix?p[n].suffix:"");f&&C()}}function k(){"mess-dev"==window.name&&(y=!0,document.querySelector(".ad-wrapper").classList.add("dev")),void 0===window.dynamicContent&&(window.dynamicContent={});var e={dk:{text:"Prisrobot = Netpris i butik",cta:"Se udvalget",url:"https://www.power.dk/"},fi:{text:"Hintarobotti = Nettihinnat myymälässä",cta:"Katso valikoima",url:"https://www.power.fi/tarjoukset/kampanja/"},no:{text:"PRISROBOT =<br> NETTPRIS I BUTIKK",cta:"Se utvalget",url:"https://www.power.no/kampanje/ukens-kampanje/"},se:{text:"Prisrobot = webbpris i butik",cta:"Se urvalet",url:"https://power.se/"}};d={useProducts:(0,r.parseBool)(dynamicContent.useProducts||!1),feed:dynamicContent.feed||(0,r.getParameterByName)("feed")||"",disclaimerColor:dynamicContent.disclaimerColor||"#fff",useBackgroundMedia:(0,r.parseBool)(dynamicContent.useBackgroundMedia||!1),backgroundMediaType:dynamicContent.backgroundMediaType||"image",backgroundImage:dynamicContent.backgroundImage||"",backgroundVideo:dynamicContent.backgroundVideo||"",useContentMedia:(0,r.parseBool)(dynamicContent.useContentMedia)||!0,contentBackgroundColor:dynamicContent.contentBackgroundColor||"#2e3438aa",contentMediaType:dynamicContent.contentMediaType||"image",contentVideo:dynamicContent.contentVideo||"",contentImage:dynamicContent.contentImage||"",contentPrimaryText:dynamicContent.contentPrimaryText||e[(0,r.getParameterByName)("lang")||"no"].text,contentPrimaryTextColor:dynamicContent.contentPrimaryTextColor||"#000000",contentPrimaryTextBg:dynamicContent.contentPrimaryTextBg||!0,contentPrimaryTextBgColor:dynamicContent.contentPrimaryTextBgColor||"#fff",contentSecondaryText:dynamicContent.contentSecondaryText||"",contentSecondaryTextColor:dynamicContent.contentSecondaryTextColor||"#ffffff",contentVideoBehaviour:dynamicContent.contentVideoBehaviour||"full",contentVideoPlayForSeconds:dynamicContent.contentVideoPlayForSeconds||"3",contentCtaText:dynamicContent.contentCtaText||e[(0,r.getParameterByName)("lang")||"no"].cta,contentCtaColor:dynamicContent.contentCtaColor||"#ffffff",contentCtaBgColor:dynamicContent.contentCtaBgColor||"#f15c25",useOverlayImage:dynamicContent.useOverlayImage||!1,overlayImage:dynamicContent.overlayImage||"",useSponsorImage:dynamicContent.useSponsorImage||!1,sponsorImage:dynamicContent.sponsorImage||"",sponsorConstraints:dynamicContent.sponsorConstraints||"both",sponsorPosition:dynamicContent.sponsorPosition||"bottom-right",headerType:dynamicContent.headerType||"default",headerPosition:dynamicContent.headerPosition||"default",headerPrimaryText:dynamicContent.headerPrimaryText||"",headerSecondaryText:dynamicContent.headerSecondaryText||"",backgroundColor:dynamicContent.backgroundColor||"#2a2f32",headerBackgroundColor:dynamicContent.headerBackgroundColor||"#000",headerPrimaryTextColor:dynamicContent.headerPrimaryTextColor||"#f15c25",headerSecondaryTextColor:dynamicContent.headerSecondaryTextColor||"#ffffff",productsTheme:dynamicContent.productsTheme||"light",sliderArrowColor:dynamicContent.sliderArrowColor||"#ffffff",sliderArrowBackgroundColor:dynamicContent.sliderArrowBackgroundColor||"#000000aa",logo:dynamicContent.logo||"https://delivered-by-madington.com/mess/client-content/uploads/jpnXObtQBiZ1NiSSK68J/media/fff6397c-7e46-457d-8a1e-117a178ed906.svg",exit:dynamicContent.exit||e[(0,r.getParameterByName)("lang")||"no"].url,utmContent:(0,r.utmFiltered)(dynamicContent.utm_content)||dynamicContent.utmContent||"",utmMedium:(0,r.utmFiltered)(dynamicContent.utm_medium)||dynamicContent.utmMedium||"",utmSource:(0,r.utmFiltered)(dynamicContent.utm_source)||dynamicContent.utmSource||"",utmCampaign:(0,r.utmFiltered)(dynamicContent.utm_campaign)||dynamicContent.utmCampaign||"",lang:(0,r.getParameterByName)("lang")||"no",contentInSlider:["300x100","320x160","250x250","300x250","320x250","300x300","320x320","468x400","980x150","930x180","930x200"].includes(size)},(l={wrapper:(0,r.elem)("ad-wrapper"),background:(0,r.elem)("background-wrapper"),backgroundVideo:void 0,bannerContent:(0,r.elem)("banner-content"),header:(0,r.elem)("header"),headerPrimaryText:(0,r.elem)("header-primary-text"),headerSecondaryText:(0,r.elem)("header-secondary-text"),content:(0,r.elem)("content"),contentBackground:(0,r.elem)("content .background-image"),contentTexts:(0,r.elem)("content-texts"),contentPrimaryText:(0,r.elem)("content-primary"),contentSecondaryText:(0,r.elem)("content-secondary"),contentCTA:(0,r.elem)("cta"),contentCTAText:(0,r.elem)("cta span"),overlay:(0,r.elem)("overlay"),sponsor:(0,r.elem)("sponsor"),slider:(0,r.elem)("slider"),rail:(0,r.elem)("slider-rail"),logo:(0,r.elem)("logo"),arrows:(0,r.elem)("arrows"),arrowRight:(0,r.elem)("arrow-right"),arrowLeft:(0,r.elem)("arrow-left"),fallbackSpacer:(0,r.elem)("fallback-spacer")}).fallbackSpacer.remove(),l.wrapper.addEventListener("click",function(e){e.stopPropagation(),e.preventDefault();var t=!1,n=e.target.closest("[data-exit-url]").dataset.exitUrl;(d.utmContent.trim()||d.utmMedium.trim()||d.utmSource.trim()||d.utmCampaign.trim())&&(t=!0);var o="";try{o=decodeURI((0,r.getParameterByName)("clickTag"))}catch(e){}try{var a="",i="generic"==n?d.exit.trim():n;t&&(i.split("#").length>1&&(a="#"+i.split("#")[1],i=""+i.split("#")[0]),i+=d.utmContent.trim()?(i.match(/\?.{1,}\=/)?"&":"?")+"utm_content="+d.utmContent:"",i+=d.utmMedium.trim()?(i.match(/\?.{1,}\=/)?"&":"?")+"utm_medium="+("size"===d.utmMedium?size:d.utmMedium):"",i+=d.utmSource.trim()?(i.match(/\?.{1,}\=/)?"&":"?")+"utm_source="+d.utmSource:"",i+=d.utmCampaign.trim()?(i.match(/\?.{1,}\=/)?"&":"?")+"utm_campaign="+d.utmCampaign:"",i+=""+(a||"")),o+=i}catch(e){}o.length>0&&(S("exit"),window.open(o))}),l.arrowRight.addEventListener("click",function(e){e.stopPropagation(),e.preventDefault();try{if(slider.stop(),slider.next(),0==index&&d.contentInSlider&&"video"==d.contentMediaType)try{l.contentVideo.currentTime=0,l.contentVideo.play()}catch(e){}}catch(e){}}),l.arrowLeft.addEventListener("click",function(e){e.stopPropagation(),e.preventDefault();try{if(slider.stop(),slider.previous(),0==index&&d.contentInSlider&&"video"==d.contentMediaType)try{l.contentVideo.currentTime=0,l.contentVideo.play()}catch(e){}}catch(e){}}),p=n(4)(d,l,function(e,t,n){return{targetKey:function(e){for(var t=0;t<p.length;t++)if(p[t].node==e)return t}(e),value:t,comparator:n}},r.handleMediaUpdate);for(var t=0;t<p.length;t++)void 0!==p[t].visibleIf&&(p[t].visibleIf=p[t].visibleIf());x+=(dynamicContent.messId||"DEV")+"-"+size,h+=""+d.lang.toUpperCase(),l.wrapper.classList.add("s-"+size),l.wrapper.classList.add((0,r.sizeToLayout)(size)),S("impression"),d=c(d,p,T),T(void 0,void 0);var o=setInterval(function(){m&&(clearInterval(o),f=!0,g||C())},100)}function w(e){if(d.useProducts&&""!==d.feed.trim())var t=setInterval(function(){products.length>0&&!window.fetchingProducts&&(clearInterval(t),e())},100);else e()}function S(e){if(!y&&1!=u[e]){u[e]=!0;var t=document.createElement("img");t.classList.add("pixel"),t.src="https://track.streamedby.com/?c="+x+"&po="+h+"&count="+e+"&ord="+Date.now(),t.setAttribute("alt",""),t.height=1,t.width=1,l.wrapper.appendChild(t)}}function I(){window.slider&&slider.stop();var e=l.rail.querySelectorAll(".slide");e.forEach(function(e){e.remove()}),e=void 0,(0,r.getProducts)(d.feed,d.lang).then(function(e){w(function(){(function(e,t){var n=[];return e.forEach(function(e){var r=document.createElement("div");r.classList.add("slide"),r.dataset.exitUrl=e.exit_url,r.dataset.productId=e.id;var o='<div class="slide-content">\n<div class="product-wrapper">\n  <div class="product-energylabel" style="background-image: url(https://delivered-by-madington.com/external-asset?url='+e.energyLabel+')"></div>\n  <div class="product-image" style="background-image: url('+e.image_url+')"></div>\n  <div class="product-info">\n      <div class="product-name">\n          <div class="outliner">\n              <span>'+e.title+'</span>\n          </div>\n          <span class="name">'+e.title+'</span>\n      </div>\n      <div class="product-price'+(e.before_price_disclaimer?" has-disclaimer":"")+'">\n          <span>'+e.price+"</span>\n      </div>";e.before_price_disclaimer&&(o+='<div class="disclaimer" style="color: '+d.disclaimerColor+'">* '+e.before_price_disclaimer+"</div>"),o+="</div>\n  </div>\n</div>",r.innerHTML=o,e.before_price>0&&(r.querySelector(".product-price").dataset.beforePrice=e.before_price>0?function(e,t,n){switch(n){case"no":return"Spar "+(e-t)+",-";case"se":return"Spara "+(e-t)+":-";case"dk":return"Spar "+(e-t)+",-";case"fi":return"Säästä "+(e-t)+" €"}}(e.before_price,e.price,t)+" "+(e.before_price_disclaimer.length>0?"*":""):""),["980x120","980x150","930x180"].includes(size)&&e.before_price_disclaimer&&r.querySelector(".product-price").appendChild(r.querySelector(".disclaimer")),n.push(r)}),{then:function(e){e(n)}}})(e,v).then(function(e){e.forEach(function(e){l.rail.append(e)}),window.slider=P(2500,l,d)});var t=document.querySelectorAll(".product-energylabel");[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t)).map(function(e){e.style.height=document.querySelector(".product-price").offsetHeight+"px"})})})}function P(e,t,n){var o=!0,a=void 0,i=void 0,s=void 0,c=0,d=">",l=function(e,t){switch(t&&t!==d&&(d=t),o||("<"==t?2==e.slidesPerStep?(c[0]=c[0]>0?c[0]<2?e.slides.length-1:c[0]-2:e.slides.length-2,c[1]=c[1]>0?c[1]<2?e.slides.length-1:c[1]-2:e.slides.length-2):c=c>0?c-1:e.slides.length-1:c=2==e.slidesPerStep?[(c[0]+2)%e.slides.length,(c[1]+2)%e.slides.length]:c+1<e.slides.length?c+1:0),e.slidesPerStep){case 1:o?(a=e.slides[0],i=e.slides[1],s=void 0):(a=e.slides[c],"<"==t?(s=e.slides[c+1<e.slides.length?c+1:0],i=e.slides[c>0?c-1:e.slides.length-1]):(s=e.slides[c>0?c-1:e.slides.length-1],i=e.slides[c+1<e.slides.length?c+1:0])),a.className=a.className.split(" ")[0]+" active",i.className=i.className.split(" ")[0]+" prepare",s&&(s.className=s.className.split(" ")[0]+" hide");break;case 2:o?(a=[e.slides[c[0]],e.slides[c[1]]],i=[e.slides[(c[0]+2)%e.slides.length],e.slides[(c[1]+2)%e.slides.length]],s=[void 0,void 0]):(a=[e.slides[c[0]],e.slides[c[1]]],"<"==t?(s=[e.slides[(c[0]+2)%e.slides.length],e.slides[(c[1]+2)%e.slides.length]],i=[e.slides[c[0]>0?c[0]<2?e.slides.length-1:c[0]-2:e.slides.length-2],e.slides[c[1]>0?c[1]<2?e.slides.length-1:c[1]-2:e.slides.length-2]]):(i=[e.slides[(c[0]+2)%e.slides.length],e.slides[(c[1]+2)%e.slides.length]],s=[e.slides[c[0]>0?c[0]<2?e.slides.length-1:c[0]-2:e.slides.length-2],e.slides[c[1]>0?c[1]<2?e.slides.length-1:c[1]-2:e.slides.length-2]])),a[0].className=a[0].className.split(" ")[0]+" active first",a[1].className=a[1].className.split(" ")[0]+" active second",s[0]&&(s[0].className=s[0].className.split(" ")[0]+" hide first"),s[1]&&(s[1].className=s[1].className.split(" ")[0]+" hide second"),e.internalTimer=setTimeout(function(){i[0].className=i[0].className.split(" ")[0]+" prepare first",i[1].className=i[1].className.split(" ")[0]+" prepare second"},1e3)}};return{started:!1,ticker:void 0,singleContentTicker:void 0,singleContentInternalTicker:void 0,slidesPerStep:void 0,slides:void 0,internalTimer:void 0,index:c,reCalcSlides:function(){var e=n.contentInSlider&&n.useContentMedia?".slide, .content":".slide";this.slides=t.bannerContent.querySelectorAll(e),this.slides.forEach(function(e){e.className=e.className.split(" ")[0]})},next:function(){this.stop(),l(this,">")},previous:function(){this.stop(),l(this,"<")},stop:function(e){if(clearInterval(this.ticker),clearTimeout(this.internalTimer),clearTimeout(this.singleContentInternalTicker),e)try{n.contentInSlider&&n.useContentMedia&&this.slides[0]!==a&&(a.className=a.className.split(" ")[0]+" hide",this.slides[0].className=this.slides[0].className.split(" ")[0]+" active")}catch(e){}},reset:function(){this.started=!1},start:function(){var a=this;if(!this.started){if(this.started=!0,this.stop(),this.reCalcSlides(),clearTimeout(this.internalTimer),this.slidesPerStep=(0,r.slidesPerStep)(size,n.useContentMedia,products.length,n),2==this.slidesPerStep?(c=[0,1],t.rail.classList.add("double-products"),t.rail.classList.remove("single-product-with-content")):(c=0,t.rail.classList.remove("double-products"),n.useContentMedia&&!n.contentInSlider?t.rail.classList.add("single-product-with-content"):t.rail.classList.remove("single-product-with-content")),this.slides.length>=2||this.slides.length>1&&n.contentInSlider&&n.useContentMedia){l(this);var i=function(){a.ticker=setInterval(function(){l(a)},e)};try{if(n.contentInSlider&&n.useContentMedia&&"video"==n.contentMediaType&&t.contentVideo.src.trim()){var s=void 0;if("full"==n.contentVideoBehaviour)try{s=1e3*t.contentVideo.duration}catch(e){}else s=1e3*n.contentVideoPlayForSeconds;s?(this.singleContentTicker=function(){0==c&&setTimeout(function(){t.contentVideo.currentTime=0,t.contentVideo.readyState>=1&&t.contentVideo.play()},200),a.singleContentInternalTicker=setTimeout(function(){t.contentVideo.pause(),l(a),a.singleContentTicker()},0==c?s:e)},this.singleContentTicker()):i()}else i()}catch(e){i()}}else this.slides.length>0&&this.slides[0].classList.add("active");o=!1}}}}},function(e,t,n){"use strict";e.exports.getParameterByName=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))},e.exports.handleSizeSpecificInput=function(e){if(e.length>0){var t=e.match(/\[(\/)?((s|b|t|br)?\d{3}x\d{3}(\-(\d{1,3}))?)\]/gm);if(t)for(var n=0;n<t.length;n++){var r=void 0;switch(!0){case!!t[n].match(/\[t\d{3}x\d{3}(-\d{1,3})?\]/):e=(r=t[n].match(/(t)(\d{3}x\d{3})(-(\d{1,3}))?/))[4]?e.replace(t[n],'<span class="text s-'+r[2]+'" style="font-size: '+r[4]+'px">'):e.replace(t[n],'<span class="text s-'+r[2]+'">');break;case!!t[n].match(/\[\/t\d{3}x\d{3}\]/):r=t[n].match(/(\d{3}x\d{3})/),e=e.replace(t[n],"</span>");break;case!!t[n].match(/\[s\d{3}x\d{3}-\d{1,3}\]/):r=t[n].match(/(s)(\d{3}x\d{3})-(\d{1,3})/),e=e.replace(t[n],r[2]==size?'<span class="ts-'+r[2]+'" style="font-size: '+r[3]+'px">':"");break;case!!t[n].match(/\[\/s\d{3}x\d{3}(-\d{1,3})?\]/):r=t[n].match(/(\d{3}x\d{3})/),e=e.replace(t[n],"</span>");break;case!!t[n].match(/\[b\d{3}x\d{3}\]/):r=t[n].match(/b(\d{3}x\d{3})/),e=e.replace(t[n],r[1]==size?'<span class="strong">':"");break;case!!t[n].match(/\[\/b\d{3}x\d{3}\]/):r=t[n].match(/b(\d{3}x\d{3})/),e=e.replace(t[n],"</span>");break;case!!t[n].match(/\[b\d{3}x\d{3}\]/):r=t[n].match(/b(\d{3}x\d{3})/),e=e.replace(t[n],r[1]==size?'<span class="strong">':"");break;case!!t[n].match(/\[\/b\d{3}x\d{3}\]/):r=t[n].match(/b(\d{3}x\d{3})/),e=e.replace(t[n],"</span>");break;case!!t[n].match(/\[br\d{3}x\d{3}\]/):r=t[n].match(/br(\d{3}x\d{3})/),e=e.replace(t[n],r[1]==size?'<div class="br s-'+size+'"></div>':"")}}}return e},e.exports.utmFiltered=function(e){return!!e&&(!e.match(/^%%EXTERNAL_UTM_(CONTENT|MEDIUM|SOURCE|CAMPAIGN)%%$/gim)&&e)},e.exports.parseBool=function(e){return"string"==typeof e?"TRUE"==e:e},e.exports.handleMediaUpdate=function(e,t,n,r,o){if("background"==n&&0==e.useBackgroundMedia||"content"==n&&0==e.useContentMedia)return i(n),void a(n);function a(e){t["content"==e?"contentBackground":e].style.backgroundImage=""}function i(e){t[e+"Video"]&&(t[e+"Video"].src="",t[e+"Video"].remove(),t[e+"Video"]=void 0)}"image"==r?(i(n),o.trim()?function(e,n){t["content"==e?"contentBackground":e].style.backgroundImage=n.trim()?"url("+n+")":""}(n,o):a(n)):(a(n),o.trim()?function(n,r){i(n),t[n+"Video"]=document.createElement("video"),t[n+"Video"].muted=!0,t[n+"Video"].autoplay=!0,"content"==n&&e.contentInSlider&&e.useProducts?t[n+"Video"].loop=!1:t[n+"Video"].loop=!0;t[n+"Video"].setAttribute("playsinline",""),t[n+"Video"].setAttribute("webkit-playsinline",""),t[n].appendChild(t[n+"Video"]),setTimeout(function(){t[n+"Video"].src=r},100)}(n,o):i(n))},e.exports.debounce=function(e,t,n){var r=void 0;return function(){var o=this,a=arguments;clearTimeout(r),r=setTimeout(function(){r=null,n||e.apply(o,a)},t),n&&!r&&e.apply(o,a)}},e.exports.getStyle=function(e,t){var n=window.getComputedStyle(e,null).getPropertyValue(t);return n.match(/^(\d{1,})/)?1*n.match(/^(\d{1,})/)[0]:0},e.exports.elems=function(e){return document.querySelectorAll("."+e)},e.exports.elem=function(e){return document.querySelector("."+e)},e.exports.isValidSize=function(e,t){for(var n=0;n<e.length;n++)if(e[n]==t)return!0;return!1},e.exports.sizeToLayout=function(e){switch(e){case"300x100":case"980x120":case"980x150":case"930x180":case"930x200":case"980x300":return"wide";case"320x160":case"250x250":case"300x250":case"320x250":case"300x300":case"320x320":case"468x400":case"580x400":case"580x500":case"600x600":case"620x620":case"930x600":case"980x400":return"mix";case"600x862":case"620x891":case"180x500":case"160x600":case"300x600":return"tall"}},e.exports.slidesPerStep=function(e,t,n,r){switch(e){case"300x100":case"320x160":case"250x250":case"300x250":case"320x250":case"300x300":case"320x320":case"468x400":return 1;case"930x180":case"930x200":case"980x150":case"980x120":return t||"none"!=r.headerType||n<4?1:2;case"980x300":case"580x400":case"580x500":case"600x600":case"620x620":case"600x862":case"620x891":case"930x600":case"980x400":case"180x500":case"160x600":case"300x600":return t||n<4?1:2}},e.exports.getProducts=function(e,t){if(e.trim()){window.products=[],window.fetchingProducts=!0;var n=new XMLHttpRequest,r=void 0,o="https://delivered-by-madington.com/dynamic/power/feed?feed="+e+"&country="+t.toLowerCase();n.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=!1;try{r=JSON.parse(n.responseText),e=!0}catch(e){}if(e){for(var t=0;t<r.length;t++){var o=r[t];products.push({_id:t,id:o["g:id"][0],price:parseInt(o["g:price"][0].replace(/\.\d{1,}/,"")),before_price:o["g:before_price"]?parseInt(o["g:before_price"][0]):0,before_price_disclaimer:o["g:before_price_disclaimer"]?o["g:before_price_disclaimer"][0]:"",title:o.title[0],image_url:o["g:image_link_transparent"][0]?"https://delivered-by-madington.com/external-asset?url="+o["g:image_link_transparent"][0].replace(/\_\d{2,}x\d{2,}\_/,"_600x600_"):"",exit_url:o.link[0],energyLabel:o["g:energylabel"]&&o["g:energylabel"][0]?o["g:energylabel"][0]:""})}window.fetchingProducts=!1}}},n.open("GET",o),n.send()}return{then:function(e){e(products)}}}},function(e,t,n){"use strict";[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach(function(e){e.hasOwnProperty("prepend")||Object.defineProperty(e,"prepend",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();e.forEach(function(e){var n=e instanceof Node;t.appendChild(n?e:document.createTextNode(String(e)))}),this.insertBefore(t,this.firstChild)}})}),[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach(function(e){e.hasOwnProperty("append")||Object.defineProperty(e,"append",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();e.forEach(function(e){var n=e instanceof Node;t.appendChild(n?e:document.createTextNode(String(e)))}),this.appendChild(t)}})})},function(e,t,n){"use strict";var r,o,a,i,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(n){"object"==s(t)&&void 0!==e?e.exports=n():(o=[],void 0===(a="function"==typeof(r=n)?r.apply(t,o):r)||(e.exports=a))}(function(){return function e(t,n,r){function o(s,c){if(!n[s]){if(!t[s]){if(!c&&("function"==typeof i&&i))return i(s,!0);if(a)return a(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){var n=t[s][1][e];return o(n||e)},l,l.exports,e,t,n,r)}return n[s].exports}for(var a="function"==typeof i&&i,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){"function"==typeof Symbol&&s(Symbol.iterator);t.exports=function(e,t,n){function r(e){try{if(o=e.source,e.data.match(s)){for(var r=0;r<t.length;r++)t[r].value=a[t[r].node];!function(e){o.postMessage(e,"*")}(JSON.stringify(t))}else if(e.data)try{!function(e){a[t[e.ref].node]=t[e.ref].value=e.value,n.call(null,e.ref,e.value)}(JSON.parse(e.data))}catch(e){}}catch(e){}}if(void 0!==t){var o,a,i,s=/^requestingMap\:([a-z0-9]{16,})$/;return i=function(){for(var e="",t="abcdefghijklmnopqrstuvwxyz0123456789",n=0;n<16;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}(),a=e,window.top.postMessage("handshake:"+i,"*"),window.addEventListener("message",r,!1),a}}},{}]},{},[1])(1)})},function(e,t,n){"use strict";e.exports=function(e,t,n,r){return[{group:"Template options",title:"Use products",type:"boolean",node:"useProducts",target:t.wrapper.dataset,prop:"useProducts",value:e.useProducts,transform:function(n){return n?(t.bannerContent.appendChild(t.slider),t.fallbackSpacer.remove()):(t.slider.remove(),e.useContentMedia?t.fallbackSpacer.remove():t.bannerContent.appendChild(t.fallbackSpacer)),startup||(triggerSliderUpdate=!0),n}},{title:"Background media",type:"boolean",node:"useBackgroundMedia",target:t.wrapper.dataset,prop:"useBackgroundMedia",value:e.useBackgroundMedia,transform:function(n){return startup||r(e,t,"background",e.backgroundMediaType,"image"==e.backgroundMediaType?e.backgroundImage:e.backgroundVideo),n}},{title:"Custom content",type:"boolean",node:"useContentMedia",target:t.wrapper.dataset,prop:"useContentMedia",value:e.useContentMedia,transform:function(n){return startup||(triggerSliderUpdate=!0,r(e,t,"content",e.contentMediaType,"image"==e.contentMediaType?e.contentImage:e.contentVideo)),n?t.fallbackSpacer.remove():e.useProducts?t.fallbackSpacer.remove():t.bannerContent.appendChild(t.fallbackSpacer),n}},{title:"Overlay image",type:"boolean",node:"useOverlayImage",target:t.wrapper.dataset,prop:"useOverlayImage",value:e.useOverlayImage,transform:function(e){return"FALSE"!==e&&e?t.bannerContent.appendChild(t.overlay):t.overlay.remove(),e}},{title:"Sponsor image",type:"boolean",node:"useSponsorImage",target:t.wrapper.dataset,prop:"useSponsorImage",value:e.useSponsorImage,transform:function(e){return e?t.bannerContent.appendChild(t.sponsor):t.sponsor.remove(),e}},{group:"Background",title:"Background",type:"color",node:"backgroundColor",target:t.background.style,prop:"backgroundColor",value:e.backgroundColor},{title:"Media type",type:"select",options:[{title:"Image",value:"image"},{title:"Video",value:"video"}],node:"backgroundMediaType",target:t.wrapper.dataset,prop:"backgroundMediaType",transform:function(n){return startup||r(e,t,"background",e.backgroundMediaType,"image"==e.backgroundMediaType?e.backgroundImage:e.backgroundVideo),n},visibleIf:function(){return[n("useBackgroundMedia",!0,"==")]},value:e.backgroundMediaType},{title:"Image",type:"image",node:"backgroundImage",target:t.background.dataset,prop:"backgroundImage",transform:function(n){return startup||r(e,t,"background","image",n),n},visibleIf:function(){return[n("useBackgroundMedia",!0,"=="),n("backgroundMediaType","image","==")]},value:e.backgroundImage},{title:"Video",type:"video",node:"backgroundVideo",target:t.background.dataset,prop:"backgroundVideo",transform:function(n){return startup||r(e,t,"background","video",n),n},visibleIf:function(){return[n("useBackgroundMedia",!0,"=="),n("backgroundMediaType","video","==")]},value:e.backgroundVideo},{group:"Header",title:"Type",type:"select",options:[{title:"Standard",value:"default"},{title:"Only logo",value:"logo"},{title:"None",value:"none"}],node:"headerType",target:t.header.dataset,prop:"headerType",value:e.headerType,transform:function(e){return startup||(triggerSliderUpdate=!0),e}},{title:"Position",type:"select",options:[{title:"Default",value:"default"},{title:"Alternative",value:"alternative"}],node:"headerPosition",target:t.header.dataset,prop:"headerPosition",value:e.headerPosition,visibleIf:function(){return[n("headerType","none","!==")]}},{title:"Logo",type:"image",node:"logo",target:t.logo.style,prop:"backgroundImage",transform:function(e){return e.trim()?"url("+e+")":""},visibleIf:function(){return[n("headerType","none","!==")]},value:e.logo},{title:"Primary text",type:"string",node:"headerPrimaryText",target:t.headerPrimaryText,prop:"innerHTML",value:e.headerPrimaryText,visibleIf:function(){return[n("headerType","default","==")]}},{title:"Primary text color",type:"color",node:"headerPrimaryTextColor",target:t.headerPrimaryText.style,prop:"color",value:e.headerPrimaryTextColor,visibleIf:function(){return[n("headerType","default","==")]}},{title:"Secondary text",type:"string",node:"headerSecondaryText",target:t.headerSecondaryText,prop:"innerHTML",value:e.headerSecondaryText,visibleIf:function(){return[n("headerType","default","==")]}},{title:"Secondary text color",type:"color",node:"headerSecondaryTextColor",target:t.headerSecondaryText.style,prop:"color",value:e.headerSecondaryTextColor,visibleIf:function(){return[n("headerType","default","==")]}},{title:"Background",type:"color",node:"headerBackgroundColor",target:t.header.style,prop:"backgroundColor",value:e.headerBackgroundColor,visibleIf:function(){return[n("headerType","default","==")]}},{group:"Products",title:"Feed ID",type:"string",node:"feed",target:t.wrapper.dataset,prop:"feed",transform:function(e){return startup||(triggerSliderUpdate=!0),e},visibleIf:function(){return[n("useProducts",!0,"==")]},value:e.feed},{title:"Product theme",type:"select",options:[{title:"Light",value:"light"},{title:"Dark",value:"dark"}],node:"productsTheme",target:t.slider.dataset,prop:"productsTheme",value:e.productsTheme,visibleIf:function(){return[n("useProducts",!0,"==")]}},{title:"Disclaimer color",type:"color",node:"disclaimerColor",target:t.rail.dataset,prop:"disclaimerColor",value:e.disclaimerColor,visibleIf:function(){return[n("useProducts",!0,"==")]}},{group:"Arrow buttons",title:"Arrow color",type:"color",node:"sliderArrowColor",target:t.arrows.dataset,prop:"arrowColor",visibleIf:function(){return[n("useProducts",!0,"==")]},transform:function(e){return t.arrowLeft.style.color=t.arrowRight.style.color=e,e},value:e.sliderArrowColor},{title:"Arrow background",type:"color",node:"sliderArrowBackgroundColor",target:t.arrows.dataset,prop:"arrowBackground",visibleIf:function(){return[n("useProducts",!0,"==")]},transform:function(e){return t.arrowLeft.style.backgroundColor=t.arrowRight.style.backgroundColor=e,e},value:e.sliderArrowBackgroundColor},{group:"Custom content",title:"Background color",type:"color",node:"contentBackgroundColor",target:t.contentBackground.style,prop:"backgroundColor",visibleIf:function(){return[n("useContentMedia",!0,"==")]},value:e.contentBackgroundColor},{title:"Media type",type:"select",options:[{title:"Image",value:"image"},{title:"Video",value:"video"}],node:"contentMediaType",target:t.wrapper.dataset,prop:"contentMediaType",visibleIf:function(){return[n("useContentMedia",!0,"==")]},value:e.contentMediaType,transform:function(n){return startup||(r(e,t,"content",n,"image"==e.contentMediaType?e.contentImage:e.contentVideo),triggerSliderUpdate=!0),n}},{title:"Image",type:"image",node:"contentImage",target:t.content.dataset,prop:"backgroundImage",transform:function(n){return startup||(r(e,t,"content","image",n),triggerSliderUpdate=!0),n},visibleIf:function(){return[n("useContentMedia",!0,"=="),n("contentMediaType","image","==")]},value:e.contentImage},{title:"Video",type:"video",node:"contentVideo",target:t.content.dataset,prop:"contentVideo",transform:function(n){return startup||(r(e,t,"content","video",n),triggerSliderUpdate=!0),n},visibleIf:function(){return[n("useContentMedia",!0,"=="),n("contentMediaType","video","==")]},value:e.contentVideo},{title:"Video behaviour",type:"select",options:[{title:"Play until end",value:"full"},{title:"Play for ... seconds",value:"seconds"}],node:"contentVideoBehaviour",target:t.content.dataset,prop:"contentVideoBehaviour",transform:function(e){return startup||(triggerSliderUpdate=!0),e},visibleIf:function(){return[n("useContentMedia",!0,"=="),n("useProducts",!0,"=="),n("contentMediaType","video","=="),n("contentVideo","","!==")]},value:e.contentVideoBehaviour},{title:"Video timeout",type:"string",node:"contentVideoPlayForSeconds",target:t.content.dataset,prop:"contentVideoPlayForSeconds",transform:function(e){return startup||(triggerSliderUpdate=!0),e},visibleIf:function(){return[n("useContentMedia",!0,"=="),n("useProducts",!0,"=="),n("contentVideoBehaviour","seconds","=="),n("contentMediaType","video","=="),n("contentVideo","","!==")]},value:e.contentVideoPlayForSeconds},{group:"Content texts",title:"Primary text",type:"string",node:"contentPrimaryText",target:t.content.dataset,prop:"primaryText",visibleIf:function(){return[n("useContentMedia",!0,"==")]},value:e.contentPrimaryText},{title:"Primary text color",type:"color",node:"contentPrimaryTextColor",target:t.content.dataset,prop:"primaryTextColor",value:e.contentPrimaryTextColor,visibleIf:function(){return[n("useContentMedia",!0,"==")]}},{title:"Primary text bg",type:"boolean",node:"contentPrimaryTextBg",target:t.content.dataset,prop:"primaryBgTextBg",value:e.contentPrimaryTextBg,transform:function(e){return e?t.contentPrimaryText.classList.add("use-background"):t.contentPrimaryText.classList.remove("use-background"),e},visibleIf:function(){return[n("useContentMedia",!0,"==")]}},{title:"Primary text bg color",type:"color",node:"contentPrimaryTextBgColor",target:t.content.dataset,prop:"primaryTextBgColor",value:e.contentPrimaryTextBgColor,visibleIf:function(){return[n("useContentMedia",!0,"=="),n("contentPrimaryTextBg",!0,"==")]}},{title:"Secondary text",type:"string",node:"contentSecondaryText",target:t.contentSecondaryText,prop:"innerHTML",visibleIf:function(){return[n("useContentMedia",!0,"==")]},value:e.contentSecondaryText},{title:"Secondary text color",type:"color",node:"contentSecondaryTextColor",target:t.contentSecondaryText.style,prop:"color",visibleIf:function(){return[n("useContentMedia",!0,"==")]},value:e.contentSecondaryTextColor},{group:"Content CTA",title:"CTA text",type:"string",node:"contentCtaText",target:t.contentCTAText,prop:"innerHTML",visibleIf:function(){return[n("useContentMedia",!0,"==")]},transform:function(e){return e.trim()?t.contentTexts.appendChild(t.contentCTA):t.contentCTA.remove(),e.trim()},value:e.contentCtaText},{title:"CTA text color",type:"color",node:"contentCtaColor",target:t.contentCTAText.style,prop:"color",visibleIf:function(){return[n("useContentMedia",!0,"==")]},value:e.contentCtaColor},{title:"CTA background",type:"color",node:"contentCtaBgColor",target:t.contentCTA.style,prop:"backgroundColor",visibleIf:function(){return[n("useContentMedia",!0,"==")]},value:e.contentCtaBgColor},{group:"Overlay",title:"Image",type:"image",node:"overlayImage",target:t.overlay.style,prop:"backgroundImage",visibleIf:function(){return[n("useOverlayImage",!0,"==")]},transform:function(e){return e.trim()?"url("+e+")":""},value:e.overlayImage},{group:"Sponsor",title:"Image",type:"image",node:"sponsorImage",target:t.sponsor.style,prop:"backgroundImage",visibleIf:function(){return[n("useSponsorImage",!0,"==")]},transform:function(e){return e.trim()?"url("+e+")":""},value:e.sponsorImage},{title:"Constrain to",type:"select",options:[{title:"Both",value:"both"},{title:"Products",value:"products"},{title:"Custom content",value:"content"}],node:"sponsorConstraints",target:t.sponsor.dataset,prop:"constraint",visibleIf:function(){return[n("useSponsorImage",!0,"==")]},transform:function(e){switch(e){case"both":t.bannerContent.appendChild(t.sponsor);break;case"products":t.slider.appendChild(t.sponsor);break;case"content":t.content.appendChild(t.sponsor)}return e}},{title:"Position",type:"select",options:[{title:"Top left",value:"top-left"},{title:"Top",value:"top"},{title:"Top right",value:"top-right"},{title:"Bottom left",value:"bottom-left"},{title:"Bottom",value:"bottom"},{title:"Bottom right",value:"bottom-right"}],node:"sponsorPosition",target:t.sponsor.dataset,prop:"position",value:e.sponsorPosition,visibleIf:function(){return[n("useSponsorImage",!0,"==")]}},{group:"Generic exit",title:"URL",type:"string",node:"exit",target:t.wrapper.dataset,prop:"exit",value:e.exit},{group:"UTM",title:"Content",type:"string",node:"utmContent",target:t.wrapper.dataset,prop:"utmContent",value:e.utmContent},{title:"Medium",type:"string",node:"utmMedium",target:t.wrapper.dataset,prop:"utmMedium",value:e.utmMedium},{title:"Source",type:"string",node:"utmSource",target:t.wrapper.dataset,prop:"utmSource",value:e.utmSource},{title:"Campaign",type:"string",node:"utmCampaign",target:t.wrapper.dataset,prop:"utmCampaign",value:e.utmCampaign}]}},function(e,t){}]);
//# sourceMappingURL=ad.js.map