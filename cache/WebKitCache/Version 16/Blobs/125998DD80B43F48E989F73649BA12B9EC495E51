(()=>{var Be=Object.defineProperty;var c=(ve,he)=>Be(ve,"name",{value:he,configurable:!0});(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[969,9753,9630],{13462:(ve,he,z)=>{/*!
 * Braintree End-to-End Encryption Library
 * https://www.braintreepayments.com
 * Copyright (c) 2009-2014 Braintree, a division of PayPal, Inc.
 *
 * JSBN
 * Copyright (c) 2005  Tom Wu
 *
 * Both Licensed under the MIT License.
 * http://opensource.org/licenses/MIT
 *
 * ASN.1 JavaScript decoder
 * Copyright (c) 2008-2009 Lapo Luchini <lapo@lapo.it>
 * Licensed under the ISC License.
 * http://opensource.org/licenses/ISC
 */(function(){function V(a,l){a instanceof V?(this.enc=a.enc,this.pos=a.pos):(this.enc=a,this.pos=l)}c(V,"Stream"),V.prototype.get=function(a){if(a==null&&(a=this.pos++),a>=this.enc.length)throw"Requesting byte offset "+a+" on a stream of length "+this.enc.length;return this.enc[a]},V.prototype.hexDigits="0123456789ABCDEF",V.prototype.hexByte=function(a){return this.hexDigits.charAt(a>>4&15)+this.hexDigits.charAt(a&15)},V.prototype.hexDump=function(a,l){for(var p="",h=a;h<l;++h)switch(p+=this.hexByte(this.get(h)),h&15){case 7:p+="  ";break;case 15:p+=`
`;break;default:p+=" "}return p},V.prototype.parseStringISO=function(a,l){for(var p="",h=a;h<l;++h)p+=String.fromCharCode(this.get(h));return p},V.prototype.parseStringUTF=function(a,l){for(var p="",h=0,x=a;x<l;){var h=this.get(x++);h<128?p+=String.fromCharCode(h):h>191&&h<224?p+=String.fromCharCode((h&31)<<6|this.get(x++)&63):p+=String.fromCharCode((h&15)<<12|(this.get(x++)&63)<<6|this.get(x++)&63)}return p},V.prototype.reTime=/^((?:1[89]|2\d)?\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,V.prototype.parseTime=function(a,l){var p=this.parseStringISO(a,l),h=this.reTime.exec(p);return h?(p=h[1]+"-"+h[2]+"-"+h[3]+" "+h[4],h[5]&&(p+=":"+h[5],h[6]&&(p+=":"+h[6],h[7]&&(p+="."+h[7]))),h[8]&&(p+=" UTC",h[8]!="Z"&&(p+=h[8],h[9]&&(p+=":"+h[9]))),p):"Unrecognized time: "+p},V.prototype.parseInteger=function(a,l){var p=l-a;if(p>4){p<<=3;var h=this.get(a);if(h==0)p-=8;else for(;h<128;)h<<=1,--p;return"("+p+" bit)"}for(var x=0,P=a;P<l;++P)x=x<<8|this.get(P);return x},V.prototype.parseBitString=function(a,l){var p=this.get(a),h=(l-a-1<<3)-p,x="("+h+" bit)";if(h<=20){var P=p;x+=" ";for(var D=l-1;D>a;--D){for(var k=this.get(D),H=P;H<8;++H)x+=k>>H&1?"1":"0";P=0}}return x},V.prototype.parseOctetString=function(a,l){var p=l-a,h="("+p+" byte) ";p>20&&(l=a+20);for(var x=a;x<l;++x)h+=this.hexByte(this.get(x));return p>20&&(h+=String.fromCharCode(8230)),h},V.prototype.parseOID=function(a,l){for(var p,h=0,x=0,P=a;P<l;++P){var D=this.get(P);h=h<<7|D&127,x+=7,D&128||(p==null?p=parseInt(h/40)+"."+h%40:p+="."+(x>=31?"bigint":h),h=x=0),p+=String.fromCharCode()}return p};function Q(a,l,p,h,x){this.stream=a,this.header=l,this.length=p,this.tag=h,this.sub=x}c(Q,"ASN1"),Q.prototype.typeName=function(){if(this.tag==null)return"unknown";var a=this.tag>>6,l=this.tag>>5&1,p=this.tag&31;switch(a){case 0:switch(p){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString";default:return"Universal_"+p.toString(16)}case 1:return"Application_"+p.toString(16);case 2:return"["+p+"]";case 3:return"Private_"+p.toString(16)}},Q.prototype.content=function(){if(this.tag==null)return null;var a=this.tag>>6;if(a!=0)return this.sub==null?null:"("+this.sub.length+")";var l=this.tag&31,p=this.posContent(),h=Math.abs(this.length);switch(l){case 1:return this.stream.get(p)==0?"false":"true";case 2:return this.stream.parseInteger(p,p+h);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(p,p+h);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(p,p+h);case 6:return this.stream.parseOID(p,p+h);case 16:case 17:return"("+this.sub.length+" elem)";case 12:return this.stream.parseStringUTF(p,p+h);case 18:case 19:case 20:case 21:case 22:case 26:return this.stream.parseStringISO(p,p+h);case 23:case 24:return this.stream.parseTime(p,p+h)}return null},Q.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(this.sub==null?"null":this.sub.length)+"]"},Q.prototype.print=function(a){if(a==null&&(a=""),document.writeln(a+this),this.sub!=null){a+="  ";for(var l=0,p=this.sub.length;l<p;++l)this.sub[l].print(a)}},Q.prototype.toPrettyString=function(a){a==null&&(a="");var l=a+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(l+="+"),l+=this.length,this.tag&32?l+=" (constructed)":(this.tag==3||this.tag==4)&&this.sub!=null&&(l+=" (encapsulates)"),l+=`
`,this.sub!=null){a+="  ";for(var p=0,h=this.sub.length;p<h;++p)l+=this.sub[p].toPrettyString(a)}return l},Q.prototype.posStart=function(){return this.stream.pos},Q.prototype.posContent=function(){return this.stream.pos+this.header},Q.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},Q.decodeLength=function(a){var l=a.get(),p=l&127;if(p==l)return p;if(p>3)throw"Length over 24 bits not supported at position "+(a.pos-1);if(p==0)return-1;l=0;for(var h=0;h<p;++h)l=l<<8|a.get();return l},Q.hasContent=function(a,l,p){if(a&32)return!0;if(a<3||a>4)return!1;var h=new V(p);a==3&&h.get();var x=h.get();if(x>>6&1)return!1;try{var P=Q.decodeLength(h);return h.pos-p.pos+P==l}catch{return!1}},Q.decode=function(a){a instanceof V||(a=new V(a,0));var l=new V(a),p=a.get(),h=Q.decodeLength(a),x=a.pos-l.pos,P=null;if(Q.hasContent(p,h,a)){var D=a.pos;if(p==3&&a.get(),P=[],h>=0){for(var k=D+h;a.pos<k;)P[P.length]=Q.decode(a);if(a.pos!=k)throw"Content size is not correct for container starting at offset "+D}else try{for(;;){var H=Q.decode(a);if(H.tag==0)break;P[P.length]=H}h=D-a.pos}catch(L){throw"Exception while decoding undefined length content: "+L}}else a.pos+=h;return new Q(l,x,h,p,P)};var se="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="=";function n(a){var l,p,h="";for(l=0;l+3<=a.length;l+=3)p=parseInt(a.substring(l,l+3),16),h+=se.charAt(p>>6)+se.charAt(p&63);for(l+1==a.length?(p=parseInt(a.substring(l,l+1),16),h+=se.charAt(p<<2)):l+2==a.length&&(p=parseInt(a.substring(l,l+2),16),h+=se.charAt(p>>2)+se.charAt((p&3)<<4));(h.length&3)>0;)h+=t;return h}c(n,"hex2b64");function e(a){var l="",p,h=0,x,P;for(p=0;p<a.length&&a.charAt(p)!=t;++p)P=se.indexOf(a.charAt(p)),!(P<0)&&(h==0?(l+=O(P>>2),x=P&3,h=1):h==1?(l+=O(x<<2|P>>4),x=P&15,h=2):h==2?(l+=O(x),l+=O(P>>2),x=P&3,h=3):(l+=O(x<<2|P>>4),l+=O(P&15),h=0));return h==1&&(l+=O(x<<2)),l}c(e,"b64tohex");function d(a){var l=e(a),p,h=new Array;for(p=0;2*p<l.length;++p)h[p]=parseInt(l.substring(2*p,2*p+2),16);return h}c(d,"b64toBA");var s,o=244837814094590,i=(o&16777215)==15715070;function r(a,l,p){a!=null&&(typeof a=="number"?this.fromNumber(a,l,p):l==null&&typeof a!="string"?this.fromString(a,256):this.fromString(a,l))}c(r,"BigInteger");function u(){return new r(null)}c(u,"nbi");function f(a,l,p,h,x,P){for(;--P>=0;){var D=l*this[a++]+p[h]+x;x=Math.floor(D/67108864),p[h++]=D&67108863}return x}c(f,"am1");function b(a,l,p,h,x,P){for(var D=l&32767,k=l>>15;--P>=0;){var H=this[a]&32767,L=this[a++]>>15,K=k*H+L*D;H=D*H+((K&32767)<<15)+p[h]+(x&1073741823),x=(H>>>30)+(K>>>15)+k*L+(x>>>30),p[h++]=H&1073741823}return x}c(b,"am2");function y(a,l,p,h,x,P){for(var D=l&16383,k=l>>14;--P>=0;){var H=this[a]&16383,L=this[a++]>>14,K=k*H+L*D;H=D*H+((K&16383)<<14)+p[h]+x,x=(H>>28)+(K>>14)+k*L,p[h++]=H&268435455}return x}c(y,"am3"),i&&navigator.appName=="Microsoft Internet Explorer"?(r.prototype.am=b,s=30):i&&navigator.appName!="Netscape"?(r.prototype.am=f,s=26):(r.prototype.am=y,s=28),r.prototype.DB=s,r.prototype.DM=(1<<s)-1,r.prototype.DV=1<<s;var g=52;r.prototype.FV=Math.pow(2,g),r.prototype.F1=g-s,r.prototype.F2=2*s-g;var v="0123456789abcdefghijklmnopqrstuvwxyz",S=new Array,_,w;for(_="0".charCodeAt(0),w=0;w<=9;++w)S[_++]=w;for(_="a".charCodeAt(0),w=10;w<36;++w)S[_++]=w;for(_="A".charCodeAt(0),w=10;w<36;++w)S[_++]=w;function O(a){return v.charAt(a)}c(O,"int2char");function R(a,l){var p=S[a.charCodeAt(l)];return p==null?-1:p}c(R,"intAt");function C(a){for(var l=this.t-1;l>=0;--l)a[l]=this[l];a.t=this.t,a.s=this.s}c(C,"bnpCopyTo");function E(a){this.t=1,this.s=a<0?-1:0,a>0?this[0]=a:a<-1?this[0]=a+this.DV:this.t=0}c(E,"bnpFromInt");function I(a){var l=u();return l.fromInt(a),l}c(I,"nbv");function M(a,l){var p;if(l==16)p=4;else if(l==8)p=3;else if(l==256)p=8;else if(l==2)p=1;else if(l==32)p=5;else if(l==4)p=2;else{this.fromRadix(a,l);return}this.t=0,this.s=0;for(var h=a.length,x=!1,P=0;--h>=0;){var D=p==8?a[h]&255:R(a,h);if(D<0){a.charAt(h)=="-"&&(x=!0);continue}x=!1,P==0?this[this.t++]=D:P+p>this.DB?(this[this.t-1]|=(D&(1<<this.DB-P)-1)<<P,this[this.t++]=D>>this.DB-P):this[this.t-1]|=D<<P,P+=p,P>=this.DB&&(P-=this.DB)}p==8&&(a[0]&128)!=0&&(this.s=-1,P>0&&(this[this.t-1]|=(1<<this.DB-P)-1<<P)),this.clamp(),x&&r.ZERO.subTo(this,this)}c(M,"bnpFromString");function F(){for(var a=this.s&this.DM;this.t>0&&this[this.t-1]==a;)--this.t}c(F,"bnpClamp");function T(a){if(this.s<0)return"-"+this.negate().toString(a);var l;if(a==16)l=4;else if(a==8)l=3;else if(a==2)l=1;else if(a==32)l=5;else if(a==4)l=2;else return this.toRadix(a);var p=(1<<l)-1,h,x=!1,P="",D=this.t,k=this.DB-D*this.DB%l;if(D-- >0)for(k<this.DB&&(h=this[D]>>k)>0&&(x=!0,P=O(h));D>=0;)k<l?(h=(this[D]&(1<<k)-1)<<l-k,h|=this[--D]>>(k+=this.DB-l)):(h=this[D]>>(k-=l)&p,k<=0&&(k+=this.DB,--D)),h>0&&(x=!0),x&&(P+=O(h));return x?P:"0"}c(T,"bnToString");function m(){var a=u();return r.ZERO.subTo(this,a),a}c(m,"bnNegate");function A(){return this.s<0?this.negate():this}c(A,"bnAbs");function N(a){var l=this.s-a.s;if(l!=0)return l;var p=this.t;if(l=p-a.t,l!=0)return this.s<0?-l:l;for(;--p>=0;)if((l=this[p]-a[p])!=0)return l;return 0}c(N,"bnCompareTo");function U(a){var l=1,p;return(p=a>>>16)!=0&&(a=p,l+=16),(p=a>>8)!=0&&(a=p,l+=8),(p=a>>4)!=0&&(a=p,l+=4),(p=a>>2)!=0&&(a=p,l+=2),(p=a>>1)!=0&&(a=p,l+=1),l}c(U,"nbits");function B(){return this.t<=0?0:this.DB*(this.t-1)+U(this[this.t-1]^this.s&this.DM)}c(B,"bnBitLength");function j(a,l){var p;for(p=this.t-1;p>=0;--p)l[p+a]=this[p];for(p=a-1;p>=0;--p)l[p]=0;l.t=this.t+a,l.s=this.s}c(j,"bnpDLShiftTo");function G(a,l){for(var p=a;p<this.t;++p)l[p-a]=this[p];l.t=Math.max(this.t-a,0),l.s=this.s}c(G,"bnpDRShiftTo");function J(a,l){var p=a%this.DB,h=this.DB-p,x=(1<<h)-1,P=Math.floor(a/this.DB),D=this.s<<p&this.DM,k;for(k=this.t-1;k>=0;--k)l[k+P+1]=this[k]>>h|D,D=(this[k]&x)<<p;for(k=P-1;k>=0;--k)l[k]=0;l[P]=D,l.t=this.t+P+1,l.s=this.s,l.clamp()}c(J,"bnpLShiftTo");function te(a,l){l.s=this.s;var p=Math.floor(a/this.DB);if(p>=this.t){l.t=0;return}var h=a%this.DB,x=this.DB-h,P=(1<<h)-1;l[0]=this[p]>>h;for(var D=p+1;D<this.t;++D)l[D-p-1]|=(this[D]&P)<<x,l[D-p]=this[D]>>h;h>0&&(l[this.t-p-1]|=(this.s&P)<<x),l.t=this.t-p,l.clamp()}c(te,"bnpRShiftTo");function Y(a,l){for(var p=0,h=0,x=Math.min(a.t,this.t);p<x;)h+=this[p]-a[p],l[p++]=h&this.DM,h>>=this.DB;if(a.t<this.t){for(h-=a.s;p<this.t;)h+=this[p],l[p++]=h&this.DM,h>>=this.DB;h+=this.s}else{for(h+=this.s;p<a.t;)h-=a[p],l[p++]=h&this.DM,h>>=this.DB;h-=a.s}l.s=h<0?-1:0,h<-1?l[p++]=this.DV+h:h>0&&(l[p++]=h),l.t=p,l.clamp()}c(Y,"bnpSubTo");function ie(a,l){var p=this.abs(),h=a.abs(),x=p.t;for(l.t=x+h.t;--x>=0;)l[x]=0;for(x=0;x<h.t;++x)l[x+p.t]=p.am(0,h[x],l,x,0,p.t);l.s=0,l.clamp(),this.s!=a.s&&r.ZERO.subTo(l,l)}c(ie,"bnpMultiplyTo");function ue(a){for(var l=this.abs(),p=a.t=2*l.t;--p>=0;)a[p]=0;for(p=0;p<l.t-1;++p){var h=l.am(p,l[p],a,2*p,0,1);(a[p+l.t]+=l.am(p+1,2*l[p],a,2*p+1,h,l.t-p-1))>=l.DV&&(a[p+l.t]-=l.DV,a[p+l.t+1]=1)}a.t>0&&(a[a.t-1]+=l.am(p,l[p],a,2*p,0,1)),a.s=0,a.clamp()}c(ue,"bnpSquareTo");function pe(a,l,p){var h=a.abs();if(!(h.t<=0)){var x=this.abs();if(x.t<h.t){l!=null&&l.fromInt(0),p!=null&&this.copyTo(p);return}p==null&&(p=u());var P=u(),D=this.s,k=a.s,H=this.DB-U(h[h.t-1]);H>0?(h.lShiftTo(H,P),x.lShiftTo(H,p)):(h.copyTo(P),x.copyTo(p));var L=P.t,K=P[L-1];if(K!=0){var X=K*(1<<this.F1)+(L>1?P[L-2]>>this.F2:0),W=this.FV/X,ne=(1<<this.F1)/X,re=1<<this.F2,ce=p.t,_e=ce-L,ye=l==null?u():l;for(P.dlShiftTo(_e,ye),p.compareTo(ye)>=0&&(p[p.t++]=1,p.subTo(ye,p)),r.ONE.dlShiftTo(L,ye),ye.subTo(P,P);P.t<L;)P[P.t++]=0;for(;--_e>=0;){var Ce=p[--ce]==K?this.DM:Math.floor(p[ce]*W+(p[ce-1]+re)*ne);if((p[ce]+=P.am(0,Ce,p,_e,0,L))<Ce)for(P.dlShiftTo(_e,ye),p.subTo(ye,p);p[ce]<--Ce;)p.subTo(ye,p)}l!=null&&(p.drShiftTo(L,l),D!=k&&r.ZERO.subTo(l,l)),p.t=L,p.clamp(),H>0&&p.rShiftTo(H,p),D<0&&r.ZERO.subTo(p,p)}}}c(pe,"bnpDivRemTo");function we(a){var l=u();return this.abs().divRemTo(a,null,l),this.s<0&&l.compareTo(r.ZERO)>0&&a.subTo(l,l),l}c(we,"bnMod");function me(a){this.m=a}c(me,"Classic");function Pe(a){return a.s<0||a.compareTo(this.m)>=0?a.mod(this.m):a}c(Pe,"cConvert");function Re(a){return a}c(Re,"cRevert");function ee(a){a.divRemTo(this.m,null,a)}c(ee,"cReduce");function oe(a,l,p){a.multiplyTo(l,p),this.reduce(p)}c(oe,"cMulTo");function le(a,l){a.squareTo(l),this.reduce(l)}c(le,"cSqrTo"),me.prototype.convert=Pe,me.prototype.revert=Re,me.prototype.reduce=ee,me.prototype.mulTo=oe,me.prototype.sqrTo=le;function de(){if(this.t<1)return 0;var a=this[0];if((a&1)==0)return 0;var l=a&3;return l=l*(2-(a&15)*l)&15,l=l*(2-(a&255)*l)&255,l=l*(2-((a&65535)*l&65535))&65535,l=l*(2-a*l%this.DV)%this.DV,l>0?this.DV-l:-l}c(de,"bnpInvDigit");function fe(a){this.m=a,this.mp=a.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<a.DB-15)-1,this.mt2=2*a.t}c(fe,"Montgomery");function Z(a){var l=u();return a.abs().dlShiftTo(this.m.t,l),l.divRemTo(this.m,null,l),a.s<0&&l.compareTo(r.ZERO)>0&&this.m.subTo(l,l),l}c(Z,"montConvert");function ae(a){var l=u();return a.copyTo(l),this.reduce(l),l}c(ae,"montRevert");function ge(a){for(;a.t<=this.mt2;)a[a.t++]=0;for(var l=0;l<this.m.t;++l){var p=a[l]&32767,h=p*this.mpl+((p*this.mph+(a[l]>>15)*this.mpl&this.um)<<15)&a.DM;for(p=l+this.m.t,a[p]+=this.m.am(0,h,a,l,0,this.m.t);a[p]>=a.DV;)a[p]-=a.DV,a[++p]++}a.clamp(),a.drShiftTo(this.m.t,a),a.compareTo(this.m)>=0&&a.subTo(this.m,a)}c(ge,"montReduce");function be(a,l){a.squareTo(l),this.reduce(l)}c(be,"montSqrTo");function Ae(a,l,p){a.multiplyTo(l,p),this.reduce(p)}c(Ae,"montMulTo"),fe.prototype.convert=Z,fe.prototype.revert=ae,fe.prototype.reduce=ge,fe.prototype.mulTo=Ae,fe.prototype.sqrTo=be;function xe(){return(this.t>0?this[0]&1:this.s)==0}c(xe,"bnpIsEven");function Se(a,l){if(a>4294967295||a<1)return r.ONE;var p=u(),h=u(),x=l.convert(this),P=U(a)-1;for(x.copyTo(p);--P>=0;)if(l.sqrTo(p,h),(a&1<<P)>0)l.mulTo(h,x,p);else{var D=p;p=h,h=D}return l.revert(p)}c(Se,"bnpExp");function Ee(a,l){var p;return a<256||l.isEven()?p=new me(l):p=new fe(l),this.exp(a,p)}c(Ee,"bnModPowInt"),r.prototype.copyTo=C,r.prototype.fromInt=E,r.prototype.fromString=M,r.prototype.clamp=F,r.prototype.dlShiftTo=j,r.prototype.drShiftTo=G,r.prototype.lShiftTo=J,r.prototype.rShiftTo=te,r.prototype.subTo=Y,r.prototype.multiplyTo=ie,r.prototype.squareTo=ue,r.prototype.divRemTo=pe,r.prototype.invDigit=de,r.prototype.isEven=xe,r.prototype.exp=Se,r.prototype.toString=T,r.prototype.negate=m,r.prototype.abs=A,r.prototype.compareTo=N,r.prototype.bitLength=B,r.prototype.mod=we,r.prototype.modPowInt=Ee,r.ZERO=I(0),r.ONE=I(1);function De(a,l){return new r(a,l)}c(De,"parseBigInt");function Ie(a,l){for(var p="",h=0;h+l<a.length;)p+=a.substring(h,h+l)+`
`,h+=l;return p+a.substring(h,a.length)}c(Ie,"linebrk");function Fe(a){return a<16?"0"+a.toString(16):a.toString(16)}c(Fe,"byte2Hex");function Me(a,l){if(l<a.length+11)throw new Error("Message too long for RSA");for(var p=new Array,h=a.length-1;h>=0&&l>0;){var x=a.charCodeAt(h--);x<128?p[--l]=x:x>127&&x<2048?(p[--l]=x&63|128,p[--l]=x>>6|192):(p[--l]=x&63|128,p[--l]=x>>6&63|128,p[--l]=x>>12|224)}p[--l]=0;for(var P=0,D=0,k=0;l>2;)k==0&&(D=q.random.randomWords(1,0)[0]),P=D>>k&255,k=(k+8)%32,P!=0&&(p[--l]=P);return p[--l]=2,p[--l]=0,new r(p)}c(Me,"pkcs1pad2");function Ne(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}c(Ne,"RSAKey");function Ue(a,l){if(a!=null&&l!=null&&a.length>0&&l.length>0)this.n=De(a,16),this.e=parseInt(l,16);else throw new Error("Invalid RSA public key")}c(Ue,"RSASetPublic");function Le(a){return a.modPowInt(this.e,this.n)}c(Le,"RSADoPublic");function ke(a){var l=Me(a,this.n.bitLength()+7>>3);if(l==null)return null;var p=this.doPublic(l);if(p==null)return null;var h=p.toString(16);return(h.length&1)==0?h:"0"+h}c(ke,"RSAEncrypt"),Ne.prototype.doPublic=Le,Ne.prototype.setPublic=Ue,Ne.prototype.encrypt=ke;var q={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(a){this.toString=function(){return"CORRUPT: "+this.message},this.message=a},invalid:function(a){this.toString=function(){return"INVALID: "+this.message},this.message=a},bug:function(a){this.toString=function(){return"BUG: "+this.message},this.message=a},notReady:function(a){this.toString=function(){return"NOT READY: "+this.message},this.message=a}}};ve.exports&&(ve.exports=q),q.cipher.aes=function(a){this._tables[0][0][0]||this._precompute();var l,p,h,x,P,D=this._tables[0][4],k=this._tables[1],H=a.length,L=1;if(H!==4&&H!==6&&H!==8)throw new q.exception.invalid("invalid aes key size");for(this._key=[x=a.slice(0),P=[]],l=H;l<4*H+28;l++)h=x[l-1],(l%H===0||H===8&&l%H===4)&&(h=D[h>>>24]<<24^D[h>>16&255]<<16^D[h>>8&255]<<8^D[h&255],l%H===0&&(h=h<<8^h>>>24^L<<24,L=L<<1^(L>>7)*283)),x[l]=x[l-H]^h;for(p=0;l;p++,l--)h=x[p&3?l:l-4],l<=4||p<4?P[p]=h:P[p]=k[0][D[h>>>24]]^k[1][D[h>>16&255]]^k[2][D[h>>8&255]]^k[3][D[h&255]]},q.cipher.aes.prototype={encrypt:function(a){return this._crypt(a,0)},decrypt:function(a){return this._crypt(a,1)},_tables:[[[],[],[],[],[]],[[],[],[],[],[]]],_precompute:function(){var a=this._tables[0],l=this._tables[1],p=a[4],h=l[4],x,P,D,k=[],H=[],L,K,X,W,ne,re;for(x=0;x<256;x++)H[(k[x]=x<<1^(x>>7)*283)^x]=x;for(P=D=0;!p[P];P^=L||1,D=H[D]||1)for(W=D^D<<1^D<<2^D<<3^D<<4,W=W>>8^W&255^99,p[P]=W,h[W]=P,X=k[K=k[L=k[P]]],re=X*16843009^K*65537^L*257^P*16843008,ne=k[W]*257^W*16843008,x=0;x<4;x++)a[x][P]=ne=ne<<24^ne>>>8,l[x][W]=re=re<<24^re>>>8;for(x=0;x<5;x++)a[x]=a[x].slice(0),l[x]=l[x].slice(0)},_crypt:function(a,l){if(a.length!==4)throw new q.exception.invalid("invalid aes block size");var p=this._key[l],h=a[0]^p[0],x=a[l?3:1]^p[1],P=a[2]^p[2],D=a[l?1:3]^p[3],k,H,L,K=p.length/4-2,X,W=4,ne=[0,0,0,0],re=this._tables[l],ce=re[0],_e=re[1],ye=re[2],Ce=re[3],Oe=re[4];for(X=0;X<K;X++)k=ce[h>>>24]^_e[x>>16&255]^ye[P>>8&255]^Ce[D&255]^p[W],H=ce[x>>>24]^_e[P>>16&255]^ye[D>>8&255]^Ce[h&255]^p[W+1],L=ce[P>>>24]^_e[D>>16&255]^ye[h>>8&255]^Ce[x&255]^p[W+2],D=ce[D>>>24]^_e[h>>16&255]^ye[x>>8&255]^Ce[P&255]^p[W+3],W+=4,h=k,x=H,P=L;for(X=0;X<4;X++)ne[l?3&-X:X]=Oe[h>>>24]<<24^Oe[x>>16&255]<<16^Oe[P>>8&255]<<8^Oe[D&255]^p[W++],k=h,h=x,x=P,P=D,D=k;return ne}},q.bitArray={bitSlice:function(a,l,p){return a=q.bitArray._shiftRight(a.slice(l/32),32-(l&31)).slice(1),p===void 0?a:q.bitArray.clamp(a,p-l)},extract:function(a,l,p){var h,x=Math.floor(-l-p&31);return(l+p-1^l)&-32?h=a[l/32|0]<<32-x^a[l/32+1|0]>>>x:h=a[l/32|0]>>>x,h&(1<<p)-1},concat:function(a,l){if(a.length===0||l.length===0)return a.concat(l);var p,h,x=a[a.length-1],P=q.bitArray.getPartial(x);return P===32?a.concat(l):q.bitArray._shiftRight(l,P,x|0,a.slice(0,a.length-1))},bitLength:function(a){var l=a.length,p;return l===0?0:(p=a[l-1],(l-1)*32+q.bitArray.getPartial(p))},clamp:function(a,l){if(a.length*32<l)return a;a=a.slice(0,Math.ceil(l/32));var p=a.length;return l=l&31,p>0&&l&&(a[p-1]=q.bitArray.partial(l,a[p-1]&2147483648>>l-1,1)),a},partial:function(a,l,p){return a===32?l:(p?l|0:l<<32-a)+a*1099511627776},getPartial:function(a){return Math.round(a/1099511627776)||32},equal:function(a,l){if(q.bitArray.bitLength(a)!==q.bitArray.bitLength(l))return!1;var p=0,h;for(h=0;h<a.length;h++)p|=a[h]^l[h];return p===0},_shiftRight:function(a,l,p,h){var x,P=0,D;for(h===void 0&&(h=[]);l>=32;l-=32)h.push(p),p=0;if(l===0)return h.concat(a);for(x=0;x<a.length;x++)h.push(p|a[x]>>>l),p=a[x]<<32-l;return P=a.length?a[a.length-1]:0,D=q.bitArray.getPartial(P),h.push(q.bitArray.partial(l+D&31,l+D>32?p:h.pop(),1)),h},_xor4:function(a,l){return[a[0]^l[0],a[1]^l[1],a[2]^l[2],a[3]^l[3]]}},q.codec.hex={fromBits:function(a){var l="",p,h;for(p=0;p<a.length;p++)l+=((a[p]|0)+263882790666240).toString(16).substr(4);return l.substr(0,q.bitArray.bitLength(a)/4)},toBits:function(a){var l,p=[],h;for(a=a.replace(/\s|0x/g,""),h=a.length,a=a+"00000000",l=0;l<a.length;l+=8)p.push(parseInt(a.substr(l,8),16)^0);return q.bitArray.clamp(p,h*4)}},q.codec.utf8String={fromBits:function(a){var l="",p=q.bitArray.bitLength(a),h,x;for(h=0;h<p/8;h++)(h&3)===0&&(x=a[h/4]),l+=String.fromCharCode(x>>>24),x<<=8;return decodeURIComponent(escape(l))},toBits:function(a){a=unescape(encodeURIComponent(a));var l=[],p,h=0;for(p=0;p<a.length;p++)h=h<<8|a.charCodeAt(p),(p&3)===3&&(l.push(h),h=0);return p&3&&l.push(q.bitArray.partial(8*(p&3),h)),l}},q.codec.base64={_chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(a,l,p){var h="",x,P=0,D=q.codec.base64._chars,k=0,H=q.bitArray.bitLength(a);for(p&&(D=D.substr(0,62)+"-_"),x=0;h.length*6<H;)h+=D.charAt((k^a[x]>>>P)>>>26),P<6?(k=a[x]<<6-P,P+=26,x++):(k<<=6,P-=6);for(;h.length&3&&!l;)h+="=";return h},toBits:function(a,l){a=a.replace(/\s|=/g,"");var p=[],h,x=0,P=q.codec.base64._chars,D=0,k;for(l&&(P=P.substr(0,62)+"-_"),h=0;h<a.length;h++){if(k=P.indexOf(a.charAt(h)),k<0)throw new q.exception.invalid("this isn't base64!");x>26?(x-=26,p.push(D^k>>>x),D=k<<32-x):(x+=6,D^=k<<32-x)}return x&56&&p.push(q.bitArray.partial(x&56,D,1)),p}},q.codec.base64url={fromBits:function(a){return q.codec.base64.fromBits(a,1,1)},toBits:function(a){return q.codec.base64.toBits(a,1)}},q.beware===void 0&&(q.beware={}),q.beware["CBC mode is dangerous because it doesn't protect message integrity."]=function(){q.mode.cbc={name:"cbc",encrypt:function(a,l,p,h){if(h&&h.length)throw new q.exception.invalid("cbc can't authenticate data");if(q.bitArray.bitLength(p)!==128)throw new q.exception.invalid("cbc iv must be 128 bits");var x,P=q.bitArray,D=P._xor4,k=P.bitLength(l),H=0,L=[];if(k&7)throw new q.exception.invalid("pkcs#5 padding only works for multiples of a byte");for(x=0;H+128<=k;x+=4,H+=128)p=a.encrypt(D(p,l.slice(x,x+4))),L.splice(x,0,p[0],p[1],p[2],p[3]);return k=(16-(k>>3&15))*16843009,p=a.encrypt(D(p,P.concat(l,[k,k,k,k]).slice(x,x+4))),L.splice(x,0,p[0],p[1],p[2],p[3]),L},decrypt:function(a,l,p,h){if(h&&h.length)throw new q.exception.invalid("cbc can't authenticate data");if(q.bitArray.bitLength(p)!==128)throw new q.exception.invalid("cbc iv must be 128 bits");if(q.bitArray.bitLength(l)&127||!l.length)throw new q.exception.corrupt("cbc ciphertext must be a positive multiple of the block size");var x,P=q.bitArray,D=P._xor4,k,H,L=[];for(h=h||[],x=0;x<l.length;x+=4)k=l.slice(x,x+4),H=D(p,a.decrypt(k)),L.splice(x,0,H[0],H[1],H[2],H[3]),p=k;if(k=L[x-1]&255,k==0||k>16)throw new q.exception.corrupt("pkcs#5 padding corrupt");if(H=k*16843009,!P.equal(P.bitSlice([H,H,H,H],0,k*8),P.bitSlice(L,L.length*32-k*8,L.length*32)))throw new q.exception.corrupt("pkcs#5 padding corrupt");return P.bitSlice(L,0,L.length*32-k*8)}}},q.misc.hmac=function(a,l){this._hash=l=l||q.hash.sha256;var p=[[],[]],h,x=l.prototype.blockSize/32;for(this._baseHash=[new l,new l],a.length>x&&(a=l.hash(a)),h=0;h<x;h++)p[0][h]=a[h]^909522486,p[1][h]=a[h]^1549556828;this._baseHash[0].update(p[0]),this._baseHash[1].update(p[1])},q.misc.hmac.prototype.encrypt=q.misc.hmac.prototype.mac=function(a,l){var p=new this._hash(this._baseHash[0]).update(a,l).finalize();return new this._hash(this._baseHash[1]).update(p).finalize()},q.hash.sha256=function(a){this._key[0]||this._precompute(),a?(this._h=a._h.slice(0),this._buffer=a._buffer.slice(0),this._length=a._length):this.reset()},q.hash.sha256.hash=function(a){return new q.hash.sha256().update(a).finalize()},q.hash.sha256.prototype={blockSize:512,reset:function(){return this._h=this._init.slice(0),this._buffer=[],this._length=0,this},update:function(a){typeof a=="string"&&(a=q.codec.utf8String.toBits(a));var l,p=this._buffer=q.bitArray.concat(this._buffer,a),h=this._length,x=this._length=h+q.bitArray.bitLength(a);for(l=512+h&-512;l<=x;l+=512)this._block(p.splice(0,16));return this},finalize:function(){var a,l=this._buffer,p=this._h;for(l=q.bitArray.concat(l,[q.bitArray.partial(1,1)]),a=l.length+2;a&15;a++)l.push(0);for(l.push(Math.floor(this._length/4294967296)),l.push(this._length|0);l.length;)this._block(l.splice(0,16));return this.reset(),p},_init:[],_key:[],_precompute:function(){var a=0,l=2,p;function h(x){return(x-Math.floor(x))*4294967296|0}c(h,"frac");e:for(;a<64;l++){for(p=2;p*p<=l;p++)if(l%p===0)continue e;a<8&&(this._init[a]=h(Math.pow(l,1/2))),this._key[a]=h(Math.pow(l,1/3)),a++}},_block:function(a){var l,p,h,x,P=a.slice(0),D=this._h,k=this._key,H=D[0],L=D[1],K=D[2],X=D[3],W=D[4],ne=D[5],re=D[6],ce=D[7];for(l=0;l<64;l++)l<16?p=P[l]:(h=P[l+1&15],x=P[l+14&15],p=P[l&15]=(h>>>7^h>>>18^h>>>3^h<<25^h<<14)+(x>>>17^x>>>19^x>>>10^x<<15^x<<13)+P[l&15]+P[l+9&15]|0),p=p+ce+(W>>>6^W>>>11^W>>>25^W<<26^W<<21^W<<7)+(re^W&(ne^re))+k[l],ce=re,re=ne,ne=W,W=X+p|0,X=K,K=L,L=H,H=p+(L&K^X&(L^K))+(L>>>2^L>>>13^L>>>22^L<<30^L<<19^L<<10)|0;D[0]=D[0]+H|0,D[1]=D[1]+L|0,D[2]=D[2]+K|0,D[3]=D[3]+X|0,D[4]=D[4]+W|0,D[5]=D[5]+ne|0,D[6]=D[6]+re|0,D[7]=D[7]+ce|0}},q.random={randomWords:function(a,l){var p=[],h,x=this.isReady(l),P;if(x===this._NOT_READY)throw new q.exception.notReady("generator isn't seeded");for(x&this._REQUIRES_RESEED&&this._reseedFromPools(!(x&this._READY)),h=0;h<a;h+=4)(h+1)%this._MAX_WORDS_PER_BURST===0&&this._gate(),P=this._gen4words(),p.push(P[0],P[1],P[2],P[3]);return this._gate(),p.slice(0,a)},setDefaultParanoia:function(a){this._defaultParanoia=a},addEntropy:function(a,l,p){p=p||"user";var h,x,P,D=new Date().valueOf(),k=this._robins[p],H=this.isReady(),L=0;switch(h=this._collectorIds[p],h===void 0&&(h=this._collectorIds[p]=this._collectorIdNext++),k===void 0&&(k=this._robins[p]=0),this._robins[p]=(this._robins[p]+1)%this._pools.length,typeof a){case"number":l===void 0&&(l=1),this._pools[k].update([h,this._eventId++,1,l,D,1,a|0]);break;case"object":var K=Object.prototype.toString.call(a);if(K==="[object Uint32Array]"){for(P=[],x=0;x<a.length;x++)P.push(a[x]);a=P}else for(K!=="[object Array]"&&(L=1),x=0;x<a.length&&!L;x++)typeof a[x]!="number"&&(L=1);if(!L){if(l===void 0)for(l=0,x=0;x<a.length;x++)for(P=a[x];P>0;)l++,P=P>>>1;this._pools[k].update([h,this._eventId++,2,l,D,a.length].concat(a))}break;case"string":l===void 0&&(l=a.length),this._pools[k].update([h,this._eventId++,3,l,D,a.length]),this._pools[k].update(a);break;default:L=1}if(L)throw new q.exception.bug("random: addEntropy only supports number, array of numbers or string");this._poolEntropy[k]+=l,this._poolStrength+=l,H===this._NOT_READY&&(this.isReady()!==this._NOT_READY&&this._fireEvent("seeded",Math.max(this._strength,this._poolStrength)),this._fireEvent("progress",this.getProgress()))},isReady:function(a){var l=this._PARANOIA_LEVELS[a!==void 0?a:this._defaultParanoia];return this._strength&&this._strength>=l?this._poolEntropy[0]>this._BITS_PER_RESEED&&new Date().valueOf()>this._nextReseed?this._REQUIRES_RESEED|this._READY:this._READY:this._poolStrength>=l?this._REQUIRES_RESEED|this._NOT_READY:this._NOT_READY},getProgress:function(a){var l=this._PARANOIA_LEVELS[a||this._defaultParanoia];return this._strength>=l||this._poolStrength>l?1:this._poolStrength/l},startCollectors:function(){if(!this._collectorsStarted){if(window.addEventListener)window.addEventListener("load",this._loadTimeCollector,!1),window.addEventListener("mousemove",this._mouseCollector,!1);else if(document.attachEvent)document.attachEvent("onload",this._loadTimeCollector),document.attachEvent("onmousemove",this._mouseCollector);else throw new q.exception.bug("can't attach event");this._collectorsStarted=!0}},stopCollectors:function(){!this._collectorsStarted||(window.removeEventListener?(window.removeEventListener("load",this._loadTimeCollector,!1),window.removeEventListener("mousemove",this._mouseCollector,!1)):window.detachEvent&&(window.detachEvent("onload",this._loadTimeCollector),window.detachEvent("onmousemove",this._mouseCollector)),this._collectorsStarted=!1)},addEventListener:function(a,l){this._callbacks[a][this._callbackI++]=l},removeEventListener:function(a,l){var p,h,x=this._callbacks[a],P=[];for(h in x)x.hasOwnProperty(h)&&x[h]===l&&P.push(h);for(p=0;p<P.length;p++)h=P[p],delete x[h]},_pools:[new q.hash.sha256],_poolEntropy:[0],_reseedCount:0,_robins:{},_eventId:0,_collectorIds:{},_collectorIdNext:0,_strength:0,_poolStrength:0,_nextReseed:0,_key:[0,0,0,0,0,0,0,0],_counter:[0,0,0,0],_cipher:void 0,_defaultParanoia:6,_collectorsStarted:!1,_callbacks:{progress:{},seeded:{}},_callbackI:0,_NOT_READY:0,_READY:1,_REQUIRES_RESEED:2,_MAX_WORDS_PER_BURST:65536,_PARANOIA_LEVELS:[0,48,64,96,128,192,256,384,512,768,1024],_MILLISECONDS_PER_RESEED:3e4,_BITS_PER_RESEED:80,_gen4words:function(){for(var a=0;a<4&&(this._counter[a]=this._counter[a]+1|0,!this._counter[a]);a++);return this._cipher.encrypt(this._counter)},_gate:function(){this._key=this._gen4words().concat(this._gen4words()),this._cipher=new q.cipher.aes(this._key)},_reseed:function(a){this._key=q.hash.sha256.hash(this._key.concat(a)),this._cipher=new q.cipher.aes(this._key);for(var l=0;l<4&&(this._counter[l]=this._counter[l]+1|0,!this._counter[l]);l++);},_reseedFromPools:function(a){var l=[],p=0,h;for(this._nextReseed=l[0]=new Date().valueOf()+this._MILLISECONDS_PER_RESEED,h=0;h<16;h++)l.push(Math.random()*4294967296|0);for(h=0;h<this._pools.length&&(l=l.concat(this._pools[h].finalize()),p+=this._poolEntropy[h],this._poolEntropy[h]=0,!(!a&&this._reseedCount&1<<h));h++);this._reseedCount>=1<<this._pools.length&&(this._pools.push(new q.hash.sha256),this._poolEntropy.push(0)),this._poolStrength-=p,p>this._strength&&(this._strength=p),this._reseedCount++,this._reseed(l)},_mouseCollector:function(a){var l=a.x||a.clientX||a.offsetX||0,p=a.y||a.clientY||a.offsetY||0;q.random.addEntropy([l,p],2,"mouse")},_loadTimeCollector:function(a){q.random.addEntropy(new Date().valueOf(),2,"loadtime")},_fireEvent:function(a,l){var p,h=q.random._callbacks[a],x=[];for(p in h)h.hasOwnProperty(p)&&x.push(h[p]);for(p=0;p<x.length;p++)x[p](l)}},function(){try{var a=new Uint32Array(32);crypto.getRandomValues(a),q.random.addEntropy(a,1024,"crypto.getRandomValues")}catch{}}(),function(){for(var a in q.beware)q.beware.hasOwnProperty(a)&&q.beware[a]()}();var Te={sjcl:q,version:"1.3.10"};Te.generateAesKey=function(){return{key:q.random.randomWords(8,0),encrypt:function(a){return this.encryptWithIv(a,q.random.randomWords(4,0))},encryptWithIv:function(a,l){var p=new q.cipher.aes(this.key),h=q.codec.utf8String.toBits(a),x=q.mode.cbc.encrypt(p,h,l),P=q.bitArray.concat(l,x);return q.codec.base64.fromBits(P)}}},Te.create=function(a){return new Te.EncryptionClient(a)},Te.EncryptionClient=function(a){var l=this,p=[];l.publicKey=a,l.version=Te.version;var h=c(function(L,K){var X,W,ne;X=document.createElement(L);for(W in K)K.hasOwnProperty(W)&&(ne=K[W],X.setAttribute(W,ne));return X},"createElement"),x=c(function(L){return window.jQuery&&L instanceof jQuery?L[0]:L.nodeType&&L.nodeType===1?L:document.getElementById(L)},"extractForm"),P=c(function(L){var K=[],X,W,ne,re;if(L.typeName()==="INTEGER"&&(X=L.posContent(),W=L.posEnd(),ne=L.stream.hexDump(X,W).replace(/[ \n]/g,""),K.push(ne)),L.sub!==null)for(re=0;re<L.sub.length;re++)K=K.concat(P(L.sub[re]));return K},"extractIntegers"),D=c(function(L){var K=[],X=L.children,W,ne;for(ne=0;ne<X.length;ne++)W=X[ne],W.nodeType===1&&W.attributes["data-encrypted-name"]?K.push(W):W.children&&W.children.length>0&&(K=K.concat(D(W)));return K},"findInputs"),k=c(function(){var L,K,X,W,ne,re;try{ne=d(a),L=Q.decode(ne)}catch{throw"Invalid encryption key. Please use the key labeled 'Client-Side Encryption Key'"}if(X=P(L),X.length!==2)throw"Invalid encryption key. Please use the key labeled 'Client-Side Encryption Key'";return W=X[0],K=X[1],re=new Ne,re.setPublic(W,K),re},"generateRsaKey"),H=c(function(){return{key:q.random.randomWords(8,0),sign:function(L){var K=new q.misc.hmac(this.key,q.hash.sha256),X=K.encrypt(L);return q.codec.base64.fromBits(X)}}},"generateHmacKey");l.encrypt=function(L){var K=k(),X=Te.generateAesKey(),W=H(),ne=X.encrypt(L),re=W.sign(q.codec.base64.toBits(ne)),ce=q.bitArray.concat(X.key,W.key),_e=q.codec.base64.fromBits(ce),ye=K.encrypt(_e),Ce="$bt4|javascript_"+l.version.replace(/\./g,"_")+"$",Oe=null;return ye&&(Oe=n(ye)),Ce+Oe+"$"+ne+"$"+re},l.encryptForm=function(L){var K,X,W,ne,re,ce;for(L=x(L),ce=D(L);p.length>0;){try{L.removeChild(p[0])}catch{}p.splice(0,1)}for(re=0;re<ce.length;re++)K=ce[re],W=K.getAttribute("data-encrypted-name"),X=l.encrypt(K.value),K.removeAttribute("name"),ne=h("input",{value:X,type:"hidden",name:W}),p.push(ne),L.appendChild(ne)},l.onSubmitEncryptForm=function(L,K){var X;L=x(L),X=c(function(W){return l.encryptForm(L),K?K(W):W},"wrappedCallback"),window.jQuery?window.jQuery(L).submit(X):L.addEventListener?L.addEventListener("submit",X,!1):L.attachEvent&&L.attachEvent("onsubmit",X)},l.formEncrypter={encryptForm:l.encryptForm,extractForm:x,onSubmitEncryptForm:l.onSubmitEncryptForm},q.random.startCollectors()},window.Braintree=Te})(),function(V){if(!0)ve.exports=V();else var Q}(function(){var V,Q,se;return c(function t(n,e,d){function s(r,u){if(!e[r]){if(!n[r]){var f=void 0;if(!u&&f)return require(r,!0);if(o)return o(r,!0);var b=new Error("Cannot find module '"+r+"'");throw b.code="MODULE_NOT_FOUND",b}var y=e[r]={exports:{}};n[r][0].call(y.exports,function(g){var v=n[r][1][g];return s(v||g)},y,y.exports,t,n,e,d)}return e[r].exports}c(s,"s");for(var o=void 0,i=0;i<d.length;i++)s(d[i]);return s},"e")({1:[function(t,n,e){(function(d){"use strict";var s="2.14.0",o=t("braintree-api"),i=t("braintree-paypal"),r=t("braintree-dropin"),u=t("./integrations"),f=t("./constants"),b=t("./lib/fallback-error-handler"),y=t("./lib/lookup-callback-for"),g=t("braintree-utilities").uuid;function v(S,_,w){if(!u.hasOwnProperty(_))throw new Error(_+" is an unsupported integration");w=w||{},o._getConfiguration({enableCORS:w.enableCORS||!1,clientToken:S},function(O,R){var C;if(O){C=y(w)(f.ROOT_ERROR_CALLBACK,b),C({message:O.errors});return}new u[_]({channel:g(),gatewayConfiguration:R,integrationType:_,merchantConfiguration:w,analyticsConfiguration:{sdkVersion:"braintree/web/"+s,merchantAppId:d.location.host}})})}c(v,"setup"),n.exports={api:o,cse:d.Braintree,paypal:i,dropin:r,hostedFields:{VERSION:t("hosted-fields").VERSION},setup:v,VERSION:s}}).call(this,typeof z.g!="undefined"?z.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./constants":440,"./integrations":445,"./lib/fallback-error-handler":447,"./lib/lookup-callback-for":449,"braintree-api":21,"braintree-dropin":236,"braintree-paypal":344,"braintree-utilities":372,"hosted-fields":377}],2:[function(t,n,e){(function(d){"use strict";var s=t("braintree-utilities"),o=t("braintree-3ds"),i=t("./parse-client-token"),r=t("./util"),u=t("./sepa-mandate"),f=t("./europe-bank-account"),b=t("./credit-card"),y=t("./coinbase-account"),g=t("./paypal-account"),v=t("./normalize-api-fields").normalizeCreditCardFields,S=t("./request/choose-driver"),_=t("./should-enable-cors"),w=t("./constants");function O(C){var E=C.analyticsConfiguration||{},I=d.braintree?d.braintree.VERSION:null,M=I?"braintree/web/"+I:"";return{sdkVersion:E.sdkVersion||M,merchantAppId:E.merchantAppId||d.location.host}}c(O,"getAnalyticsConfiguration");function R(C){var E,I,M;this.attrs={},C.hasOwnProperty("sharedCustomerIdentifier")&&(this.attrs.sharedCustomerIdentifier=C.sharedCustomerIdentifier),E=i(C.clientToken),M=O(C),this.driver=C.driver||S({enableCORS:_(C)}),this.analyticsUrl=E.analytics?E.analytics.url:void 0,this.clientApiUrl=E.clientApiUrl,this.customerId=C.customerId,this.challenges=E.challenges,this.integration=C.integration||"",this.sdkVersion=M.sdkVersion,this.merchantAppId=M.merchantAppId,I=o.create(this,{container:C.container,clientToken:E}),this.verify3DS=s.bind(I.verify,I),this.attrs.sharedCustomerIdentifierType=C.sharedCustomerIdentifierType,E.merchantAccountId&&(this.attrs.merchantAccountId=E.merchantAccountId),C.clientKey?this.attrs.clientKey=C.clientKey:E.authorizationFingerprint&&(this.attrs.authorizationFingerprint=E.authorizationFingerprint),C.hasOwnProperty("timeout")?this.requestTimeout=C.timeout:this.requestTimeout=6e4}c(R,"Client"),R.prototype.getCreditCards=function(C){this.driver.get(r.joinUrlFragments([this.clientApiUrl,"v1","payment_methods"]),this.attrs,function(E){var I=0,M=E.paymentMethods.length,F=[];for(I;I<M;I++)F.push(new b(E.paymentMethods[I]));return F},C,this.requestTimeout)},R.prototype.tokenizeCoinbase=function(C,E){C.options={validate:!1},this.addCoinbase(C,function(I,M){I?E(I,null):M&&M.nonce?E(I,M):E("Unable to tokenize coinbase account.",null)})},R.prototype.tokenizePayPalAccount=function(C,E){C.options={validate:!1},this.addPayPalAccount(C,function(I,M){I?E(I,null):M&&M.nonce?E(null,M):E("Unable to tokenize paypal account.",null)})},R.prototype.tokenizeCard=function(C,E){C.options={validate:!1},this.addCreditCard(C,function(I,M){M&&M.nonce?E(I,M.nonce,{type:M.type,details:M.details}):E("Unable to tokenize card.",null)})},R.prototype.lookup3DS=function(C,E){var I=r.joinUrlFragments([this.clientApiUrl,"v1/payment_methods",C.nonce,"three_d_secure/lookup"]),M=r.mergeOptions(this.attrs,{amount:C.amount});this.driver.post(I,M,function(F){return F},E,this.requestTimeout)},R.prototype.createSEPAMandate=function(C,E){var I=r.mergeOptions(this.attrs,{sepaMandate:C});this.driver.post(r.joinUrlFragments([this.clientApiUrl,"v1","sepa_mandates.json"]),I,function(M){return{sepaMandate:new u(M.europeBankAccounts[0].sepaMandates[0]),sepaBankAccount:new f(M.europeBankAccounts[0])}},E,this.requestTimeout)},R.prototype.getSEPAMandate=function(C,E){var I=r.mergeOptions(this.attrs,C);this.driver.get(r.joinUrlFragments([this.clientApiUrl,"v1","sepa_mandates.json"]),I,function(M){return{sepaMandate:new u(M.sepaMandates[0])}},E,this.requestTimeout)},R.prototype.addCoinbase=function(C,E){var I;delete C.share,I=r.mergeOptions(this.attrs,{coinbaseAccount:C,_meta:{integration:this.integration||"custom",source:"coinbase"}}),this.driver.post(r.joinUrlFragments([this.clientApiUrl,"v1","payment_methods/coinbase_accounts"]),I,function(M){return new y(M.coinbaseAccounts[0])},E,this.requestTimeout)},R.prototype.addPayPalAccount=function(C,E){var I;delete C.share,I=r.mergeOptions(this.attrs,{paypalAccount:C,_meta:{integration:this.integration||"paypal",source:"paypal"}}),this.driver.post(r.joinUrlFragments([this.clientApiUrl,"v1","payment_methods","paypal_accounts"]),I,function(M){return new g(M.paypalAccounts[0])},E,this.requestTimeout)},R.prototype.addCreditCard=function(C,E){var I,M,F=C.share;delete C.share,M=v(C),I=r.mergeOptions(this.attrs,{share:F,creditCard:M,_meta:{integration:this.integration||"custom",source:"form"}}),this.driver.post(r.joinUrlFragments([this.clientApiUrl,"v1","payment_methods/credit_cards"]),I,function(T){return new b(T.creditCards[0])},E,this.requestTimeout)},R.prototype.sendAnalyticsEvents=function(C,E){var I,M,F=this.analyticsUrl,T=[];if(C=r.isArray(C)?C:[C],!F){E&&E.apply(null,[null,{}]);return}for(M in C)C.hasOwnProperty(M)&&T.push({kind:C[M]});I=r.mergeOptions(this.attrs,{braintree_library_version:this.sdkVersion,analytics:T,_meta:{merchantAppId:this.merchantAppId,platform:"web",platformVersion:d.navigator.userAgent,integrationType:this.integration,sdkVersion:this.sdkVersion}}),this.driver.post(F,I,function(m){return m},E,w.ANALYTICS_TIMEOUT_MS)},R.prototype.decryptBrowserswitchPayload=function(C,E){var I=r.mergeOptions(this.attrs,{asymmetric_encrypted_payload:C}),M=r.joinUrlFragments([this.clientApiUrl,"/v1/paypal_browser_switch/decrypt"]);this.driver.post(M,I,function(F){return F},E,this.requestTimeout)},R.prototype.encryptBrowserswitchReturnPayload=function(C,E,I){var M=r.mergeOptions(this.attrs,{payload:C,aesKey:E}),F=r.joinUrlFragments([this.clientApiUrl,"/v1/paypal_browser_switch/encrypt"]);this.driver.post(F,M,function(T){return T},I,this.requestTimeout)},R.prototype.exchangePaypalTokenForConsentCode=function(C,E){var I=r.mergeOptions(this.attrs,C);this.attrs.merchantAccountId&&(I.merchant_account_id=this.attrs.merchantAccountId);var M=r.joinUrlFragments([this.clientApiUrl,"/v1/paypal_account_service/merchant_consent"]);this.driver.post(M,I,function(F){return F},E,this.requestTimeout)},R.prototype.getAmexRewardsBalance=function(C,E){var I=r.mergeOptions(this.attrs,C);I.nonce&&(I.payment_method_nonce=I.nonce,delete I.nonce),this.driver.get(r.joinUrlFragments([this.clientApiUrl,"v1/payment_methods/amex_rewards_balance"]),I,function(M){return M},E,this.requestTimeout)},n.exports=R}).call(this,typeof z.g!="undefined"?z.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./coinbase-account":3,"./constants":4,"./credit-card":5,"./europe-bank-account":6,"./normalize-api-fields":8,"./parse-client-token":9,"./paypal-account":10,"./request/choose-driver":13,"./sepa-mandate":18,"./should-enable-cors":19,"./util":20,"braintree-3ds":29,"braintree-utilities":43}],3:[function(t,n,e){"use strict";var d=["nonce","type","description","details"];function s(o){var i,r;for(i=0;i<d.length;i++)r=d[i],this[r]=o[r]}c(s,"CoinbaseAccount"),n.exports=s},{}],4:[function(t,n,e){n.exports={apiUrls:{production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},errors:{UNKNOWN_ERROR:"Unknown error",INVALID_TIMEOUT:"Timeout must be a number"},ANALYTICS_TIMEOUT_MS:4e3}},{}],5:[function(t,n,e){"use strict";var d=["billingAddress","branding","createdAt","createdAtMerchant","createdAtMerchantName","details","isLocked","lastUsedAt","lastUsedAtMerchant","lastUsedAtMerchantName","lastUsedByCurrentMerchant","nonce","securityQuestions","type"];function s(o){var i,r;for(i=0;i<d.length;i++)r=d[i],this[r]=o[r]}c(s,"CreditCard"),n.exports=s},{}],6:[function(t,n,e){"use strict";function d(s){var o=["bic","maskedIBAN","nonce","accountHolderName"],i,r=0;for(r=0;r<o.length;r++)i=o[r],this[i]=s[i]}c(d,"EuropeBankAccount"),n.exports=d},{}],7:[function(t,n,e){"use strict";var d=t("./parse-client-token"),s=t("./util"),o=t("./request/choose-driver"),i=t("./should-enable-cors"),r=t("./constants");function u(b){var y=b.split("_"),g=y[0],v=y.slice(2).join("_");return{merchantId:v,environment:g}}c(u,"_tokenizeClientKey");function f(b,y){var g,v,S,_=o({enableCORS:i(b)}),w=b.clientKey,O={};w?(O.clientKey=w,v=u(w),g=r.apiUrls[v.environment]+"/merchants/"+v.merchantId+"/client_api/v1/configuration"):(S=d(b.clientToken),S.authorizationFingerprint&&(O.authorizationFingerprint=S.authorizationFingerprint,g=S.configUrl)),_.get(g,O,function(R){return s.mergeOptions(S,R)},y,b.timeout)}c(f,"getConfiguration"),n.exports=f},{"./constants":4,"./parse-client-token":9,"./request/choose-driver":13,"./should-enable-cors":19,"./util":20}],8:[function(t,n,e){"use strict";function d(s){var o,i={billingAddress:s.billingAddress||{}};for(o in s)if(!!s.hasOwnProperty(o))switch(o.replace(/_/,"").toLowerCase()){case"postalcode":case"countryname":case"countrycodenumeric":case"countrycodealpha2":case"countrycodealpha3":case"region":case"extendedaddress":case"locality":case"firstname":case"lastname":case"company":case"streetaddress":i.billingAddress[o]=s[o];break;default:i[o]=s[o]}return i}c(d,"normalizeCreditCardFields"),n.exports={normalizeCreditCardFields:d}},{}],9:[function(t,n,e){"use strict";var d=t("braintree-utilities");t("./polyfill");function s(o){var i;if(!o)throw new Error("Braintree API Client Misconfigured: clientToken required.");if(typeof o=="object"&&o!==null)i=o;else{try{o=window.atob(o)}catch{}try{i=JSON.parse(o)}catch{throw new Error("Braintree API Client Misconfigured: clientToken is not valid JSON.")}}if(!i.hasOwnProperty("clientApiUrl")||!d.isWhitelistedDomain(i.clientApiUrl))throw new Error("Braintree API Client Misconfigured: the clientApiUrl provided in the clientToken is invalid.");return i}c(s,"parseClientToken"),n.exports=s},{"./polyfill":11,"braintree-utilities":43}],10:[function(t,n,e){"use strict";var d=["nonce","type","description","details"];function s(o){var i,r;for(i=0;i<d.length;i++)r=d[i],this[r]=o[r]}c(s,"PayPalAccount"),n.exports=s},{}],11:[function(t,n,e){(function(d){"use strict";var s=c(function(o){var i=new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="";if(!i.test(o))throw new Error("Non base64 encoded input passed to window.atob polyfill");var f=0;do{var b=r.indexOf(o.charAt(f++)),y=r.indexOf(o.charAt(f++)),g=r.indexOf(o.charAt(f++)),v=r.indexOf(o.charAt(f++)),S=(b&63)<<2|y>>4&3,_=(y&15)<<4|g>>2&15,w=(g&3)<<6|v&63;u+=String.fromCharCode(S)+(_?String.fromCharCode(_):"")+(w?String.fromCharCode(w):"")}while(f<o.length);return u},"atobPolyfill");d.atob=d.atob||s,n.exports={atobPolyfill:s}}).call(this,typeof z.g!="undefined"?z.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],12:[function(t,n,e){(function(d){"use strict";var s=t("../util"),o=t("./prep-body"),i=t("./parse-body"),r=t("../constants"),u=d.XMLHttpRequest&&"withCredentials"in new d.XMLHttpRequest;function f(){return u?new XMLHttpRequest:new XDomainRequest}c(f,"getRequestObject");function b(v,S,_,w,O){var R=s.createURLParams(v,S);g("GET",R,null,_,w,O)}c(b,"get");function y(v,S,_,w,O){g("POST",v,S,_,w,O)}c(y,"post");function g(v,S,_,w,O,R){var C,E,I=f();O=O||function(){},u?I.onreadystatechange=function(){I.readyState===4&&(C=I.status,E=i(I.responseText),C>=400||C===0?O.call(null,E||{errors:r.errors.UNKNOWN_ERROR},null):C>0&&O.call(null,null,w(E)))}:(I.onload=function(){O.call(null,null,w(i(I.responseText)))},I.onerror=function(){O.call(null,I.responseText,null)},I.onprogress=function(){},I.ontimeout=function(){O.call(null,{errors:r.errors.UNKNOWN_ERROR},null)}),I.open(v,S,!0),I.timeout=R==null?6e4:R,u&&v==="POST"&&I.setRequestHeader("Content-Type","application/json"),setTimeout(function(){I.send(o(v,_))},0)}c(g,"makeRequest"),n.exports={get:b,post:y}}).call(this,typeof z.g!="undefined"?z.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../constants":4,"../util":20,"./parse-body":16,"./prep-body":17}],13:[function(t,n,e){"use strict";var d=t("./jsonp-driver"),s=t("./ajax-driver"),o=t("../util");function i(r){var u=o.getUserAgent(),f=!(o.isHTTP()&&/(MSIE\s(8|9))|(Phantom)/.test(u));return r=r||{},r.enableCORS&&f?s:d}c(i,"chooseRequestDriver"),n.exports=i},{"../util":20,"./ajax-driver":12,"./jsonp-driver":14}],14:[function(t,n,e){"use strict";var d=t("./jsonp"),s=t("../constants"),o=[];function i(y,g){return y.status>=400?[y,null]:[null,g(y)]}c(i,"deserialize");function r(){}c(r,"noop");function u(y,g,v,S,_,w){var O;_=_||r,w==null&&(w=6e4),O=S(y,g,function(R,C){o[C]&&(clearTimeout(o[C]),_.apply(null,i(R,function(E){return v(E)})))}),typeof w=="number"?o[O]=setTimeout(function(){o[O]=null,_.apply(null,[{errors:s.errors.UNKNOWN_ERROR},null])},w):_.apply(null,[{errors:s.errors.INVALID_TIMEOUT},null])}c(u,"requestWithTimeout");function f(y,g,v,S,_){g._method="POST",u(y,g,v,d.get,S,_)}c(f,"post");function b(y,g,v,S,_){u(y,g,v,d.get,S,_)}c(b,"get"),n.exports={get:b,post:f}},{"../constants":4,"./jsonp":15}],15:[function(t,n,e){(function(d){"use strict";var s=t("../util"),o,i=d,r={};function u(y,g){var v=document.createElement("script"),S=!1;v.src=y,v.async=!0;var _=g||r.error;typeof _=="function"&&(v.onerror=function(w){_({url:y,event:w})}),v.onload=v.onreadystatechange=function(){!S&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")&&(S=!0,v.onload=v.onreadystatechange=null,v&&v.parentNode&&v.parentNode.removeChild(v))},o||(o=document.getElementsByTagName("head")[0]),o.appendChild(v)}c(u,"load");function f(y,g,v,S){var _,w,O;return S=S||r.callbackName||"callback",O=S+"_json"+s.generateUUID(),g[S]=O,_=s.createURLParams(y,g),i[O]=function(R){v(R,O);try{delete i[O]}catch{}i[O]=null},u(_),O}c(f,"jsonp");function b(y){r=y}c(b,"setDefaults"),n.exports={get:f,init:b}}).call(this,typeof z.g!="undefined"?z.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../util":20}],16:[function(t,n,e){"use strict";n.exports=function(d){try{d=JSON.parse(d)}catch{}return d}},{}],17:[function(t,n,e){"use strict";var d=t("lodash.isstring");n.exports=function(s,o){if(!d(s))throw new Error("Method must be a string");return s.toLowerCase()!=="get"&&o!=null&&(o=d(o)?o:JSON.stringify(o)),o}},{"lodash.isstring":51}],18:[function(t,n,e){"use strict";function d(s){var o=0,i,r=["accountHolderName","bic","longFormURL","mandateReferenceNumber","maskedIBAN","shortForm"];for(o=0;o<r.length;o++)i=r[o],this[i]=s[i]}c(d,"SEPAMandate"),n.exports=d},{}],19:[function(t,n,e){"use strict";n.exports=function(d){return d.enableCORS!=null?d.enableCORS:d.merchantConfiguration?d.merchantConfiguration.enableCORS:!1}},{}],20:[function(t,n,e){(function(d){"use strict";var s=t("lodash.isempty"),o=t("lodash.isobject");function i(S){var _=[],w,O;for(O=0;O<S.length;O++)w=S[O],w.charAt(w.length-1)==="/"&&(w=w.substring(0,w.length-1)),w.charAt(0)==="/"&&(w=w.substring(1)),_.push(w);return _.join("/")}c(i,"joinUrlFragments");function r(S){return S&&typeof S=="object"&&typeof S.length=="number"&&Object.prototype.toString.call(S)==="[object Array]"||!1}c(r,"isArray");function u(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(S){var _=Math.floor(Math.random()*16),w=S==="x"?_:_&3|8;return w.toString(16)})}c(u,"generateUUID");function f(S,_){var w={},O;for(O in S)S.hasOwnProperty(O)&&(w[O]=S[O]);for(O in _)_.hasOwnProperty(O)&&(w[O]=_[O]);return w}c(f,"mergeOptions");function b(S,_){var w=[],O,R,C;for(C in S)!S.hasOwnProperty(C)||(R=S[C],_?r(S)?O=_+"[]":O=_+"["+C+"]":O=C,typeof R=="object"?w.push(b(R,O)):w.push(encodeURIComponent(O)+"="+encodeURIComponent(R)));return w.join("&")}c(b,"stringify");function y(S,_){return S=S||"",!s(_)&&o(_)&&(S+=S.indexOf("?")===-1?"?":"",S+=S.indexOf("=")!==-1?"&":"",S+=b(_)),S}c(y,"createURLParams");function g(){return d.navigator.userAgent}c(g,"getUserAgent");function v(){return d.location.protocol==="http:"}c(v,"isHTTP"),n.exports={joinUrlFragments:i,isArray:r,generateUUID:u,mergeOptions:f,stringify:b,createURLParams:y,getUserAgent:g,isHTTP:v}}).call(this,typeof z.g!="undefined"?z.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"lodash.isempty":44,"lodash.isobject":50}],21:[function(t,n,e){"use strict";var d=t("./lib/client"),s=t("./lib/util"),o=t("./lib/parse-client-token"),i=t("./lib/get-configuration");function r(u){return new d(u)}c(r,"configure"),n.exports={Client:d,configure:r,util:s,parseClientToken:o,_getConfiguration:i}},{"./lib/client":2,"./lib/get-configuration":7,"./lib/parse-client-token":9,"./lib/util":20}],22:[function(t,n,e){"use strict";function d(s,o){if(o=o||"["+s+"] is not a valid DOM Element",s&&s.nodeType&&s.nodeType===1)return s;if(s&&window.jQuery&&(s instanceof jQuery||"jquery"in Object(s))&&s.length!==0)return s[0];if(typeof s=="string"&&document.getElementById(s))return document.getElementById(s);throw new Error(o)}c(d,"normalizeElement"),n.exports={normalizeElement:d}},{}],23:[function(t,n,e){"use strict";function d(o,i,r,u){o.addEventListener?o.addEventListener(i,r,u):o.attachEvent&&o.attachEvent("on"+i,r)}c(d,"addEventListener");function s(o,i,r,u){o.removeEventListener?o.removeEventListener(i,r,u):o.detachEvent&&o.detachEvent("on"+i,r)}c(s,"removeEventListener"),n.exports={addEventListener:d,removeEventListener:s}},{}],24:[function(t,n,e){"use strict";var d=Object.prototype.toString;function s(i){return d.call(i)==="[object Function]"}c(s,"isFunction");function o(i,r){return function(){i.apply(r,arguments)}}c(o,"bind"),n.exports={bind:o,isFunction:s}},{}],25:[function(t,n,e){"use strict";function d(){return window.location.protocol==="https:"}c(d,"isBrowserHttps");function s(u){switch(u){case null:case void 0:return"";case!0:return"1";case!1:return"0";default:return encodeURIComponent(u)}}c(s,"encode");function o(u,f){var b=[],y,g;for(g in u)if(u.hasOwnProperty(g)){var v=u[g];f?y=f+"["+g+"]":y=g,typeof v=="object"?b.push(o(v,y)):v!=null&&b.push(s(y)+"="+s(v))}return b.join("&")}c(o,"makeQueryString");function i(u){for(var f={},b=u.split("&"),y=0;y<b.length;y++){var g=b[y].split("="),v=g[0],S=decodeURIComponent(g[1]);f[v]=S}return f}c(i,"decodeQueryString");function r(u){var f=u.split("?");return f.length!==2?{}:i(f[1])}c(r,"getParams"),n.exports={isBrowserHttps:d,makeQueryString:o,decodeQueryString:i,getParams:r}},{}],26:[function(t,n,e){var d=t("./lib/dom"),s=t("./lib/url"),o=t("./lib/fn"),i=t("./lib/events");n.exports={normalizeElement:d.normalizeElement,isBrowserHttps:s.isBrowserHttps,makeQueryString:s.makeQueryString,decodeQueryString:s.decodeQueryString,getParams:s.getParams,removeEventListener:i.removeEventListener,addEventListener:i.addEventListener,bind:o.bind,isFunction:o.isFunction}},{"./lib/dom":22,"./lib/events":23,"./lib/fn":24,"./lib/url":25}],27:[function(t,n,e){"use strict";var d=t("braintree-utilities"),s=t("../shared/receiver"),o="1.3.0",i,r;function u(y,g){var v=window.getComputedStyle?getComputedStyle(y):y.currentStyle;return v[g]}c(u,"getElementStyle");function f(){return{html:{height:i.style.height||"",overflow:u(i,"overflow"),position:u(i,"position")},body:{height:r.style.height||"",overflow:u(r,"overflow")}}}c(f,"getMerchantPageDefaultStyles");function b(y,g){this.assetsUrl=y,this.container=g||document.body,this.iframe=null,i=document.documentElement,r=document.body,this.merchantPageDefaultStyles=f()}c(b,"AuthenticationService"),b.prototype.get=function(y,g){var v=this,S=this.constructAuthorizationURL(y);this.container&&d.isFunction(this.container)?this.container(S+"&no_style=1"):this.insertIframe(S),new s(function(_){d.isFunction(v.container)||v.removeIframe(),g(_)})},b.prototype.removeIframe=function(){this.container&&this.container.nodeType&&this.container.nodeType===1?this.container.removeChild(this.iframe):this.container&&window.jQuery&&this.container instanceof jQuery?$(this.iframe,this.container).remove():typeof this.container=="string"&&document.getElementById(this.container).removeChild(this.iframe),this.unlockMerchantWindowSize()},b.prototype.insertIframe=function(y){var g=document.createElement("iframe");if(g.src=y,this.applyStyles(g),this.lockMerchantWindowSize(),this.container&&this.container.nodeType&&this.container.nodeType===1)this.container.appendChild(g);else if(this.container&&window.jQuery&&this.container instanceof jQuery&&this.container.length!==0)this.container.append(g);else if(typeof this.container=="string"&&document.getElementById(this.container))document.getElementById(this.container).appendChild(g);else throw new Error("Unable to find valid container for iframe.");this.iframe=g},b.prototype.applyStyles=function(y){y.style.position="fixed",y.style.top="0",y.style.left="0",y.style.height="100%",y.style.width="100%",y.setAttribute("frameborder","0"),y.setAttribute("allowTransparency","true"),y.style.border="0",y.style.zIndex="99999"},b.prototype.lockMerchantWindowSize=function(){i.style.overflow="hidden",r.style.overflow="hidden",r.style.height="100%"},b.prototype.unlockMerchantWindowSize=function(){var y=this.merchantPageDefaultStyles;r.style.height=y.body.height,r.style.overflow=y.body.overflow,i.style.overflow=y.html.overflow},b.prototype.constructAuthorizationURL=function(y){var g,v=window.location.href;return v.indexOf("#")>-1&&(v=v.split("#")[0]),g=d.makeQueryString({acsUrl:y.acsUrl,pareq:y.pareq,termUrl:y.termUrl+"&three_d_secure_version="+o,md:y.md,parentUrl:v}),this.assetsUrl+"/3ds/"+o+"/html/style_frame?"+g},n.exports=b},{"../shared/receiver":34,"braintree-utilities":26}],28:[function(t,n,e){"use strict";var d=t("braintree-utilities"),s=t("./authorization_service"),o=t("./loader");function i(){}c(i,"noop");function r(u,f){f=f||{},this.clientToken=f.clientToken,this.container=f.container,this.api=u,this.nonce=null,this._loader=null,this._boundHandleUserClose=d.bind(this._handleUserClose,this)}c(r,"Client"),r.prototype.verify=function(u,f){if(!d.isFunction(f))throw this.api.sendAnalyticsEvents("3ds.web.no_callback"),new Error("No suitable callback argument was given");d.isFunction(u.onUserClose)&&(this._onUserClose=u.onUserClose),d.isFunction(u.onLookupComplete)&&(this._onLookupComplete=u.onLookupComplete),(u.useDefaultLoader===void 0||u.useDefaultLoader===!0)&&this._createDefaultLoader();var b={nonce:"",amount:u.amount},y=u.creditCard;if(typeof y=="string")b.nonce=y,this.api.sendAnalyticsEvents("3ds.web.verify.nonce"),this.startVerification(b,f);else{var g=this,v=c(function(S,_){if(S)return g._removeDefaultLoader(),f(S);b.nonce=_,g.startVerification(b,f)},"boundHandleTokenizeCard");this.api.sendAnalyticsEvents("3ds.web.verify.credit_card"),this.api.tokenizeCard(y,v)}},r.prototype.startVerification=function(u,f){this.api.lookup3DS(u,d.bind(this.handleLookupResponse(f),this))},r.prototype.handleLookupResponse=function(u){var f=this;return function(b,y){var g;this._onLookupComplete(),b?u(b.error):y.lookup&&y.lookup.acsUrl&&y.lookup.acsUrl.length>0?(f.nonce=y.paymentMethod.nonce,g=new s(this.clientToken.assetsUrl,this.container),g.get(y.lookup,d.bind(this.handleAuthenticationResponse(u),this)),this._detachListeners(),this._attachListeners()):(f.nonce=y.paymentMethod.nonce,u(null,{nonce:f.nonce,verificationDetails:y.threeDSecureInfo}))}},r.prototype.handleAuthenticationResponse=function(u){return function(f){var b,y=d.decodeQueryString(f);y.user_closed||(b=JSON.parse(y.auth_response),b.success?u(null,{nonce:b.paymentMethod.nonce,verificationDetails:b.threeDSecureInfo}):b.threeDSecureInfo&&b.threeDSecureInfo.liabilityShiftPossible?u(null,{nonce:this.nonce,verificationDetails:b.threeDSecureInfo}):u(b.error))}},r.prototype._attachListeners=function(){d.addEventListener(window,"message",this._boundHandleUserClose)},r.prototype._detachListeners=function(){d.removeEventListener(window,"message",this._boundHandleUserClose)},r.prototype._createDefaultLoader=function(){this._loader=new o,document.body.appendChild(this._loader.getElement())},r.prototype._removeDefaultLoader=function(){if(!!this._loader){var u=this._loader.getElement(),f=u.parentNode;f&&f.removeChild(u),this._loader.dispose(),this._loader=null}},r.prototype._handleUserClose=function(u){u.data==="user_closed=true"&&this._onUserClose()},r.prototype._onUserClose=i,r.prototype._onLookupComplete=function(){this._removeDefaultLoader()},n.exports=r},{"./authorization_service":27,"./loader":30,"braintree-utilities":26}],29:[function(t,n,e){"use strict";var d=t("./client");n.exports={create:function(s,o){var i=new d(s,o);return i}}},{"./client":28}],30:[function(t,n,e){"use strict";var d=t("./loader_display"),s=t("./loader_message"),o=t("./loader_spinner");function i(){this._element=document.createElement("div"),this._element.style.cssText=this._cssDeclarations,this._display=null,this._initialize()}c(i,"Loader"),i.prototype._cssDeclarations=["filter:progid:DXImageTransform.Microsoft.Gradient(StartColorStr=#7F000000, EndColorStr=#7F000000)","background-color: rgba(0, 0, 0, 0.5)","display: table","height: 100%","left: 0","position: fixed","right: 0","top: 0","width: 100%","z-index: 99999"].join(";"),i.prototype.getElement=function(){return this._element},i.prototype.dispose=function(){this._display.dispose(),this._display=null,this._element=null},i.prototype._initialize=function(){var r=new o,u=window.SVGElement&&window.SVGAnimateElement&&window.SVGAnimateTransformElement;u||(r=new s("Loading...")),this._display=new d(r),this.getElement().appendChild(this._display.getElement())},n.exports=i},{"./loader_display":31,"./loader_message":32,"./loader_spinner":33}],31:[function(t,n,e){"use strict";function d(s){this._element=document.createElement("div"),this._element.style.cssText=this._cssDeclarations,this._displayObject=s,this._initialize()}c(d,"LoaderDisplay"),d.prototype._cssDeclarations=["display: table-cell","vertical-align: middle"].join(";"),d.prototype.getElement=function(){return this._element},d.prototype.dispose=function(){this._displayObject.dispose(),this._displayObject=null,this._element=null},d.prototype._initialize=function(){this.getElement().appendChild(this._displayObject.getElement())},n.exports=d},{}],32:[function(t,n,e){"use strict";function d(s){this._element=document.createElement("div"),this._element.style.cssText=this._cssDeclarations,this._element.innerHTML=s}c(d,"LoaderMessage"),d.prototype._cssDeclarations=["color: #fff","font-family: Helvetica, sans-serif","font-size: 12px","text-align: center"].join(";"),d.prototype.getElement=function(){return this._element},d.prototype.dispose=function(){this._element=null},n.exports=d},{}],33:[function(t,n,e){"use strict";function d(){this._element=document.createElement("div"),this._element.style.cssText=this._cssDeclarations,this._element.innerHTML=this._markup}c(d,"LoaderSpinner"),d.prototype._cssDeclarations=["height: 36px","margin-left: auto","margin-right: auto","width: 36px"].join(";"),d.prototype._markup=['<svg version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"','width="100%" height="100%" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve">','  <path fill="#FFF" d="M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z">','    <animateTransform attributeType="xml"','    attributeName="transform"','    type="rotate"','    from="0 25 25"','    to="360 25 25"','    dur="780ms"','    repeatCount="indefinite"','    calcMode="spline"','    keySplines="0.44, 0.22, 0, 1"','    keyTimes="0;1"/>',"  </path>","</svg>"].join(""),d.prototype.getElement=function(){return this._element},d.prototype.dispose=function(){this._element=null},n.exports=d},{}],34:[function(t,n,e){"use strict";var d=t("braintree-utilities");function s(o){this.postMessageReceiver(o),this.hashChangeReceiver(o)}c(s,"Receiver"),s.prototype.postMessageReceiver=function(o){var i=this;this.wrappedCallback=function(r){var u=r.data;(/^(auth_response=)/.test(u)||u==="user_closed=true")&&(o(u),i.stopListening())},d.addEventListener(window,"message",this.wrappedCallback)},s.prototype.hashChangeReceiver=function(o){var i,r=window.location.hash,u=this;this.poll=setInterval(function(){i=window.location.hash,i.length>0&&i!==r&&(u.stopListening(),i=i.substring(1,i.length),o(i),r.length>0?window.location.hash=r:window.location.hash="")},10)},s.prototype.stopListening=function(){clearTimeout(this.poll),d.removeEventListener(window,"message",this.wrappedCallback)},n.exports=s},{"braintree-utilities":26}],35:[function(t,n,e){"use strict";var d=Array.prototype.indexOf,s;d?s=c(function(o,i){return o.indexOf(i)},"indexOf"):s=c(function(i,r){for(var u=0,f=i.length;u<f;u++)if(i[u]===r)return u;return-1},"indexOf"),n.exports={indexOf:s}},{}],36:[function(t,n,e){"use strict";function d(o){var i,r,u="";for(i=0;i<o.length;i++)u+="%",r=o[i].charCodeAt(0).toString(16).toUpperCase(),r.length<2&&(u+="0"),u+=r;return u}c(d,"_escape");function s(o){return decodeURIComponent(d(atob(o)))}c(s,"decodeUtf8"),n.exports={decodeUtf8:s}},{}],37:[function(t,n,e){arguments[4][22][0].apply(e,arguments)},{dup:22}],38:[function(t,n,e){"use strict";function d(i,r,u,f){i.addEventListener?i.addEventListener(r,u,f||!1):i.attachEvent&&i.attachEvent("on"+r,u)}c(d,"addEventListener");function s(i,r,u,f){i.removeEventListener?i.removeEventListener(r,u,f||!1):i.detachEvent&&i.detachEvent("on"+r,u)}c(s,"removeEventListener");function o(i){i.preventDefault?i.preventDefault():i.returnValue=!1}c(o,"preventDefault"),n.exports={addEventListener:d,removeEventListener:s,preventDefault:o}},{}],39:[function(t,n,e){"use strict";var d=Object.prototype.toString;function s(i){return d.call(i)==="[object Function]"}c(s,"isFunction");function o(i,r){return function(){return i.apply(r,arguments)}}c(o,"bind"),n.exports={bind:o,isFunction:s}},{}],40:[function(t,n,e){"use strict";function d(o){var i,r,u,f,b=[{min:0,max:180,chars:7},{min:181,max:620,chars:14},{min:621,max:960,chars:22}];for(f=b.length,o=o||window.innerWidth,r=0;r<f;r++)u=b[r],o>=u.min&&o<=u.max&&(i=u.chars);return i||60}c(d,"getMaxCharLength");function s(o,i){var r,u;return o.indexOf("@")===-1?o:(o=o.split("@"),r=o[0],u=o[1],r.length>i&&(r=r.slice(0,i)+"..."),u.length>i&&(u="..."+u.slice(-i)),r+"@"+u)}c(s,"truncateEmail"),n.exports={truncateEmail:s,getMaxCharLength:d}},{}],41:[function(t,n,e){"use strict";var d=t("./array");function s(){return window.location.protocol==="https:"}c(s,"isBrowserHttps");function o(g){switch(g){case null:case void 0:return"";case!0:return"1";case!1:return"0";default:return encodeURIComponent(g)}}c(o,"encode");function i(g,v){var S=[],_,w;for(w in g)if(g.hasOwnProperty(w)){var O=g[w];v?_=v+"["+w+"]":_=w,typeof O=="object"?S.push(i(O,_)):O!=null&&S.push(o(_)+"="+o(O))}return S.join("&")}c(i,"makeQueryString");function r(g){for(var v={},S=g.split("&"),_=0;_<S.length;_++){var w=S[_].split("="),O=w[0],R=decodeURIComponent(w[1]);v[O]=R}return v}c(r,"decodeQueryString");function u(g){var v=g.split("?");return v.length!==2?{}:r(v[1])}c(u,"getParams");var f=document.createElement("a"),b=["paypal.com","braintreepayments.com","braintreegateway.com","localhost"];function y(g){if(g=g.toLowerCase(),!/^http/.test(g))return!1;f.href=g;var v=f.hostname.split("."),S=v.slice(-2).join(".");return d.indexOf(b,S)!==-1}c(y,"isWhitelistedDomain"),n.exports={isBrowserHttps:s,makeQueryString:i,decodeQueryString:r,getParams:u,isWhitelistedDomain:y}},{"./array":35}],42:[function(t,n,e){"use strict";function d(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var o=Math.random()*16|0,i=s==="x"?o:o&3|8;return i.toString(16)})}c(d,"generate"),n.exports=d},{}],43:[function(t,n,e){var d=t("./lib/dom"),s=t("./lib/url"),o=t("./lib/fn"),i=t("./lib/events"),r=t("./lib/string"),u=t("./lib/array"),f=t("./lib/base64"),b=t("./lib/uuid");n.exports={string:r,array:u,normalizeElement:d.normalizeElement,isBrowserHttps:s.isBrowserHttps,makeQueryString:s.makeQueryString,decodeQueryString:s.decodeQueryString,getParams:s.getParams,isWhitelistedDomain:s.isWhitelistedDomain,removeEventListener:i.removeEventListener,addEventListener:i.addEventListener,preventDefault:i.preventDefault,bind:o.bind,isFunction:o.isFunction,base64ToUtf8:f.decodeUtf8,uuid:b}},{"./lib/array":35,"./lib/base64":36,"./lib/dom":37,"./lib/events":38,"./lib/fn":39,"./lib/string":40,"./lib/url":41,"./lib/uuid":42}],44:[function(t,n,e){var d=t("lodash.isarguments"),s=t("lodash.isarray"),o=t("lodash.isfunction"),i=t("lodash.isstring"),r=t("lodash.keys");function u(_){return!!_&&typeof _=="object"}c(u,"isObjectLike");var f=9007199254740991;function b(_){return function(w){return w==null?void 0:w[_]}}c(b,"baseProperty");var y=b("length");function g(_){return _!=null&&v(y(_))}c(g,"isArrayLike");function v(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=f}c(v,"isLength");function S(_){return _==null?!0:g(_)&&(s(_)||i(_)||d(_)||u(_)&&o(_.splice))?!_.length:!r(_).length}c(S,"isEmpty"),n.exports=S},{"lodash.isarguments":45,"lodash.isarray":46,"lodash.isfunction":47,"lodash.isstring":51,"lodash.keys":48}],45:[function(t,n,e){function d(v){return!!v&&typeof v=="object"}c(d,"isObjectLike");var s=Object.prototype,o=s.hasOwnProperty,i=s.propertyIsEnumerable,r=9007199254740991;function u(v){return function(S){return S==null?void 0:S[v]}}c(u,"baseProperty");var f=u("length");function b(v){return v!=null&&y(f(v))}c(b,"isArrayLike");function y(v){return typeof v=="number"&&v>-1&&v%1==0&&v<=r}c(y,"isLength");function g(v){return d(v)&&b(v)&&o.call(v,"callee")&&!i.call(v,"callee")}c(g,"isArguments"),n.exports=g},{}],46:[function(t,n,e){var d="[object Array]",s="[object Function]",o=/^\[object .+?Constructor\]$/;function i(E){return!!E&&typeof E=="object"}c(i,"isObjectLike");var r=Object.prototype,u=Function.prototype.toString,f=r.hasOwnProperty,b=r.toString,y=RegExp("^"+u.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),g=S(Array,"isArray"),v=9007199254740991;function S(E,I){var M=E==null?void 0:E[I];return C(M)?M:void 0}c(S,"getNative");function _(E){return typeof E=="number"&&E>-1&&E%1==0&&E<=v}c(_,"isLength");var w=g||function(E){return i(E)&&_(E.length)&&b.call(E)==d};function O(E){return R(E)&&b.call(E)==s}c(O,"isFunction");function R(E){var I=typeof E;return!!E&&(I=="object"||I=="function")}c(R,"isObject");function C(E){return E==null?!1:O(E)?y.test(u.call(E)):i(E)&&o.test(E)}c(C,"isNative"),n.exports=w},{}],47:[function(t,n,e){var d="[object Function]",s=Object.prototype,o=s.toString;function i(u){return r(u)&&o.call(u)==d}c(i,"isFunction");function r(u){var f=typeof u;return!!u&&(f=="object"||f=="function")}c(r,"isObject"),n.exports=i},{}],48:[function(t,n,e){var d=t("lodash._getnative"),s=t("lodash.isarguments"),o=t("lodash.isarray"),i=/^\d+$/,r=Object.prototype,u=r.hasOwnProperty,f=d(Object,"keys"),b=9007199254740991;function y(E){return function(I){return I==null?void 0:I[E]}}c(y,"baseProperty");var g=y("length");function v(E){return E!=null&&_(g(E))}c(v,"isArrayLike");function S(E,I){return E=typeof E=="number"||i.test(E)?+E:-1,I=I==null?b:I,E>-1&&E%1==0&&E<I}c(S,"isIndex");function _(E){return typeof E=="number"&&E>-1&&E%1==0&&E<=b}c(_,"isLength");function w(E){for(var I=C(E),M=I.length,F=M&&E.length,T=!!F&&_(F)&&(o(E)||s(E)),m=-1,A=[];++m<M;){var N=I[m];(T&&S(N,F)||u.call(E,N))&&A.push(N)}return A}c(w,"shimKeys");function O(E){var I=typeof E;return!!E&&(I=="object"||I=="function")}c(O,"isObject");var R=f?function(E){var I=E==null?void 0:E.constructor;return typeof I=="function"&&I.prototype===E||typeof E!="function"&&v(E)?w(E):O(E)?f(E):[]}:w;function C(E){if(E==null)return[];O(E)||(E=Object(E));var I=E.length;I=I&&_(I)&&(o(E)||s(E))&&I||0;for(var M=E.constructor,F=-1,T=typeof M=="function"&&M.prototype===E,m=Array(I),A=I>0;++F<I;)m[F]=F+"";for(var N in E)!(A&&S(N,I))&&!(N=="constructor"&&(T||!u.call(E,N)))&&m.push(N);return m}c(C,"keysIn"),n.exports=R},{"lodash._getnative":49,"lodash.isarguments":45,"lodash.isarray":46}],49:[function(t,n,e){var d="[object Function]",s=/^\[object .+?Constructor\]$/;function o(_){return!!_&&typeof _=="object"}c(o,"isObjectLike");var i=Object.prototype,r=Function.prototype.toString,u=i.hasOwnProperty,f=i.toString,b=RegExp("^"+r.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function y(_,w){var O=_==null?void 0:_[w];return S(O)?O:void 0}c(y,"getNative");function g(_){return v(_)&&f.call(_)==d}c(g,"isFunction");function v(_){var w=typeof _;return!!_&&(w=="object"||w=="function")}c(v,"isObject");function S(_){return _==null?!1:g(_)?b.test(r.call(_)):o(_)&&s.test(_)}c(S,"isNative"),n.exports=y},{}],50:[function(t,n,e){function d(s){var o=typeof s;return!!s&&(o=="object"||o=="function")}c(d,"isObject"),n.exports=d},{}],51:[function(t,n,e){var d="[object String]";function s(u){return!!u&&typeof u=="object"}c(s,"isObjectLike");var o=Object.prototype,i=o.toString;function r(u){return typeof u=="string"||s(u)&&i.call(u)==d}c(r,"isString"),n.exports=r},{}],52:[function(t,n,e){"use strict";var d=t("framebus"),s=t("./lib/events"),o=t("./lib/check-origin").checkOrigin;function i(r){if(r=r||{},this.channel=r.channel,!this.channel)throw new Error("Channel ID must be specified");this.merchantUrl=r.merchantUrl,this._isDestroyed=!1,this._isVerbose=!1,this._listeners=[],this._log("new bus on channel "+this.channel,[location.href])}c(i,"BraintreeBus"),i.prototype.on=function(r,u){var f,b,y=u,g=this;this._isDestroyed||(this.merchantUrl&&(y=c(function(){o(this.origin,g.merchantUrl)&&u.apply(this,arguments)},"handler")),f=this._namespaceEvent(r),b=Array.prototype.slice.call(arguments),b[0]=f,b[1]=y,this._log("on",b),d.on.apply(d,b),this._listeners.push({eventName:r,handler:y,originalHandler:u}))},i.prototype.emit=function(r,u,f){var b;this._isDestroyed||(b=Array.prototype.slice.call(arguments),b[0]=this._namespaceEvent(r),this._log("emit",b),d.emit.apply(d,b))},i.prototype._offDirect=function(r,u){var f=Array.prototype.slice.call(arguments);this._isDestroyed||(f[0]=this._namespaceEvent(r),this._log("off",f),d.off.apply(d,f))},i.prototype.off=function(r,u){var f,b,y=u;if(!this._isDestroyed){if(this.merchantUrl)for(f=0;f<this._listeners.length;f++)b=this._listeners[f],b.originalHandler===u&&(y=b.handler);this._offDirect.call(this,r,y)}},i.prototype._namespaceEvent=function(r){return["braintree",this.channel,r].join(":")},i.prototype.teardown=function(){var r,u;for(u=0;u<this._listeners.length;u++)r=this._listeners[u],this._offDirect(r.eventName,r.handler);this._listeners.length=0,this._isDestroyed=!0},i.prototype._log=function(r,u){this._isVerbose&&console.log(r,u)},i.events=s,n.exports=i},{"./lib/check-origin":53,"./lib/events":54,framebus:55}],53:[function(t,n,e){"use strict";var d=/^https:\/\/([a-zA-Z0-9-]+\.)*(braintreepayments|braintreegateway|paypal)\.com(:\d{1,5})?$/;function s(o,i){var r,u,f=document.createElement("a");return f.href=i,f.protocol==="https:"?u=f.host.replace(/:443$/,""):f.protocol==="http:"?u=f.host.replace(/:80$/,""):u=f.host,r=f.protocol+"//"+u,r===o||d.test(o)}c(s,"checkOrigin"),n.exports={checkOrigin:s}},{}],54:[function(t,n,e){"use strict";var d,s,o=["PAYMENT_METHOD_REQUEST","PAYMENT_METHOD_RECEIVED","PAYMENT_METHOD_GENERATED","PAYMENT_METHOD_NOT_GENERATED","PAYMENT_METHOD_CANCELLED","PAYMENT_METHOD_ERROR","CONFIGURATION_REQUEST","ROOT_METADATA_REQUEST","ERROR","WARNING","UI_POPUP_DID_OPEN","UI_POPUP_DID_CLOSE","UI_POPUP_FORCE_CLOSE","ASYNC_DEPENDENCY_INITIALIZING","ASYNC_DEPENDENCY_READY","USER_FORM_SUBMIT_REQUEST","SEND_ANALYTICS_EVENTS"],i={};for(d=0;d<o.length;d++)s=o[d],i[s]=s;n.exports=i},{}],55:[function(t,n,e){"use strict";(function(d,s){typeof e=="object"&&typeof n!="undefined"?n.exports=s():typeof V=="function"&&V.amd?V([],s):d.framebus=s()})(this,function(){var d,s,o=[],i={},r="/*framebus*/";function u(m){return m==null||m.Window==null||m.constructor!==m.Window?!1:(o.push(m),!0)}c(u,"include");function f(m){var A,N={};for(A in s)!s.hasOwnProperty(A)||(N[A]=s[A]);return N._origin=m||"*",N}c(f,"target");function b(m){var A,N,U=v(this);return S(m)||S(U)||(N=Array.prototype.slice.call(arguments,1),A=_(m,N,U),A===!1)?!1:(I(d.top,A,U),!0)}c(b,"publish");function y(m,A){var N=v(this);return T(m,A,N)?!1:(i[N]=i[N]||{},i[N][m]=i[N][m]||[],i[N][m].push(A),!0)}c(y,"subscribe");function g(m,A){var N,U,B=v(this);if(T(m,A,B)||(U=i[B]&&i[B][m],!U))return!1;for(N=0;N<U.length;N++)if(U[N]===A)return U.splice(N,1),!0;return!1}c(g,"unsubscribe");function v(m){return m&&m._origin||"*"}c(v,"_getOrigin");function S(m){return typeof m!="string"}c(S,"_isntString");function _(m,A,N){var U=!1,B={event:m,origin:N},j=A[A.length-1];typeof j=="function"&&(B.reply=F(j,N),A=A.slice(0,-1)),B.args=A;try{U=r+JSON.stringify(B)}catch(G){throw new Error("Could not stringify event: "+G.message)}return U}c(_,"_packagePayload");function w(m){var A,N,U,B;if(m.data.slice(0,r.length)!==r)return!1;try{A=JSON.parse(m.data.slice(r.length))}catch{return!1}return A.reply!=null&&(N=m.origin,U=m.source,B=A.reply,A.reply=c(function(G){var J=_(B,[G],N);if(J===!1)return!1;U.postMessage(J,N)},"reply"),A.args.push(A.reply)),A}c(w,"_unpackPayload");function O(m){d||(d=m||window,d.addEventListener?d.addEventListener("message",C,!1):d.attachEvent?d.attachEvent("onmessage",C):d.onmessage===null?d.onmessage=C:d=null)}c(O,"_attach");function R(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(m){var A=Math.random()*16|0,N=m==="x"?A:A&3|8;return N.toString(16)})}c(R,"_uuid");function C(m){var A;S(m.data)||(A=w(m),!!A&&(E("*",A.event,A.args,m),E(m.origin,A.event,A.args,m),M(m.data,A.origin,m.source)))}c(C,"_onmessage");function E(m,A,N,U){var B;if(!!i[m]&&!!i[m][A])for(B=0;B<i[m][A].length;B++)i[m][A][B].apply(U,N)}c(E,"_dispatch");function I(m,A,N){var U;try{m.postMessage(A,N)}catch{return}for(m.opener&&m.opener!==m&&!m.opener.closed&&m.opener!==d&&I(m.opener.top,A,N),U=0;U<m.frames.length;U++)I(m.frames[U],A,N)}c(I,"_broadcast");function M(m,A,N){var U,B;for(U=o.length-1;U>=0;U--)B=o[U],B.closed===!0?o=o.slice(U,1):N!==B&&I(B.top,m,A)}c(M,"_broadcastPopups");function F(m,A){var N=R();function U(B,j){m(B,j),s.target(A).unsubscribe(N,U)}return c(U,"replier"),s.target(A).subscribe(N,U),N}c(F,"_subscribeReplier");function T(m,A,N){return!!(S(m)||typeof A!="function"||S(N))}return c(T,"_subscriptionArgsInvalid"),O(),s={target:f,include:u,publish:b,pub:b,trigger:b,emit:b,subscribe:y,sub:y,on:y,unsubscribe:g,unsub:g,off:g},s})},{}],56:[function(t,n,e){"use strict";var d=t("./lib/coinbase");function s(o){return new d(o)}c(s,"create"),n.exports={create:s}},{"./lib/coinbase":59}],57:[function(t,n,e){(function(d){"use strict";function s(r){return r=r||d.navigator.userAgent,!/AppleWebKit\//.test(r)||!/Mobile\//.test(r)?null:r.replace(/.* OS ([0-9_]+) like Mac OS X.*/,"$1").replace(/_/g,".")}c(s,"iOSSafariVersion");function o(r){r=r||d.navigator.userAgent;var u=null,f=/MSIE.(\d+)/.exec(r);return/Trident/.test(r)&&(u=11),f&&(u=parseInt(f[1],10)),u}c(o,"ieVersion");function i(r){return r=r||d.navigator.userAgent,/Android/.test(r)?r.replace(/^.* Android ([0-9\.]+).*$/,"$1"):null}c(i,"androidVersion"),n.exports={ieVersion:o,iOSSafariVersion:s,androidVersion:i}}).call(this,typeof z.g!="undefined"?z.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],58:[function(t,n,e){"use strict";var d=t("braintree-bus").events;function s(o,i,r){if(o){r.bus.emit(d.ERROR,o.error),r._sendAnalyticsEvent("generate.nonce.failed");return}r.bus.emit(d.PAYMENT_METHOD_GENERATED,i),r._sendAnalyticsEvent("generate.nonce.succeeded")}c(s,"tokenize"),n.exports={tokenize:s}},{"braintree-bus":67}],59:[function(t,n,e){(function(d){"use strict";var s=t("braintree-utilities"),o=t("destructor"),i=t("./dom/composer"),r=t("./url-composer"),u=t("./callbacks"),f=t("./constants"),b=t("./detector"),y=t("braintree-bus");function g(w){return{clientId:w.configuration.coinbase.clientId,redirectUrl:w.configuration.coinbase.redirectUrl,scopes:w.configuration.coinbase.scopes||f.SCOPES,meta:{authorizations_merchant_account:w.configuration.coinbase.merchantAccount||""}}}c(g,"_getPopupParams");function v(w){return function(O,R){w.emit(y.events.ERROR,{type:R,message:O})}}c(v,"_error");function S(w,O){var R=(w||{}).coinbase,C=v(O);if(w.apiClient==null)C("settings.apiClient is required for coinbase",f.CONFIGURATION_ERROR);else if(!w.configuration.coinbaseEnabled)C("Coinbase is not enabled for your merchant account",f.CONFIGURATION_ERROR);else if(!R||!R.container&&!R.button)C("Either options.coinbase.container or options.coinbase.button is required for Coinbase integrations",f.CONFIGURATION_ERROR);else if(R.container&&R.button)C("options.coinbase.container and options.coinbase.button are mutually exclusive",f.CONFIGURATION_ERROR);else if(!b.isSupportedBrowser())C("Coinbase is not supported by your browser. Please consider upgrading",f.UNSUPPORTED_BROWSER_ERROR);else return!0;return!1}c(S,"_optionsAreValid");function _(w){var O,R;this.destructor=new o,this.channel=w.channel,R={channel:this.channel};try{w.coinbase.container&&(R.merchantUrl=d.location.href)}catch{}this.bus=w.bus||new y(R),this.canCreateIntegration=S(w,this.bus),!!this.canCreateIntegration&&(this.buttonId=w.coinbase.button||f.BUTTON_ID,this.apiClient=w.apiClient,this.assetsUrl=w.configuration.assetsUrl,this.environment=w.configuration.coinbase.environment,this._onOAuthSuccess=s.bind(this._onOAuthSuccess,this),this._handleButtonClick=s.bind(this._handleButtonClick,this),this.popupParams=g(w),this.redirectDoneInterval=null,w.coinbase.container?(O=s.normalizeElement(w.coinbase.container),this._insertFrame(O)):(d.braintreeCoinbasePopupCallback=this._onOAuthSuccess,O=document.body,s.addEventListener(O,"click",this._handleButtonClick),this._sendAnalyticsEvent("initialized"),this.destructor.registerFunctionForTeardown(s.bind(function(){this._closePopup()},this)),this.bus.on(f.TEARDOWN_EVENT,s.bind(this.destructor.teardown,this.destructor))))}c(_,"Coinbase"),_.prototype._sendAnalyticsEvent=function(w){var O=this.apiClient.integration+".web.coinbase.";this.apiClient.sendAnalyticsEvents(O+w)},_.prototype._insertFrame=function(w){var O=i.createFrame({channel:this.channel});this.bus.emit(y.events.ASYNC_DEPENDENCY_INITIALIZING),w.appendChild(O),this.destructor.registerFunctionForTeardown(function(){w.removeChild(O)}),setTimeout(s.bind(function(){O.src=this.assetsUrl+"/coinbase/"+f.VERSION+"/coinbase-frame.html#"+this.channel},this),0)},_.prototype._onOAuthSuccess=function(w){if(!w.code){this._sendAnalyticsEvent("popup.denied"),this._closePopup();return}this.bus.emit("coinbase:view:navigate","loading"),this._sendAnalyticsEvent("popup.authorized"),this.apiClient.tokenizeCoinbase({code:w.code,query:r.getQueryString()},s.bind(function(O,R){u.tokenize.apply(null,[O,R,this])},this)),this._closePopup()},_.prototype._clearPollForRedirectDone=function(){this.redirectDoneInterval&&(clearInterval(this.redirectDoneInterval),this.redirectDoneInterval=null)},_.prototype._closePopup=function(w){w=w||this.popup,w!=null&&(b.shouldCloseFromParent()&&w.close(),this._popupCleanup())},_.prototype._popupCleanup=function(){this._clearPollForRedirectDone(),this.bus.emit(y.events.UI_POPUP_DID_CLOSE,{source:f.INTEGRATION_NAME})},_.prototype._pollForRedirectDone=function(w){var O=setInterval(s.bind(function(){var R;if(w==null||w.closed){this._sendAnalyticsEvent("popup.aborted"),this._popupCleanup();return}try{if(w.location.href==="about:blank")throw new Error("Not finished loading");R=s.decodeQueryString(w.location.search.replace(/^\?/,"")).code}catch{return}this._onOAuthSuccess({code:R})},this),100);return this.redirectDoneInterval=O,O},_.prototype._openPopup=function(){var w;this._sendAnalyticsEvent("popup.started"),w=i.createPopup(r.compose(this._getOAuthBaseUrl(),this.popupParams)),w.focus(),this._pollForRedirectDone(w),this.bus.emit(y.events.UI_POPUP_DID_OPEN,{source:f.INTEGRATION_NAME}),this.bus.on(y.events.UI_POPUP_FORCE_CLOSE,function(O){O.target===f.INTEGRATION_NAME&&w.close()}),this.popup=w},_.prototype._getOAuthBaseUrl=function(){var w;return this.environment==="shared_sandbox"?w=f.SANDBOX_OAUTH_BASE_URL:w=f.PRODUCTION_OAUTH_BASE_URL,w},_.prototype._handleButtonClick=function(w){for(var O=w.target||w.srcElement;;){if(O==null||O===w.currentTarget)return;if(O.id===this.buttonId)break;O=O.parentNode}w&&w.preventDefault?w.preventDefault():w.returnValue=!1,this._openPopup()},_.prototype.teardown=function(w){var O=this;if(!this.canCreateIntegration){w(null);return}this.bus.emit(f.TEARDOWN_EVENT,function(){O.destructor.teardown(function(R){if(R)return w(R);O.bus.teardown(),w(null)})})},n.exports=_}).call(this,typeof z.g!="undefined"?z.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./callbacks":58,"./constants":60,"./detector":61,"./dom/composer":63,"./url-composer":66,"braintree-bus":67,"braintree-utilities":79,destructor:80}],60:[function(t,n,e){"use strict";n.exports={PRODUCTION_OAUTH_BASE_URL:"https://coinbase.com",SANDBOX_OAUTH_BASE_URL:"https://sandbox.coinbase.com",ORIGIN_URL:"https://www.coinbase.com",FRAME_NAME:"braintree-coinbase-frame",POPUP_NAME:"coinbase",BUTTON_ID:"bt-coinbase-button",SCOPES:"send",VERSION:"0.3.1",INTEGRATION_NAME:"Coinbase",CONFIGURATION_ERROR:"CONFIGURATION",UNSUPPORTED_BROWSER_ERROR:"UNSUPPORTED_BROWSER",TEARDOWN_EVENT:"coinbase:TEARDOWN"}},{}],61:[function(t,n,e){"use strict";var d=t("./browser");function s(){var u=d.ieVersion();return!u||u>8}c(s,"isSupportedBrowser");function o(){var u=d.androidVersion();return u==null?!1:/^5/.test(u)}c(o,"shouldDisplayLollipopClose");function i(){return!(o()||r())}c(i,"shouldCloseFromParent");function r(){var u=d.iOSSafariVersion();return u==null?!1:/^8\.0/.test(u)||/^8\.1$/.test(u)}c(r,"shouldDisplayIOSClose"),n.exports={isSupportedBrowser:s,shouldCloseFromParent:i,shouldDisplayIOSClose:r,shouldDisplayLollipopClose:o}},{"./browser":57}],62:[function(t,n,e){"use strict";function d(s){var o=document.createElement("button");return s=s||{},o.id=s.id||"coinbase-button",o.style.backgroundColor=s.backgroundColor||"#EEE",o.style.color=s.color||"#4597C3",o.style.border=s.border||"0",o.style.borderRadius=s.borderRadius||"6px",o.style.padding=s.padding||"12px",o.innerHTML=s.innerHTML||"coinbase",o}c(d,"createButton"),n.exports={create:d}},{}],63:[function(t,n,e){"use strict";var d=t("./popup"),s=t("./button"),o=t("./frame");n.exports={createButton:s.create,createPopup:d.create,createFrame:o.create}},{"./button":62,"./frame":64,"./popup":65}],64:[function(t,n,e){"use strict";var d=t("../constants"),s=t("iframer");function o(i){return s({name:d.FRAME_NAME,height:"70px",width:"100%",style:{padding:0,margin:0,border:0,outline:"none"}})}c(o,"createFrame"),n.exports={create:o}},{"../constants":60,iframer:83}],65:[function(t,n,e){(function(d){"use strict";var s=t("../constants");function o(u){var f=[];for(var b in u)u.hasOwnProperty(b)&&f.push([b,u[b]].join("="));return f.join(",")}c(o,"_stringifyParams");function i(){var u=850,f=600;return o({width:u,height:f,left:(screen.width-u)/2,top:(screen.height-f)/4})}c(i,"_getParams");function r(u){return d.open(u,s.POPUP_NAME,i())}c(r,"createPopup"),n.exports={create:r}}).call(this,typeof z.g!="undefined"?z.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../constants":60}],66:[function(t,n,e){"use strict";var d=t("./constants");function s(){return"version="+d.VERSION}c(s,"getQueryString");function o(i,r){var u=i+"/oauth/authorize?response_type=code",f=r.redirectUrl+"?"+s();if(u+="&redirect_uri="+encodeURIComponent(f),u+="&client_id="+r.clientId,r.scopes&&(u+="&scope="+encodeURIComponent(r.scopes)),r.meta)for(var b in r.meta)r.meta.hasOwnProperty(b)&&(u+="&meta["+encodeURIComponent(b)+"]="+encodeURIComponent(r.meta[b]));return u}c(o,"compose"),n.exports={compose:o,getQueryString:s}},{"./constants":60}],67:[function(t,n,e){arguments[4][52][0].apply(e,arguments)},{"./lib/check-origin":68,"./lib/events":69,dup:52,framebus:70}],68:[function(t,n,e){arguments[4][53][0].apply(e,arguments)},{dup:53}],69:[function(t,n,e){arguments[4][54][0].apply(e,arguments)},{dup:54}],70:[function(t,n,e){arguments[4][55][0].apply(e,arguments)},{dup:55}],71:[function(t,n,e){arguments[4][35][0].apply(e,arguments)},{dup:35}],72:[function(t,n,e){arguments[4][36][0].apply(e,arguments)},{dup:36}],73:[function(t,n,e){arguments[4][22][0].apply(e,arguments)},{dup:22}],74:[function(t,n,e){arguments[4][38][0].apply(e,arguments)},{dup:38}],75:[function(t,n,e){arguments[4][39][0].apply(e,arguments)},{dup:39}],76:[function(t,n,e){arguments[4][40][0].apply(e,arguments)},{dup:40}],77:[function(t,n,e){arguments[4][41][0].apply(e,arguments)},{"./array":71,dup:41}],78:[function(t,n,e){arguments[4][42][0].apply(e,arguments)},{dup:42}],79:[function(t,n,e){arguments[4][43][0].apply(e,arguments)},{"./lib/array":71,"./lib/base64":72,"./lib/dom":73,"./lib/events":74,"./lib/fn":75,"./lib/string":76,"./lib/url":77,"./lib/uuid":78,dup:43}],80:[function(t,n,e){"use strict";var d=t("batch-execute-functions"),s=t("braintree-utilities/lib/fn");function o(){this._teardownRegistry=[]}c(o,"Destructor"),o.prototype.registerFunctionForTeardown=function(i){s.isFunction(i)&&this._teardownRegistry.push(i)},o.prototype.teardown=function(i){d(this._teardownRegistry,s.bind(function(r){this._teardownRegistry=[],s.isFunction(i)&&i(r)},this))},n.exports=o},{"batch-execute-functions":81,"braintree-utilities/lib/fn":82}],81:[function(t,n,e){"use strict";function d(o,i){var r=o.length===0,u;r?(o(),i(null)):(u=s(i),o(u))}c(d,"call");function s(o){var i=!1;return function(){i||(i=!0,o.apply(this,arguments))}}c(s,"once"),n.exports=function(o,i){var r=o.length,u=r;if(r===0){i(null);return}for(var f=0;f<r;f++)d(o[f],function(b){if(b){i(b);return}u-=1,u===0&&i(null)})}},{}],82:[function(t,n,e){arguments[4][39][0].apply(e,arguments)},{dup:39}],83:[function(t,n,e){"use strict";var d=t("lodash.assign"),s=t("lodash.isstring"),o=t("setattributes"),i=t("./lib/default-attributes");n.exports=c(function(u){var f=document.createElement("iframe"),b=d({},i,u);return b.style&&!s(b.style)&&(d(f.style,b.style),delete b.style),o(f,b),f.getAttribute("id")||(f.id=f.name),f},"createFrame")},{"./lib/default-attributes":84,"lodash.assign":85,"lodash.isstring":96,setattributes:97}],84:[function(t,n,e){n.exports={src:"about:blank",frameBorder:0,allowtransparency:!0,scrolling:"no"}},{}],85:[function(t,n,e){var d=t("lodash._baseassign"),s=t("lodash._createassigner"),o=t("lodash.keys");function i(u,f,b){for(var y=-1,g=o(f),v=g.length;++y<v;){var S=g[y],_=u[S],w=b(_,f[S],S,u,f);((w===w?w!==_:_===_)||_===void 0&&!(S in u))&&(u[S]=w)}return u}c(i,"assignWith");var r=s(function(u,f,b){return b?i(u,f,b):d(u,f)});n.exports=r},{"lodash._baseassign":86,"lodash._createassigner":88,"lodash.keys":92}],86:[function(t,n,e){var d=t("lodash._basecopy"),s=t("lodash.keys");function o(i,r){return r==null?i:d(r,s(r),i)}c(o,"baseAssign"),n.exports=o},{"lodash._basecopy":87,"lodash.keys":92}],87:[function(t,n,e){function d(s,o,i){i||(i={});for(var r=-1,u=o.length;++r<u;){var f=o[r];i[f]=s[f]}return i}c(d,"baseCopy"),n.exports=d},{}],88:[function(t,n,e){var d=t("lodash._bindcallback"),s=t("lodash._isiterateecall"),o=t("lodash.restparam");function i(r){return o(function(u,f){var b=-1,y=u==null?0:f.length,g=y>2?f[y-2]:void 0,v=y>2?f[2]:void 0,S=y>1?f[y-1]:void 0;for(typeof g=="function"?(g=d(g,S,5),y-=2):(g=typeof S=="function"?S:void 0,y-=g?1:0),v&&s(f[0],f[1],v)&&(g=y<3?void 0:g,y=1);++b<y;){var _=f[b];_&&r(u,_,g)}return u})}c(i,"createAssigner"),n.exports=i},{"lodash._bindcallback":89,"lodash._isiterateecall":90,"lodash.restparam":91}],89:[function(t,n,e){function d(o,i,r){if(typeof o!="function")return s;if(i===void 0)return o;switch(r){case 1:return function(u){return o.call(i,u)};case 3:return function(u,f,b){return o.call(i,u,f,b)};case 4:return function(u,f,b,y){return o.call(i,u,f,b,y)};case 5:return function(u,f,b,y,g){return o.call(i,u,f,b,y,g)}}return function(){return o.apply(i,arguments)}}c(d,"bindCallback");function s(o){return o}c(s,"identity"),n.exports=d},{}],90:[function(t,n,e){var d=/^\d+$/,s=9007199254740991;function o(g){return function(v){return v==null?void 0:v[g]}}c(o,"baseProperty");var i=o("length");function r(g){return g!=null&&b(i(g))}c(r,"isArrayLike");function u(g,v){return g=typeof g=="number"||d.test(g)?+g:-1,v=v==null?s:v,g>-1&&g%1==0&&g<v}c(u,"isIndex");function f(g,v,S){if(!y(S))return!1;var _=typeof v;if(_=="number"?r(S)&&u(v,S.length):_=="string"&&v in S){var w=S[v];return g===g?g===w:w!==w}return!1}c(f,"isIterateeCall");function b(g){return typeof g=="number"&&g>-1&&g%1==0&&g<=s}c(b,"isLength");function y(g){var v=typeof g;return!!g&&(v=="object"||v=="function")}c(y,"isObject"),n.exports=f},{}],91:[function(t,n,e){var d="Expected a function",s=Math.max;function o(i,r){if(typeof i!="function")throw new TypeError(d);return r=s(r===void 0?i.length-1:+r||0,0),function(){for(var u=arguments,f=-1,b=s(u.length-r,0),y=Array(b);++f<b;)y[f]=u[r+f];switch(r){case 0:return i.call(this,y);case 1:return i.call(this,u[0],y);case 2:return i.call(this,u[0],u[1],y)}var g=Array(r+1);for(f=-1;++f<r;)g[f]=u[f];return g[r]=y,i.apply(this,g)}}c(o,"restParam"),n.exports=o},{}],92:[function(t,n,e){arguments[4][48][0].apply(e,arguments)},{dup:48,"lodash._getnative":93,"lodash.isarguments":94,"lodash.isarray":95}],93:[function(t,n,e){arguments[4][49][0].apply(e,arguments)},{dup:49}],94:[function(t,n,e){arguments[4][45][0].apply(e,arguments)},{dup:45}],95:[function(t,n,e){arguments[4][46][0].apply(e,arguments)},{dup:46}],96:[function(t,n,e){arguments[4][51][0].apply(e,arguments)},{dup:51}],97:[function(t,n,e){n.exports=c(function(s,o){var i;for(var r in o)o.hasOwnProperty(r)&&(i=o[r],i==null?s.removeAttribute(r):s.setAttribute(r,i))},"setAttributes")},{}],98:[function(t,n,e){arguments[4][2][0].apply(e,arguments)},{"./coinbase-account":99,"./constants":100,"./credit-card":101,"./europe-bank-account":102,"./normalize-api-fields":104,"./parse-client-token":105,"./paypal-account":106,"./request/choose-driver":109,"./sepa-mandate":114,"./should-enable-cors":115,"./util":116,"braintree-3ds":125,"braintree-utilities":139,dup:2}],99:[function(t,n,e){arguments[4][3][0].apply(e,arguments)},{dup:3}],100:[function(t,n,e){arguments[4][4][0].apply(e,arguments)},{dup:4}],101:[function(t,n,e){arguments[4][5][0].apply(e,arguments)},{dup:5}],102:[function(t,n,e){arguments[4][6][0].apply(e,arguments)},{dup:6}],103:[function(t,n,e){arguments[4][7][0].apply(e,arguments)},{"./constants":100,"./parse-client-token":105,"./request/choose-driver":109,"./should-enable-cors":115,"./util":116,dup:7}],104:[function(t,n,e){arguments[4][8][0].apply(e,arguments)},{dup:8}],105:[function(t,n,e){arguments[4][9][0].apply(e,arguments)},{"./polyfill":107,"braintree-utilities":139,dup:9}],106:[function(t,n,e){arguments[4][10][0].apply(e,arguments)},{dup:10}],107:[function(t,n,e){arguments[4][11][0].apply(e,arguments)},{dup:11}],108:[function(t,n,e){arguments[4][12][0].apply(e,arguments)},{"../constants":100,"../util":116,"./parse-body":112,"./prep-body":113,dup:12}],109:[function(t,n,e){arguments[4][13][0].apply(e,arguments)},{"../util":116,"./ajax-driver":108,"./jsonp-driver":110,dup:13}],110:[function(t,n,e){arguments[4][14][0].apply(e,arguments)},{"../constants":100,"./jsonp":111,dup:14}],111:[function(t,n,e){arguments[4][15][0].apply(e,arguments)},{"../util":116,dup:15}],112:[function(t,n,e){arguments[4][16][0].apply(e,arguments)},{dup:16}],113:[function(t,n,e){arguments[4][17][0].apply(e,arguments)},{dup:17,"lodash.isstring":147}],114:[function(t,n,e){arguments[4][18][0].apply(e,arguments)},{dup:18}],115:[function(t,n,e){arguments[4][19][0].apply(e,arguments)},{dup:19}],116:[function(t,n,e){arguments[4][20][0].apply(e,arguments)},{dup:20,"lodash.isempty":140,"lodash.isobject":146}],117:[function(t,n,e){arguments[4][21][0].apply(e,arguments)},{"./lib/client":98,"./lib/get-configuration":103,"./lib/parse-client-token":105,"./lib/util":116,dup:21}],118:[function(t,n,e){arguments[4][22][0].apply(e,arguments)},{dup:22}],119:[function(t,n,e){arguments[4][23][0].apply(e,arguments)},{dup:23}],120:[function(t,n,e){arguments[4][24][0].apply(e,arguments)},{dup:24}],121:[function(t,n,e){arguments[4][25][0].apply(e,arguments)},{dup:25}],122:[function(t,n,e){arguments[4][26][0].apply(e,arguments)},{"./lib/dom":118,"./lib/events":119,"./lib/fn":120,"./lib/url":121,dup:26}],123:[function(t,n,e){arguments[4][27][0].apply(e,arguments)},{"../shared/receiver":130,"braintree-utilities":122,dup:27}],124:[function(t,n,e){arguments[4][28][0].apply(e,arguments)},{"./authorization_service":123,"./loader":126,"braintree-utilities":122,dup:28}],125:[function(t,n,e){arguments[4][29][0].apply(e,arguments)},{"./client":124,dup:29}],126:[function(t,n,e){arguments[4][30][0].apply(e,arguments)},{"./loader_display":127,"./loader_message":128,"./loader_spinner":129,dup:30}],127:[function(t,n,e){arguments[4][31][0].apply(e,arguments)},{dup:31}],128:[function(t,n,e){arguments[4][32][0].apply(e,arguments)},{dup:32}],129:[function(t,n,e){arguments[4][33][0].apply(e,arguments)},{dup:33}],130:[function(t,n,e){arguments[4][34][0].apply(e,arguments)},{"braintree-utilities":122,dup:34}],131:[function(t,n,e){arguments[4][35][0].apply(e,arguments)},{dup:35}],132:[function(t,n,e){arguments[4][36][0].apply(e,arguments)},{dup:36}],133:[function(t,n,e){arguments[4][22][0].apply(e,arguments)},{dup:22}],134:[function(t,n,e){arguments[4][38][0].apply(e,arguments)},{dup:38}],135:[function(t,n,e){arguments[4][39][0].apply(e,arguments)},{dup:39}],136:[function(t,n,e){arguments[4][40][0].apply(e,arguments)},{dup:40}],137:[function(t,n,e){arguments[4][41][0].apply(e,arguments)},{"./array":131,dup:41}],138:[function(t,n,e){arguments[4][42][0].apply(e,arguments)},{dup:42}],139:[function(t,n,e){arguments[4][43][0].apply(e,arguments)},{"./lib/array":131,"./lib/base64":132,"./lib/dom":133,"./lib/events":134,"./lib/fn":135,"./lib/string":136,"./lib/url":137,"./lib/uuid":138,dup:43}],140:[function(t,n,e){arguments[4][44][0].apply(e,arguments)},{dup:44,"lodash.isarguments":141,"lodash.isarray":142,"lodash.isfunction":143,"lodash.isstring":147,"lodash.keys":144}],141:[function(t,n,e){arguments[4][45][0].apply(e,arguments)},{dup:45}],142:[function(t,n,e){arguments[4][46][0].apply(e,arguments)},{dup:46}],143:[function(t,n,e){arguments[4][47][0].apply(e,arguments)},{dup:47}],144:[function(t,n,e){arguments[4][48][0].apply(e,arguments)},{dup:48,"lodash._getnative":145,"lodash.isarguments":141,"lodash.isarray":142}],145:[function(t,n,e){arguments[4][49][0].apply(e,arguments)},{dup:49}],146:[function(t,n,e){arguments[4][50][0].apply(e,arguments)},{dup:50}],147:[function(t,n,e){arguments[4][51][0].apply(e,arguments)},{dup:51}],148:[function(t,n,e){arguments[4][52][0].apply(e,arguments)},{"./lib/check-origin":149,"./lib/events":150,dup:52,framebus:151}],149:[function(t,n,e){arguments[4][53][0].apply(e,arguments)},{dup:53}],150:[function(t,n,e){arguments[4][54][0].apply(e,arguments)},{dup:54}],151:[function(t,n,e){arguments[4][55][0].apply(e,arguments)},{dup:55}],152:[function(t,n,e){arguments[4][52][0].apply(e,arguments)},{"./lib/check-origin":153,"./lib/events":154,dup:52,framebus:155}],153:[function(t,n,e){arguments[4][53][0].apply(e,arguments)},{dup:53}],154:[function(t,n,e){arguments[4][54][0].apply(e,arguments)},{dup:54}],155:[function(t,n,e){arguments[4][55][0].apply(e,arguments)},{dup:55}],156:[function(t,n,e){arguments[4][35][0].apply(e,arguments)},{dup:35}],157:[function(t,n,e){arguments[4][36][0].apply(e,arguments)},{dup:36}],158:[function(t,n,e){arguments[4][22][0].apply(e,arguments)},{dup:22}],159:[function(t,n,e){arguments[4][38][0].apply(e,arguments)},{dup:38}],160:[function(t,n,e){arguments[4][39][0].apply(e,arguments)},{dup:39}],161:[function(t,n,e){arguments[4][40][0].apply(e,arguments)},{dup:40}],162:[function(t,n,e){arguments[4][41][0].apply(e,arguments)},{"./array":156,dup:41}],163:[function(t,n,e){arguments[4][42][0].apply(e,arguments)},{dup:42}],164:[function(t,n,e){arguments[4][43][0].apply(e,arguments)},{"./lib/array":156,"./lib/base64":157,"./lib/dom":158,"./lib/events":159,"./lib/fn":160,"./lib/string":161,"./lib/url":162,"./lib/uuid":163,dup:43}],165:[function(t,n,e){arguments[4][80][0].apply(e,arguments)},{"batch-execute-functions":166,"braintree-utilities/lib/fn":167,dup:80}],166:[function(t,n,e){arguments[4][81][0].apply(e,arguments)},{dup:81}],167:[function(t,n,e){arguments[4][39][0].apply(e,arguments)},{dup:39}],168:[function(t,n,e){arguments[4][83][0].apply(e,arguments)},{"./lib/default-attributes":169,dup:83,"lodash.assign":170,"lodash.isstring":181,setattributes:182}],169:[function(t,n,e){arguments[4][84][0].apply(e,arguments)},{dup:84}],170:[function(t,n,e){arguments[4][85][0].apply(e,arguments)},{dup:85,"lodash._baseassign":171,"lodash._createassigner":173,"lodash.keys":177}],171:[function(t,n,e){arguments[4][86][0].apply(e,arguments)},{dup:86,"lodash._basecopy":172,"lodash.keys":177}],172:[function(t,n,e){arguments[4][87][0].apply(e,arguments)},{dup:87}],173:[function(t,n,e){arguments[4][88][0].apply(e,arguments)},{dup:88,"lodash._bindcallback":174,"lodash._isiterateecall":175,"lodash.restparam":176}],174:[function(t,n,e){arguments[4][89][0].apply(e,arguments)},{dup:89}],175:[function(t,n,e){arguments[4][90][0].apply(e,arguments)},{dup:90}],176:[function(t,n,e){arguments[4][91][0].apply(e,arguments)},{dup:91}],177:[function(t,n,e){arguments[4][48][0].apply(e,arguments)},{dup:48,"lodash._getnative":178,"lodash.isarguments":179,"lodash.isarray":180}],178:[function(t,n,e){arguments[4][49][0].apply(e,arguments)},{dup:49}],179:[function(t,n,e){arguments[4][45][0].apply(e,arguments)},{dup:45}],180:[function(t,n,e){arguments[4][46][0].apply(e,arguments)},{dup:46}],181:[function(t,n,e){arguments[4][51][0].apply(e,arguments)},{dup:51}],182:[function(t,n,e){arguments[4][97][0].apply(e,arguments)},{dup:97}],183:[function(t,n,e){(function(d){"use strict";var s=t("braintree-utilities"),o=t("../../shared/util/browser"),i=t("destructor"),r=t("braintree-bus"),u=t("../../shared/constants"),f=t("./popup-view"),b=t("./modal-view");function y(g){this.options=g||{},this.destructor=new i,this.bus=new r({merchantUrl:d.location.href,channel:this.options.channel}),this.destructor.registerFunctionForTeardown(s.bind(function(){this.bus.teardown()},this)),this._initialize()}c(y,"AppView"),y.prototype._initialize=function(){o.isPopupSupported()?this.app=new f({src:this._buildUrl(),isHermes:this.options.isHermes,channel:this.options.channel}):this.app=new b({src:this._buildUrl(),headless:this.options.headless,isHermes:this.options.isHermes,insertFrameFunction:this.options.insertFrameFunction,channel:this.options.channel}),this.destructor.registerFunctionForTeardown(s.bind(function(){this.app.teardown()},this)),this.bus.on(u.events.CLOSE_APP,s.bind(this.close,this)),this.bus.on(u.events.FOCUS_APP,s.bind(this.focus,this)),this.bus.on(r.events.PAYMENT_METHOD_GENERATED,s.bind(this._handlePaymentMethodGenerated,this)),this.bus.on(r.events.UI_POPUP_FORCE_CLOSE,s.bind(this._handleForceClose,this))},y.prototype._buildUrl=function(){var g=this.options.paypalAssetsUrl;return g+="/pwpp/",g+=u.VERSION,g+="/html/braintree-frame.html",g+="#"+this.options.channel,g},y.prototype.open=function(){this.focus(),this.app.open(),this.poll()},y.prototype._handleForceClose=function(g){g.target===u.PAYPAL_INTEGRATION_NAME&&this.close()},y.prototype.close=function(){this.app.close()},y.prototype.focus=function(){s.isFunction(this.app.focus)&&this.app.focus()},y.prototype.isClosed=function(){return this.app.isClosed()},y.prototype.stopPolling=function(){clearInterval(this.pollId)},y.prototype.poll=function(){this.pollId=setInterval(s.bind(function(){this.isClosed()&&this._handleClosed()},this),100)},y.prototype._handlePaymentMethodGenerated=function(g){g.type===u.NONCE_TYPE&&this.close()},y.prototype._handleClosed=function(){this.stopPolling(),this.close(),o.isPopupSupported()&&(this.app.el=null)},y.prototype.teardown=function(){this.destructor.teardown()},n.exports=y}).call(this,typeof z.g!="undefined"?z.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../../shared/constants":186,"../../shared/util/browser":191,"./modal-view":184,"./popup-view":185,"braintree-bus":152,"braintree-utilities":164,destructor:165}],184:[function(t,n,e){(function(d){"use strict";var s=t("braintree-utilities"),o=t("../../shared/util/browser"),i=t("../../shared/constants"),r=t("braintree-bus"),u=t("iframer");function f(b){this.options=b||{},this.container=document.body,this.bus=new r({merchantUrl:d.location.href,channel:b.channel}),this.options.headless?this._open=this._openHeadless:this._attachBusEvents(),this._initialize()}c(f,"ModalView"),f.prototype._attachBusEvents=function(){this.bus.on(i.events.OPEN_MODAL,s.bind(this.open,this))},f.prototype._initialize=function(){var b=this.options.isHermes?i.HERMES_FRAME_NAME:i.FRAME_NAME;this.el=u({src:this.options.src,name:b,height:this.options.height||"100%",width:this.options.width||"100%",style:{position:o.isMobile()?"absolute":"fixed",top:0,left:0,bottom:0,padding:0,margin:0,border:0,outline:"none",zIndex:20001,background:"#FFFFFF"}})},f.prototype.isClosed=function(){return!this.container.contains(this.el)},f.prototype._openHeadless=function(){this.bus.emit(i.events.OPEN_MODAL)},f.prototype._open=function(){s.isFunction(this.options.insertFrameFunction)?this.options.insertFrameFunction(this.el.src):this.container.appendChild(this.el),this.bus.emit(i.events.UI_MODAL_DID_OPEN,{source:i.PAYPAL_INTEGRATION_NAME})},f.prototype.open=function(){this.isClosed()&&this._open()},f.prototype.close=function(){this.isClosed()||(this.container.removeChild(this.el),this.bus.emit(i.events.UI_MODAL_DID_CLOSE,{source:i.PAYPAL_INTEGRATION_NAME}))},f.prototype.teardown=function(){this.close(),this.bus.teardown()},n.exports=f}).call(this,typeof z.g!="undefined"?z.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../../shared/constants":186,"../../shared/util/browser":191,"braintree-bus":152,"braintree-utilities":164,iframer:168}],185:[function(t,n,e){(function(d){"use strict";var s=t("../../shared/constants"),o=t("braintree-bus"),i=t("../../shared/useragent/browser");function r(u){this.options=u,this.bus=new o({merchantUrl:d.location.href,channel:this.options.channel}),u.isHermes?(this.name=s.HERMES_POPUP_NAME,this.popupHeight=s.HERMES_POPUP_HEIGHT,this.popupWidth=s.HERMES_POPUP_WIDTH):(this.name=s.POPUP_NAME,this.popupHeight=s.POPUP_HEIGHT,this.popupWidth=s.POPUP_WIDTH)}c(r,"PopupView"),r.prototype._getPopupOptions=function(){return["height="+this.popupHeight,"width="+this.popupWidth,"top="+this._getTopPosition(),"left="+this._getLeftPosition(),s.POPUP_OPTIONS].join(",")},r.prototype._centerPosition=function(u,f,b){return(u-f)/2+b},r.prototype._getTopPosition=function(){var u=window.outerHeight||document.documentElement.clientHeight,f=typeof window.screenY=="undefined"?window.screenTop:window.screenY;return this._centerPosition(u,this.popupHeight,f)},r.prototype._getLeftPosition=function(){var u=window.outerWidth||document.documentElement.clientWidth,f=typeof window.screenX=="undefined"?window.screenLeft:window.screenX;return this._centerPosition(u,this.popupWidth,f)},r.prototype.isClosed=function(){if(this.el)return this.el.closed},r.prototype.open=function(){this.el||(this.el=window.open(this.options.src,this.name,this._getPopupOptions()),this.focus(),this.bus.emit(o.events.UI_POPUP_DID_OPEN,{source:s.PAYPAL_INTEGRATION_NAME}))},r.prototype.close=function(){this.el&&((i.isIE8()&&!this.isClosed()||!i.isIE8())&&this.el.close(),this.bus.emit(o.events.UI_POPUP_DID_CLOSE,{source:s.PAYPAL_INTEGRATION_NAME}))},r.prototype.focus=function(){this.el&&this.el.focus()},r.prototype.teardown=function(){this.close(),this.bus.teardown()},n.exports=r}).call(this,typeof z.g!="undefined"?z.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../../shared/constants":186,"../../shared/useragent/browser":187,"braintree-bus":152}],186:[function(t,n,e){"use strict";var d,s="1.6.1",o=["GET_CLIENT_TOKEN","GET_CLIENT_OPTIONS","OPEN_MODAL","CLOSE_APP","FOCUS_APP","UI_MODAL_DID_OPEN","UI_MODAL_DID_CLOSE"];for(e.VERSION=s,e.POPUP_NAME="braintree_paypal_popup",e.HERMES_POPUP_NAME="PPFrameRedirect",e.FRAME_NAME="braintree-paypal-frame",e.HERMES_FRAME_NAME="PPFrameRedirect",e.POPUP_PATH="/pwpp/"+s+"/html/braintree-frame.html",e.POPUP_OPTIONS="resizable,scrollbars",e.POPUP_HEIGHT=470,e.POPUP_WIDTH=410,e.HERMES_POPUP_HEIGHT=535,e.HERMES_POPUP_WIDTH=450,e.BRIDGE_FRAME_NAME="bt-proxy-frame",e.HERMES_SUPPORTED_CURRENCIES=["USD","GBP","EUR","AUD","CAD","DKK","NOK","PLN","SEK","CHF","TRY"],e.HERMES_SUPPORTED_COUNTRIES=["US","GB","AU","CA","ES","FR","DE","IT","NL","NO","PL","CH","TR","DK","BE","AT"],e.NONCE_TYPE="PayPalAccount",e.PAYPAL_INTEGRATION_NAME="PayPal",e.ILLEGAL_XHR_ERROR="Illegal XHR request attempted",e.events={},d=0;d<o.length;d++)e.events[o[d]]="paypal:"+o[d]},{}],187:[function(t,n,e){"use strict";var d=t("./useragent"),s=t("./platform");function o(){return d.matchUserAgent("Android")&&!i()}c(o,"isAndroid");function i(){return d.matchUserAgent("Chrome")||d.matchUserAgent("CriOS")}c(i,"isChrome");function r(){return d.matchUserAgent("Firefox")}c(r,"isFirefox");function u(){return d.matchUserAgent("Trident")||d.matchUserAgent("MSIE")}c(u,"isIE");function f(){return d.matchUserAgent(/MSIE 8\.0/)}c(f,"isIE8");function b(){return d.matchUserAgent("Opera")||d.matchUserAgent("OPR")}c(b,"isOpera");function y(){return b()&&Object.prototype.toString.call(window.operamini)==="[object OperaMini]"}c(y,"isOperaMini");function g(){return d.matchUserAgent("Safari")&&!i()&&!o()}c(g,"isSafari");function v(){return s.isIos()&&!i()&&!g()}c(v,"isIosWebView");function S(){var _=/Version\/[\w\.]+ Chrome\/[\w\.]+ Mobile/;return s.isAndroid()&&d.matchUserAgent(_)}c(S,"isAndroidWebView"),n.exports={isAndroid:o,isChrome:i,isFirefox:r,isIE:u,isIE8:f,isOpera:b,isOperaMini:y,isSafari:g,isIosWebView:v,isAndroidWebView:S}},{"./platform":189,"./useragent":190}],188:[function(t,n,e){"use strict";var d=t("./useragent"),s=t("./platform");function o(){return!i()&&(s.isAndroid()||s.isIpod()||s.isIphone()||d.matchUserAgent("IEMobile"))}c(o,"isMobile");function i(){return s.isIpad()||s.isAndroid()&&!d.matchUserAgent("Mobile")}c(i,"isTablet");function r(){return!o()&&!i()}c(r,"isDesktop"),n.exports={isMobile:o,isTablet:i,isDesktop:r}},{"./platform":189,"./useragent":190}],189:[function(t,n,e){"use strict";var d=t("./useragent");function s(){return d.matchUserAgent("Android")}c(s,"isAndroid");function o(){return d.matchUserAgent("iPad")}c(o,"isIpad");function i(){return d.matchUserAgent("iPod")}c(i,"isIpod");function r(){return d.matchUserAgent("iPhone")&&!i()}c(r,"isIphone");function u(){return o()||i()||r()}c(u,"isIos"),n.exports={isAndroid:s,isIpad:o,isIpod:i,isIphone:r,isIos:u}},{"./useragent":190}],190:[function(t,n,e){"use strict";var d=window.navigator.userAgent;function s(){return d}c(s,"getNativeUserAgent");function o(i){var r=e.getNativeUserAgent(),u=r.match(i);return!!u}c(o,"matchUserAgent"),e.getNativeUserAgent=s,e.matchUserAgent=o},{}],191:[function(t,n,e){"use strict";var d=t("../useragent/browser"),s=t("../useragent/device"),o=t("../useragent/platform"),i=t("../useragent/useragent"),r=window.navigator.userAgent,u=/[Mm]obi|tablet|iOS|Android|IEMobile|Windows\sPhone/;function f(){return b()&&window.outerWidth<600}c(f,"isMobile");function b(){return u.test(r)}c(b,"isMobileDevice");function y(){return Boolean(window.postMessage)}c(y,"detectedPostMessage");function g(){if(d.isOperaMini())return!1;if(s.isDesktop())return!0;if(s.isMobile()||s.isTablet()){if(d.isIE())return!1;if(o.isAndroid())return!d.isAndroidWebView();if(o.isIos())return!(d.isChrome()||d.isSafari()&&i.matchUserAgent(/OS (?:8_1|8_0|8)(?!_\d)/i)||d.isIosWebView())}return!1}c(g,"isPopupSupported");function v(){if(d.isIE8())return!1;try{return window.self===window.top}catch{return!1}}c(v,"isOverlaySupported");function S(){return d.isIE()}c(S,"isBridgeIframeRequired");function _(){var w=null,O="";try{new ActiveXObject("")}catch(R){O=R.name}try{w=Boolean(new ActiveXObject("htmlfile"))}catch{w=!1}return O!=="ReferenceError"&&w===!1?w=!1:w=!0,!w}c(_,"isMetroBrowser"),n.exports={isMobile:f,isMobileDevice:b,detectedPostMessage:y,isPopupSupported:g,isOverlaySupported:v,isBridgeIframeRequired:S,isMetroBrowser:_}},{"../useragent/browser":187,"../useragent/device":188,"../useragent/platform":189,"../useragent/useragent":190}],192:[function(t,n,e){"use strict";var d=t("braintree-utilities");function s(o,i){this.host=o||window,this.channel=i||null,this.handlers=[],d.addEventListener(this.host,"message",d.bind(this.receive,this))}c(s,"MessageBus"),s.prototype.receive=function(o){var i,r,u,f;try{u=JSON.parse(o.data)}catch{return}for(f=u.type,r=new s.Message(this,o.source,u.data),i=0;i<this.handlers.length;i++)this.handlers[i].type===f&&this.handlers[i].handler(r)},s.prototype.send=function(o,i,r){o.postMessage(JSON.stringify({type:this._namespaceEvent(i),data:r}),"*")},s.prototype.register=function(o,i){this.handlers.push({type:this._namespaceEvent(o),handler:i})},s.prototype.unregister=function(o,i){for(var r=this.handlers.length-1;r>=0;r--)if(this.handlers[r].type===o&&this.handlers[r].handler===i)return this.handlers.splice(r,1)},s.prototype._namespaceEvent=function(o){return this.channel?["braintree",this.channel,o].join(":"):o},s.Message=function(o,i,r){this.bus=o,this.source=i,this.content=r},s.Message.prototype.reply=function(o,i){this.bus.send(this.source,o,i)},n.exports=s},{"braintree-utilities":206}],193:[function(t,n,e){"use strict";var d=t("braintree-utilities");function s(o,i){this.bus=o,this.target=i,this.handlers=[],this.bus.register("publish",d.bind(this._handleMessage,this))}c(s,"PubsubClient"),s.prototype._handleMessage=function(o){var i,r=o.content,u=this.handlers[r.channel];if(typeof u!="undefined")for(i=0;i<u.length;i++)u[i](r.data)},s.prototype.publish=function(o,i){this.bus.send(this.target,"publish",{channel:o,data:i})},s.prototype.subscribe=function(o,i){this.handlers[o]=this.handlers[o]||[],this.handlers[o].push(i)},s.prototype.unsubscribe=function(o,i){var r,u=this.handlers[o];if(typeof u!="undefined")for(r=0;r<u.length;r++)u[r]===i&&u.splice(r,1)},n.exports=s},{"braintree-utilities":206}],194:[function(t,n,e){"use strict";function d(s){this.bus=s,this.frames=[],this.handlers=[]}c(d,"PubsubServer"),d.prototype.subscribe=function(s,o){this.handlers[s]=this.handlers[s]||[],this.handlers[s].push(o)},d.prototype.registerFrame=function(s){this.frames.push(s)},d.prototype.unregisterFrame=function(s){for(var o=0;o<this.frames.length;o++)this.frames[o]===s&&this.frames.splice(o,1)},d.prototype.publish=function(s,o){var i,r=this.handlers[s];if(typeof r!="undefined")for(i=0;i<r.length;i++)r[i](o);for(i=0;i<this.frames.length;i++)this.bus.send(this.frames[i],"publish",{channel:s,data:o})},d.prototype.unsubscribe=function(s,o){var i,r=this.handlers[s];if(typeof r!="undefined")for(i=0;i<r.length;i++)r[i]===o&&r.splice(i,1)},n.exports=d},{}],195:[function(t,n,e){"use strict";var d=t("braintree-utilities");function s(o,i){this.bus=o,this.target=i||window.parent,this.counter=0,this.callbacks={},this.bus.register("rpc_response",d.bind(this._handleResponse,this))}c(s,"RPCClient"),s.prototype._handleResponse=function(o){var i=o.content,r=this.callbacks[i.id];typeof r=="function"&&(r.apply(null,i.response),delete this.callbacks[i.id])},s.prototype.invoke=function(o,i,r){var u=this.counter++;this.callbacks[u]=r,this.bus.send(this.target,"rpc_request",{id:u,method:o,args:i})},n.exports=s},{"braintree-utilities":206}],196:[function(t,n,e){"use strict";var d=t("braintree-utilities");function s(o){this.bus=o,this.methods={},this.bus.register("rpc_request",d.bind(this._handleRequest,this))}c(s,"RPCServer"),s.prototype._handleRequest=function(o){var i,r=o.content,u=r.args||[],f=this.methods[r.method];typeof f=="function"&&(i=c(function(){o.reply("rpc_response",{id:r.id,response:Array.prototype.slice.call(arguments)})},"reply"),u.push(i),f.apply(null,u))},s.prototype.reset=function(){this.methods={}},s.prototype.define=function(o,i){this.methods[o]=i},n.exports=s},{"braintree-utilities":206}],197:[function(t,n,e){var d=t("./lib/message-bus"),s=t("./lib/pubsub-client"),o=t("./lib/pubsub-server"),i=t("./lib/rpc-client"),r=t("./lib/rpc-server");n.exports={MessageBus:d,PubsubClient:s,PubsubServer:o,RPCClient:i,RPCServer:r}},{"./lib/message-bus":192,"./lib/pubsub-client":193,"./lib/pubsub-server":194,"./lib/rpc-client":195,"./lib/rpc-server":196}],198:[function(t,n,e){arguments[4][35][0].apply(e,arguments)},{dup:35}],199:[function(t,n,e){arguments[4][36][0].apply(e,arguments)},{dup:36}],200:[function(t,n,e){arguments[4][22][0].apply(e,arguments)},{dup:22}],201:[function(t,n,e){arguments[4][38][0].apply(e,arguments)},{dup:38}],202:[function(t,n,e){arguments[4][39][0].apply(e,arguments)},{dup:39}],203:[function(t,n,e){arguments[4][40][0].apply(e,arguments)},{dup:40}],204:[function(t,n,e){arguments[4][41][0].apply(e,arguments)},{"./array":198,dup:41}],205:[function(t,n,e){arguments[4][42][0].apply(e,arguments)},{dup:42}],206:[function(t,n,e){arguments[4][43][0].apply(e,arguments)},{"./lib/array":198,"./lib/base64":199,"./lib/dom":200,"./lib/events":201,"./lib/fn":202,"./lib/string":203,"./lib/url":204,"./lib/uuid":205,dup:43}],207:[function(t,n,e){arguments[4][35][0].apply(e,arguments)},{dup:35}],208:[function(t,n,e){arguments[4][36][0].apply(e,arguments)},{dup:36}],209:[function(t,n,e){arguments[4][22][0].apply(e,arguments)},{dup:22}],210:[function(t,n,e){arguments[4][38][0].apply(e,arguments)},{dup:38}],211:[function(t,n,e){arguments[4][39][0].apply(e,arguments)},{dup:39}],212:[function(t,n,e){arguments[4][40][0].apply(e,arguments)},{dup:40}],213:[function(t,n,e){arguments[4][41][0].apply(e,arguments)},{"./array":207,dup:41}],214:[function(t,n,e){arguments[4][42][0].apply(e,arguments)},{dup:42}],215:[function(t,n,e){arguments[4][43][0].apply(e,arguments)},{"./lib/array":207,"./lib/base64":208,"./lib/dom":209,"./lib/events":210,"./lib/fn":211,"./lib/string":212,"./lib/url":213,"./lib/uuid":214,dup:43}],216:[function(t,n,e){arguments[4][80][0].apply(e,arguments)},{"batch-execute-functions":217,"braintree-utilities/lib/fn":218,dup:80}],217:[function(t,n,e){arguments[4][81][0].apply(e,arguments)},{dup:81}],218:[function(t,n,e){arguments[4][39][0].apply(e,arguments)},{dup:39}],219:[function(t,n,e){arguments[4][83][0].apply(e,arguments)},{"./lib/default-attributes":220,dup:83,"lodash.assign":221,"lodash.isstring":232,setattributes:233}],220:[function(t,n,e){arguments[4][84][0].apply(e,arguments)},{dup:84}],221:[function(t,n,e){arguments[4][85][0].apply(e,arguments)},{dup:85,"lodash._baseassign":222,"lodash._createassigner":224,"lodash.keys":228}],222:[function(t,n,e){arguments[4][86][0].apply(e,arguments)},{dup:86,"lodash._basecopy":223,"lodash.keys":228}],223:[function(t,n,e){arguments[4][87][0].apply(e,arguments)},{dup:87}],224:[function(t,n,e){arguments[4][88][0].apply(e,arguments)},{dup:88,"lodash._bindcallback":225,"lodash._isiterateecall":226,"lodash.restparam":227}],225:[function(t,n,e){arguments[4][89][0].apply(e,arguments)},{dup:89}],226:[function(t,n,e){arguments[4][90][0].apply(e,arguments)},{dup:90}],227:[function(t,n,e){arguments[4][91][0].apply(e,arguments)},{dup:91}],228:[function(t,n,e){arguments[4][48][0].apply(e,arguments)},{dup:48,"lodash._getnative":229,"lodash.isarguments":230,"lodash.isarray":231}],229:[function(t,n,e){arguments[4][49][0].apply(e,arguments)},{dup:49}],230:[function(t,n,e){arguments[4][45][0].apply(e,arguments)},{dup:45}],231:[function(t,n,e){arguments[4][46][0].apply(e,arguments)},{dup:46}],232:[function(t,n,e){arguments[4][51][0].apply(e,arguments)},{dup:51}],233:[function(t,n,e){arguments[4][97][0].apply(e,arguments)},{dup:97}],234:[function(t,n,e){"use strict";var d=["getCreditCards","unlockCreditCard","sendAnalyticsEvents"];function s(o){this.apiClient=o}c(s,"APIProxyServer"),s.prototype.attach=function(o){var i=this,r=0,u=d.length;function f(b){o.define(b,function(){i.apiClient[b].apply(i.apiClient,arguments)})}for(c(f,"attachDefine"),r;r<u;r++)f(d[r])},n.exports=s},{}],235:[function(t,n,e){(function(d){"use strict";var s,o,i=t("braintree-api"),r=t("braintree-bus"),u=t("destructor"),f=t("braintree-rpc"),b=t("braintree-utilities"),y=b.normalizeElement,g=b.bind,v=b.isBrowserHttps,S=t("./api-proxy-server"),_=t("./merchant-form-manager"),w=t("./frame-container"),O=t("../shared/constants"),R="1.9.1",C=t("braintree-paypal/src/external/views/app-view");function E(T,m){var A=window.getComputedStyle?getComputedStyle(T):T.currentStyle;return A[m]}c(E,"getElementStyle");function I(){return{html:{height:s.style.height||"",overflow:E(s,"overflow"),position:E(s,"position")},body:{height:o.style.height||"",overflow:E(o,"overflow")}}}c(I,"getMerchantPageDefaultStyles");function M(){var T=/Android|iPhone|iPod|iPad/i.test(window.navigator.userAgent);return T}c(M,"isMobile");function F(T){var m,A,N;this.channel=T.channel,this.destructor=new u,this.merchantConfiguration=T.merchantConfiguration,this.encodedClientToken=T.gatewayConfiguration,this.analyticsConfiguration=T.analyticsConfiguration,this.paypalOptions=T.merchantConfiguration.paypal||{},this.container=null,this.merchantFormManager=null,this.root=T.root,this.configurationRequests=[],this.braintreeApiClient=i.configure({clientToken:T.gatewayConfiguration,analyticsConfiguration:this.analyticsConfiguration,integration:"dropin",enableCORS:this.merchantConfiguration.enableCORS}),this.paymentMethodNonceReceivedCallback=T.merchantConfiguration.paymentMethodNonceReceived,this.clientToken=i.parseClientToken(T.gatewayConfiguration),this.braintreeBus=new r({merchantUrl:d.location.href,channel:T.channel}),this.bus=new f.MessageBus(this.root,this.channel),this.rpcServer=new f.RPCServer(this.bus),this.apiProxyServer=new S(this.braintreeApiClient),this.apiProxyServer.attach(this.rpcServer),m=T.inlineFramePath||this.clientToken.assetsUrl+"/dropin/"+R+"/inline-frame.html",A=T.modalFramePath||this.clientToken.assetsUrl+"/dropin/"+R+"/modal-frame.html",s=document.documentElement,o=document.body,this.frames={inline:this._createFrame(m,O.INLINE_FRAME_NAME),modal:this._createFrame(A,O.MODAL_FRAME_NAME)},this.container=y(T.merchantConfiguration.container,"Unable to find valid container."),N=y(T.merchantConfiguration.form||this._findClosest(this.container,"form")),this.merchantFormManager=new _({form:N,frames:this.frames,onSubmit:this.paymentMethodNonceReceivedCallback,apiClient:this.braintreeApiClient}).initialize(),this.destructor.registerFunctionForTeardown(g(function(){this.merchantFormManager.teardown()},this)),T.gatewayConfiguration.paypalEnabled&&this._configurePayPal(),this.braintreeApiClient.sendAnalyticsEvents("dropin.web.initialized")}c(F,"Client"),F.prototype.initialize=function(){var T,m=this;this._initializeModal(),this.braintreeBus.emit(r.events.ASYNC_DEPENDENCY_INITIALIZING),this.container.appendChild(this.frames.inline.element),o.appendChild(this.frames.modal.element),this.destructor.registerFunctionForTeardown(function(A){m._hideModal(function(){m.container.removeChild(m.frames.inline.element),o.removeChild(m.frames.modal.element),A()})}),this.rpcServer.define("receiveSharedCustomerIdentifier",function(A){for(m.braintreeApiClient.attrs.sharedCustomerIdentifier=A,m.braintreeApiClient.attrs.sharedCustomerIdentifierType="browser_session_cookie_store",T=0;T<m.configurationRequests.length;T++)m.configurationRequests[T](m.encodedClientToken);m.configurationRequests=[]}),this.braintreeBus.on(r.events.PAYMENT_METHOD_GENERATED,g(this._handleAltPayData,this)),this.rpcServer.define("getConfiguration",function(A){A({enableCORS:m.merchantConfiguration.enableCORS,clientToken:m.encodedClientToken,paypalOptions:m.paypalOptions,analyticsConfiguration:m.analyticsConfiguration,merchantHttps:v()})}),this.rpcServer.define("selectPaymentMethod",function(A){m.frames.modal.rpcClient.invoke("selectPaymentMethod",[A]),m._showModal()}),this.rpcServer.define("sendAddedPaymentMethod",function(A){m.merchantFormManager.setNoncePayload(A),m.frames.inline.rpcClient.invoke("receiveNewPaymentMethod",[A])}),this.rpcServer.define("sendUsedPaymentMethod",function(A){m.frames.inline.rpcClient.invoke("selectPaymentMethod",[A])}),this.rpcServer.define("sendUnlockedNonce",function(A){m.merchantFormManager.setNoncePayload(A)}),this.rpcServer.define("clearNonce",function(){m.merchantFormManager.clearNoncePayload()}),this.rpcServer.define("closeDropInModal",function(){m._hideModal()}),this.rpcServer.define("setInlineFrameHeight",function(A){m.frames.inline.element.style.height=A+"px"}),this.bus.register("ready",function(A){A.source===m.frames.inline.element.contentWindow?m.frames.inline.rpcClient=new f.RPCClient(m.bus,A.source):A.source===m.frames.modal.element.contentWindow&&(m.frames.modal.rpcClient=new f.RPCClient(m.bus,A.source))})},F.prototype._createFrame=function(T,m){return new w(T,m,this.braintreeBus)},F.prototype._initializeModal=function(){this.frames.modal.element.style.display="none",this.frames.modal.element.style.position=M()?"absolute":"fixed",this.frames.modal.element.style.top="0",this.frames.modal.element.style.left="0",this.frames.modal.element.style.height="100%",this.frames.modal.element.style.width="100%"},F.prototype._lockMerchantWindowSize=function(){setTimeout(function(){s.style.overflow="hidden",o.style.overflow="hidden",o.style.height="100%",M()&&(s.style.position="relative",s.style.height=window.innerHeight+"px")},160)},F.prototype._unlockMerchantWindowSize=function(){var T=this.merchantPageDefaultStyles;!T||(o.style.height=T.body.height,o.style.overflow=T.body.overflow,s.style.overflow=T.html.overflow,M()&&(s.style.height=T.html.height,s.style.position=T.html.position),delete this.merchantPageDefaultStyles)},F.prototype._showModal=function(){var T=this,m=this.frames.modal.element;this.merchantPageDefaultStyles=I(),m.style.display="block",this.frames.modal.rpcClient.invoke("open",[],function(){setTimeout(function(){T._lockMerchantWindowSize(),m.contentWindow.focus()},200)})},F.prototype._hideModal=function(T){this._unlockMerchantWindowSize(),this.frames.modal.element.style.display="none",T&&T()},F.prototype._configurePayPal=function(){this.paypalModalView=new C({channel:this.channel,insertFrameFunction:this.paypalOptions.insertFrame,paypalAssetsUrl:this.clientToken.paypal.assetsUrl,isHermes:!!this.paypalOptions.singleUse&&!!this.paypalOptions.amount&&!!this.paypalOptions.currency})},F.prototype._handleAltPayData=function(T){this.merchantFormManager.setNoncePayload(T),this.frames.inline.rpcClient.invoke("receiveNewPaymentMethod",[T]),this.frames.modal.rpcClient.invoke("modalViewClose")},F.prototype._findClosest=function(T,m){m=m.toUpperCase();do if(T.nodeName===m)return T;while(T=T.parentNode);throw"Unable to find a valid "+m},F.prototype.teardown=function(T){this.paypalModalView&&this.paypalModalView.teardown(),this.braintreeBus.emit(O.MODAL_FRAME_TEARDOWN_EVENT,g(function(){this.braintreeBus.emit(O.INLINE_FRAME_TEARDOWN_EVENT,g(function(){this.destructor.teardown(g(function(m){if(m)return T(m);this.braintreeBus.teardown(),T()},this))},this))},this))},n.exports=F}).call(this,typeof z.g!="undefined"?z.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../shared/constants":239,"./api-proxy-server":234,"./frame-container":237,"./merchant-form-manager":238,"braintree-api":117,"braintree-bus":148,"braintree-paypal/src/external/views/app-view":183,"braintree-rpc":197,"braintree-utilities":215,destructor:216}],236:[function(t,n,e){"use strict";var d=t("./client"),s="1.9.1";function o(i){var r=new d(i);return r.initialize(),r}c(o,"create"),n.exports={create:o,VERSION:s}},{"./client":235}],237:[function(t,n,e){"use strict";var d=t("braintree-bus"),s=t("../shared/constants"),o=t("iframer"),i={transition:"transitionend","-o-transition":"otransitionEnd","-moz-transition":"transitionend","-webkit-transition":"webkitTransitionEnd"};function r(){var b,y=document.createElement("fakeelement");for(b in i)if(typeof y.style[b]!="undefined")return i[b];return null}c(r,"getTransitionEndEventName");function u(b,y){var g=r();function v(S){S.target===b&&S.propertyName==="height"&&(y.emit(d.events.ASYNC_DEPENDENCY_READY),b.removeEventListener(g,v))}c(v,"handler"),g?b.addEventListener(g,v):setTimeout(function(){y.emit(d.events.ASYNC_DEPENDENCY_READY)},500)}c(u,"listenForReady");function f(b,y,g){var v="height 210ms cubic-bezier(0.390, 0.575, 0.565, 1.000)",S=o({name:y,width:"100%",height:"68",style:{transition:v,WebkitTransition:v,MozTransition:v,msTransition:v,OTransition:v,border:"0",zIndex:"9999"}});this.element=S,setTimeout(function(){S.src=b+"#"+g.channel},0),y===s.INLINE_FRAME_NAME&&u(S,g)}c(f,"FrameContainer"),n.exports=f},{"../shared/constants":239,"braintree-bus":148,iframer:219}],238:[function(t,n,e){"use strict";var d=t("braintree-utilities"),s=t("form-napper");function o(i){this.formNapper=new s(i.form),this.frames=i.frames,this.onSubmit=i.onSubmit,this.apiClient=i.apiClient}c(o,"MerchantFormManager"),o.prototype.initialize=function(){return this._isSubmitBased()&&this._setElements(),this._setEvents(),this},o.prototype.setNoncePayload=function(i){this.noncePayload=i},o.prototype.clearNoncePayload=function(){this.noncePayload=null},o.prototype._isSubmitBased=function(){return!this.onSubmit},o.prototype._isCallbackBased=function(){return!!this.onSubmit},o.prototype._setElements=function(){this.nonceInput=this.formNapper.inject("payment_method_nonce","")},o.prototype._setEvents=function(){this.formNapper.hijack(d.bind(this._handleFormSubmit,this))},o.prototype._handleFormSubmit=function(i){this.noncePayload&&this.noncePayload.nonce?this._handleNonceReply(i):this.frames.inline.rpcClient.invoke("requestNonce",[],d.bind(function(r){this.setNoncePayload(r),this._handleNonceReply(i)},this))},o.prototype._handleNonceReply=function(i){this._isCallbackBased()?this.apiClient.sendAnalyticsEvents("dropin.web.end.callback",d.bind(function(){var r=this.noncePayload;r.originalEvent=i,this.onSubmit(r),setTimeout(d.bind(function(){delete r.originalEvent,this.frames.inline.rpcClient.invoke("clearLoadingState"),this.frames.inline.rpcClient.invoke("receiveNewPaymentMethod",[r])},this),200)},this)):this._triggerFormSubmission()},o.prototype._triggerFormSubmission=function(){this.nonceInput=this.formNapper.inject("payment_method_nonce",this.noncePayload.nonce),this.apiClient.sendAnalyticsEvents("dropin.web.end.auto-submit",d.bind(function(){this.formNapper.submit()},this))},o.prototype.teardown=function(){var i;this.nonceInput&&(i=this.formNapper.htmlForm,i.removeChild(this.nonceInput)),this.formNapper.detach()},n.exports=o},{"braintree-utilities":215,"form-napper":376}],239:[function(t,n,e){n.exports={PAYPAL_INTEGRATION_NAME:"PayPal",INLINE_FRAME_NAME:"braintree-dropin-frame",MODAL_FRAME_NAME:"braintree-dropin-modal-frame",PAYMENT_METHOD_TYPES:["CoinbaseAccount","PayPalAccount","CreditCard"],cssClassMap:{"American Express":"american-express","Diners Club":"diners-club",DinersClub:"diners-club",Discover:"discover",JCB:"jcb",Maestro:"maestro",MasterCard:"master-card",Solo:"solo",Switch:"switch",UKMaestro:"maestro",UnionPay:"unionpay",Visa:"visa"},INLINE_FRAME_TEARDOWN_EVENT:"dropin:TEARDOWN_INLINE_FRAME",MODAL_FRAME_TEARDOWN_EVENT:"dropin:TEARDOWN_MODAL_FRAME"}},{}],240:[function(t,n,e){(function(d){"use strict";var s=d.Node?d.Node.ELEMENT_NODE:1;function o(f,b){b=b||{};var y,g,v=f.children;for(g=0;g<v.length;g++)if(y=v[g],u(y)){var S=y.getAttribute("data-braintree-name");S==="postal_code"?b.billingAddress={postalCode:y.value}:b[S]=y.value,i(y)}else y.children&&y.children.length>0&&o(y,b);return b}c(o,"extractValues");function i(f){try{f.attributes.removeNamedItem("name")}catch{}}c(i,"scrubAttributes");function r(f){o(f)}c(r,"scrubAllAttributes");function u(f){return f.nodeType===s&&f.attributes["data-braintree-name"]}c(u,"isBraintreeNode"),n.exports={extractValues:o,scrubAllAttributes:r,scrubAttributes:i,isBraintreeNode:u}}).call(this,typeof z.g!="undefined"?z.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],241:[function(t,n,e){(function(d){"use strict";var s=t("braintree-utilities"),o=t("./fields"),i=t("destructor"),r=t("braintree-bus"),u=t("./models/payment-method-model"),f=t("./get-nonce-input"),b={message:"Unable to process payments at this time",type:"IMMEDIATE"};function y(g,v){var S=v.merchantConfiguration,_=typeof S.paymentMethodNonceInputField=="object";this.destructor=new i,this.apiClient=g,this.isCreditCardForm=S.useCreditCard!==!1,this.htmlForm=document.getElementById(S.id),this.paymentMethodNonceInput=f(S.paymentMethodNonceInputField),this.htmlForm.appendChild(this.paymentMethodNonceInput),this.destructor.registerFunctionForTeardown(s.bind(function(){_?this.paymentMethodNonceInput.value="":this.htmlForm.removeChild(this.paymentMethodNonceInput)},this)),this.model=new u,this.bus=new r({merchantUrl:d.location.href,channel:v.channel}),this.setEvents(),this.destructor.registerFunctionForTeardown(s.bind(function(){this.bus.teardown()},this))}c(y,"Form"),y.prototype.setEvents=function(){this.onSubmitHandler=s.bind(this.handleSubmit,this),this.onExternalNonceReceived=s.bind(this.onExternalNonceReceived,this),this.clearExternalNonce=s.bind(this.clearExternalNonce,this),s.addEventListener(this.htmlForm,"submit",this.onSubmitHandler),this.destructor.registerFunctionForTeardown(s.bind(function(){s.removeEventListener(this.htmlForm,"submit",this.onSubmitHandler)},this)),this.bus.on(r.events.PAYMENT_METHOD_GENERATED,this.onExternalNonceReceived),this.bus.on(r.events.PAYMENT_METHOD_CANCELLED,this.clearExternalNonce)},y.prototype.handleSubmit=function(g){var v;if(g.preventDefault?g.preventDefault():g.returnValue=!1,!this.isCreditCardForm){this.onNonceReceived(null,this.model.attributes);return}if(v=this.model.get("type"),v&&v!=="CreditCard"){o.scrubAllAttributes(this.htmlForm),this.onNonceReceived(null,this.model.attributes);return}this.apiClient.tokenizeCard(o.extractValues(this.htmlForm),s.bind(function(S,_,w){S?this.onNonceReceived(b,null):(this.model.set({nonce:_,type:w.type,details:w.details}),this.onNonceReceived(null,this.model.attributes))},this))},y.prototype.writeNonceToDOM=function(){this.paymentMethodNonceInput.value=this.model.get("nonce")},y.prototype.onExternalNonceReceived=function(g){this.model.set(g),this.writeNonceToDOM()},y.prototype.clearExternalNonce=function(){this.model.reset()},y.prototype.onNonceReceived=function(g){var v=this.htmlForm;if(g){this.bus.emit(r.events.ERROR,b);return}s.removeEventListener(v,"submit",this.onSubmitHandler),this.writeNonceToDOM(),v.submit&&(typeof v.submit=="function"||v.submit.call)?v.submit():setTimeout(function(){v.querySelector('[type="submit"]').click()},1)},y.prototype.teardown=function(){this.destructor.teardown()},n.exports=y}).call(this,typeof z.g!="undefined"?z.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./fields":240,"./get-nonce-input":242,"./models/payment-method-model":243,"braintree-bus":246,"braintree-utilities":258,destructor:259}],242:[function(t,n,e){"use strict";n.exports=c(function(s){var o;if(typeof s=="object")return s;o="payment_method_nonce",typeof s=="string"&&(o=s);var i=document.createElement("input");return i.name=o,i.type="hidden",i},"getNonceInput")},{}],243:[function(t,n,e){"use strict";function d(){this.reset()}c(d,"PaymentMethodModel"),d.prototype.get=function(s){return this.attributes[s]},d.prototype.set=function(s){this.attributes=s||{}},d.prototype.reset=function(){this.attributes={}},n.exports=d},{}],244:[function(t,n,e){"use strict";n.exports=c(function(s){for(var o=s.getElementsByTagName("*"),i={},r=0;r<o.length;r++){var u=o[r].getAttribute("data-braintree-name");i[u]=!0}if(!i.number)throw new Error('Unable to find an input with data-braintree-name="number" in your form. Please add one.');if(i.expiration_date){if(i.expiration_month||i.expiration_year)throw new Error('You have inputs with data-braintree-name="expiration_date" AND data-braintree-name="expiration_(year|month)". Please use either "expiration_date" or "expiration_year" and "expiration_month".')}else{if(!i.expiration_month&&!i.expiration_year)throw new Error('Unable to find an input with data-braintree-name="expiration_date" in your form. Please add one.');if(!i.expiration_month)throw new Error('Unable to find an input with data-braintree-name="expiration_month" in your form. Please add one.');if(!i.expiration_year)throw new Error('Unable to find an input with data-braintree-name="expiration_year" in your form. Please add one.')}},"validateAnnotations")},{}],245:[function(t,n,e){"use strict";var d=t("./lib/form"),s=t("./lib/validate-annotations");function o(i,r){var u=r.merchantConfiguration||{},f=document.getElementById(u.id),b=u.useCreditCard!==!1;if(!f)throw new Error('Unable to find form with id: "'+u.id+'"');return b&&s(f),new d(i,r)}c(o,"setup"),n.exports={setup:o}},{"./lib/form":241,"./lib/validate-annotations":244}],246:[function(t,n,e){arguments[4][52][0].apply(e,arguments)},{"./lib/check-origin":247,"./lib/events":248,dup:52,framebus:249}],247:[function(t,n,e){arguments[4][53][0].apply(e,arguments)},{dup:53}],248:[function(t,n,e){arguments[4][54][0].apply(e,arguments)},{dup:54}],249:[function(t,n,e){arguments[4][55][0].apply(e,arguments)},{dup:55}],250:[function(t,n,e){arguments[4][35][0].apply(e,arguments)},{dup:35}],251:[function(t,n,e){arguments[4][36][0].apply(e,arguments)},{dup:36}],252:[function(t,n,e){arguments[4][22][0].apply(e,arguments)},{dup:22}],253:[function(t,n,e){arguments[4][38][0].apply(e,arguments)},{dup:38}],254:[function(t,n,e){arguments[4][39][0].apply(e,arguments)},{dup:39}],255:[function(t,n,e){arguments[4][40][0].apply(e,arguments)},{dup:40}],256:[function(t,n,e){arguments[4][41][0].apply(e,arguments)},{"./array":250,dup:41}],257:[function(t,n,e){arguments[4][42][0].apply(e,arguments)},{dup:42}],258:[function(t,n,e){arguments[4][43][0].apply(e,arguments)},{"./lib/array":250,"./lib/base64":251,"./lib/dom":252,"./lib/events":253,"./lib/fn":254,"./lib/string":255,"./lib/url":256,"./lib/uuid":257,dup:43}],259:[function(t,n,e){arguments[4][80][0].apply(e,arguments)},{"batch-execute-functions":260,"braintree-utilities/lib/fn":261,dup:80}],260:[function(t,n,e){arguments[4][81][0].apply(e,arguments)},{dup:81}],261:[function(t,n,e){arguments[4][39][0].apply(e,arguments)},{dup:39}],262:[function(t,n,e){arguments[4][2][0].apply(e,arguments)},{"./coinbase-account":263,"./constants":264,"./credit-card":265,"./europe-bank-account":266,"./normalize-api-fields":268,"./parse-client-token":269,"./paypal-account":270,"./request/choose-driver":273,"./sepa-mandate":278,"./should-enable-cors":279,"./util":280,"braintree-3ds":289,"braintree-utilities":303,dup:2}],263:[function(t,n,e){arguments[4][3][0].apply(e,arguments)},{dup:3}],264:[function(t,n,e){arguments[4][4][0].apply(e,arguments)},{dup:4}],265:[function(t,n,e){arguments[4][5][0].apply(e,arguments)},{dup:5}],266:[function(t,n,e){arguments[4][6][0].apply(e,arguments)},{dup:6}],267:[function(t,n,e){arguments[4][7][0].apply(e,arguments)},{"./constants":264,"./parse-client-token":269,"./request/choose-driver":273,"./should-enable-cors":279,"./util":280,dup:7}],268:[function(t,n,e){arguments[4][8][0].apply(e,arguments)},{dup:8}],269:[function(t,n,e){arguments[4][9][0].apply(e,arguments)},{"./polyfill":271,"braintree-utilities":303,dup:9}],270:[function(t,n,e){arguments[4][10][0].apply(e,arguments)},{dup:10}],271:[function(t,n,e){arguments[4][11][0].apply(e,arguments)},{dup:11}],272:[function(t,n,e){arguments[4][12][0].apply(e,arguments)},{"../constants":264,"../util":280,"./parse-body":276,"./prep-body":277,dup:12}],273:[function(t,n,e){arguments[4][13][0].apply(e,arguments)},{"../util":280,"./ajax-driver":272,"./jsonp-driver":274,dup:13}],274:[function(t,n,e){arguments[4][14][0].apply(e,arguments)},{"../constants":264,"./jsonp":275,dup:14}],275:[function(t,n,e){arguments[4][15][0].apply(e,arguments)},{"../util":280,dup:15}],276:[function(t,n,e){arguments[4][16][0].apply(e,arguments)},{dup:16}],277:[function(t,n,e){arguments[4][17][0].apply(e,arguments)},{dup:17,"lodash.isstring":311}],278:[function(t,n,e){arguments[4][18][0].apply(e,arguments)},{dup:18}],279:[function(t,n,e){arguments[4][19][0].apply(e,arguments)},{dup:19}],280:[function(t,n,e){arguments[4][20][0].apply(e,arguments)},{dup:20,"lodash.isempty":304,"lodash.isobject":310}],281:[function(t,n,e){arguments[4][21][0].apply(e,arguments)},{"./lib/client":262,"./lib/get-configuration":267,"./lib/parse-client-token":269,"./lib/util":280,dup:21}],282:[function(t,n,e){arguments[4][22][0].apply(e,arguments)},{dup:22}],283:[function(t,n,e){arguments[4][23][0].apply(e,arguments)},{dup:23}],284:[function(t,n,e){arguments[4][24][0].apply(e,arguments)},{dup:24}],285:[function(t,n,e){arguments[4][25][0].apply(e,arguments)},{dup:25}],286:[function(t,n,e){arguments[4][26][0].apply(e,arguments)},{"./lib/dom":282,"./lib/events":283,"./lib/fn":284,"./lib/url":285,dup:26}],287:[function(t,n,e){arguments[4][27][0].apply(e,arguments)},{"../shared/receiver":294,"braintree-utilities":286,dup:27}],288:[function(t,n,e){arguments[4][28][0].apply(e,arguments)},{"./authorization_service":287,"./loader":290,"braintree-utilities":286,dup:28}],289:[function(t,n,e){arguments[4][29][0].apply(e,arguments)},{"./client":288,dup:29}],290:[function(t,n,e){arguments[4][30][0].apply(e,arguments)},{"./loader_display":291,"./loader_message":292,"./loader_spinner":293,dup:30}],291:[function(t,n,e){arguments[4][31][0].apply(e,arguments)},{dup:31}],292:[function(t,n,e){arguments[4][32][0].apply(e,arguments)},{dup:32}],293:[function(t,n,e){arguments[4][33][0].apply(e,arguments)},{dup:33}],294:[function(t,n,e){arguments[4][34][0].apply(e,arguments)},{"braintree-utilities":286,dup:34}],295:[function(t,n,e){arguments[4][35][0].apply(e,arguments)},{dup:35}],296:[function(t,n,e){arguments[4][36][0].apply(e,arguments)},{dup:36}],297:[function(t,n,e){arguments[4][22][0].apply(e,arguments)},{dup:22}],298:[function(t,n,e){arguments[4][38][0].apply(e,arguments)},{dup:38}],299:[function(t,n,e){arguments[4][39][0].apply(e,arguments)},{dup:39}],300:[function(t,n,e){arguments[4][40][0].apply(e,arguments)},{dup:40}],301:[function(t,n,e){arguments[4][41][0].apply(e,arguments)},{"./array":295,dup:41}],302:[function(t,n,e){arguments[4][42][0].apply(e,arguments)},{dup:42}],303:[function(t,n,e){arguments[4][43][0].apply(e,arguments)},{"./lib/array":295,"./lib/base64":296,"./lib/dom":297,"./lib/events":298,"./lib/fn":299,"./lib/string":300,"./lib/url":301,"./lib/uuid":302,dup:43}],304:[function(t,n,e){arguments[4][44][0].apply(e,arguments)},{dup:44,"lodash.isarguments":305,"lodash.isarray":306,"lodash.isfunction":307,"lodash.isstring":311,"lodash.keys":308}],305:[function(t,n,e){arguments[4][45][0].apply(e,arguments)},{dup:45}],306:[function(t,n,e){arguments[4][46][0].apply(e,arguments)},{dup:46}],307:[function(t,n,e){arguments[4][47][0].apply(e,arguments)},{dup:47}],308:[function(t,n,e){arguments[4][48][0].apply(e,arguments)},{dup:48,"lodash._getnative":309,"lodash.isarguments":305,"lodash.isarray":306}],309:[function(t,n,e){arguments[4][49][0].apply(e,arguments)},{dup:49}],310:[function(t,n,e){arguments[4][50][0].apply(e,arguments)},{dup:50}],311:[function(t,n,e){arguments[4][51][0].apply(e,arguments)},{dup:51}],312:[function(t,n,e){arguments[4][52][0].apply(e,arguments)},{"./lib/check-origin":313,"./lib/events":314,dup:52,framebus:315}],313:[function(t,n,e){arguments[4][53][0].apply(e,arguments)},{dup:53}],314:[function(t,n,e){arguments[4][54][0].apply(e,arguments)},{dup:54}],315:[function(t,n,e){arguments[4][55][0].apply(e,arguments)},{dup:55}],316:[function(t,n,e){arguments[4][35][0].apply(e,arguments)},{dup:35}],317:[function(t,n,e){arguments[4][36][0].apply(e,arguments)},{dup:36}],318:[function(t,n,e){arguments[4][22][0].apply(e,arguments)},{dup:22}],319:[function(t,n,e){arguments[4][38][0].apply(e,arguments)},{dup:38}],320:[function(t,n,e){arguments[4][39][0].apply(e,arguments)},{dup:39}],321:[function(t,n,e){arguments[4][40][0].apply(e,arguments)},{dup:40}],322:[function(t,n,e){arguments[4][41][0].apply(e,arguments)},{"./array":316,dup:41}],323:[function(t,n,e){arguments[4][42][0].apply(e,arguments)},{dup:42}],324:[function(t,n,e){arguments[4][43][0].apply(e,arguments)},{"./lib/array":316,"./lib/base64":317,"./lib/dom":318,"./lib/events":319,"./lib/fn":320,"./lib/string":321,"./lib/url":322,"./lib/uuid":323,dup:43}],325:[function(t,n,e){arguments[4][80][0].apply(e,arguments)},{"batch-execute-functions":326,"braintree-utilities/lib/fn":327,dup:80}],326:[function(t,n,e){arguments[4][81][0].apply(e,arguments)},{dup:81}],327:[function(t,n,e){arguments[4][39][0].apply(e,arguments)},{dup:39}],328:[function(t,n,e){arguments[4][83][0].apply(e,arguments)},{"./lib/default-attributes":329,dup:83,"lodash.assign":330,"lodash.isstring":341,setattributes:342}],329:[function(t,n,e){arguments[4][84][0].apply(e,arguments)},{dup:84}],330:[function(t,n,e){arguments[4][85][0].apply(e,arguments)},{dup:85,"lodash._baseassign":331,"lodash._createassigner":333,"lodash.keys":337}],331:[function(t,n,e){arguments[4][86][0].apply(e,arguments)},{dup:86,"lodash._basecopy":332,"lodash.keys":337}],332:[function(t,n,e){arguments[4][87][0].apply(e,arguments)},{dup:87}],333:[function(t,n,e){arguments[4][88][0].apply(e,arguments)},{dup:88,"lodash._bindcallback":334,"lodash._isiterateecall":335,"lodash.restparam":336}],334:[function(t,n,e){arguments[4][89][0].apply(e,arguments)},{dup:89}],335:[function(t,n,e){arguments[4][90][0].apply(e,arguments)},{dup:90}],336:[function(t,n,e){arguments[4][91][0].apply(e,arguments)},{dup:91}],337:[function(t,n,e){arguments[4][48][0].apply(e,arguments)},{dup:48,"lodash._getnative":338,"lodash.isarguments":339,"lodash.isarray":340}],338:[function(t,n,e){arguments[4][49][0].apply(e,arguments)},{dup:49}],339:[function(t,n,e){arguments[4][45][0].apply(e,arguments)},{dup:45}],340:[function(t,n,e){arguments[4][46][0].apply(e,arguments)},{dup:46}],341:[function(t,n,e){arguments[4][51][0].apply(e,arguments)},{dup:51}],342:[function(t,n,e){arguments[4][97][0].apply(e,arguments)},{dup:97}],343:[function(t,n,e){(function(d){"use strict";var s=t("braintree-utilities"),o=t("destructor"),i=t("braintree-bus"),r=t("./views/app-view"),u=t("./views/logged-in-view"),f=t("./views/logged-out-view"),b=t("./views/overlay-view"),y=t("./views/merchant-page-view"),g=t("./views/payment-method-nonce-input-field-view"),v=t("./views/bridge-iframe-view"),S=t("../shared/util/browser"),_=t("../shared/constants"),w=t("../shared/util/util");function O(R,C,E){C=C||{},this._clientToken=R,this._clientOptions=C,this._clientToken.correlationId=w.generateUid(),this.destructor=new o,this.channel=E,this.bus=new i({merchantUrl:d.location.href,channel:this.channel}),this.container=s.normalizeElement(C.container),this.paymentMethodNonceInputField=C.paymentMethodNonceInputField,this.insertFrameFunction=C.insertFrame,this.onSuccess=C.onSuccess,this.onCancelled=C.onCancelled,this.loggedInView=null,this.loggedOutView=null,this.appView=null,this.merchantPageView=null,this.paymentMethodNonceInputFieldView=null,this.overlayView=null,this.bridgeIframeView=null,this.insertUI=C.headless!==!0}c(O,"Client"),O.prototype.initialize=function(){var R=s.bind(this._handleClickLogin,this);this._createViews(),this.bus.on(_.events.GET_CLIENT_TOKEN,s.bind(this._handleGetClientToken,this)),this.bus.on(_.events.GET_CLIENT_OPTIONS,s.bind(this._handleGetClientOptions,this)),this.insertUI&&this.bus.on(i.events.PAYMENT_METHOD_GENERATED,s.bind(this._handlePaymentMethodGenerated,this)),s.addEventListener(document.body,"click",R),this.destructor.registerFunctionForTeardown(function(){s.removeEventListener(document.body,"click",R)})},O.prototype._createViews=function(){var R,C=[];S.isBridgeIframeRequired()&&(this.bridgeIframeView=new v({container:this.container,paypalAssetsUrl:this._clientToken.paypal.assetsUrl,channel:this.channel}),C.push(this.bridgeIframeView)),this.appView=new r({insertFrameFunction:this.insertFrameFunction,paypalAssetsUrl:this._clientToken.paypal.assetsUrl,isHermes:w.isHermesConfiguration(this._clientToken,this._clientOptions),headless:this._clientOptions.headless,channel:this.channel}),C.push(this.appView),this.insertUI&&(this.paymentMethodNonceInputFieldView=new g({container:this.container,el:this.paymentMethodNonceInputField,channel:this.channel}),C.push(this.paymentMethodNonceInputFieldView),this.merchantPageView=new y({channel:this.channel}),C.push(this.merchantPageView),this.loggedInView=new u({paypalAssetsUrl:this._clientToken.paypal.assetsUrl,container:this.container,channel:this.channel}),C.push(this.loggedInView),this.loggedOutView=new f({paypalAssetsUrl:this._clientToken.paypal.assetsUrl,container:this.container,enablePayPalButton:w.isOneTimeHermesConfiguration(this._clientOptions),locale:this._clientOptions.locale,channel:this.channel}),C.push(this.loggedOutView),S.isPopupSupported()&&S.isOverlaySupported()&&(this.overlayView=new b({paypalAssetsUrl:this._clientToken.paypal.assetsUrl,onFocus:s.bind(function(){this.bus.emit(_.events.FOCUS_APP)},this),onClose:s.bind(function(){this.bus.emit(_.events.CLOSE_APP)},this),channel:this.channel}),C.push(this.overlayView))),this.destructor.registerFunctionForTeardown(function(){for(R=0;R<C.length;R++)C[R].teardown()})},O.prototype._handleClickLogin=function(R){for(var C=R.target||R.srcElement;;){if(C==null||C===R.currentTarget)return;if(this._isButton(C))break;C=C.parentNode}w.preventDefault(R),this.launch()},O.prototype.launch=function(){this.appView.open()},O.prototype._isButton=function(R){var C=R.id==="braintree-paypal-button",E=w.isOneTimeHermesConfiguration(this._clientOptions)&&R.className.match(/paypal-button(?!-widget)/);return C||E},O.prototype._handlePaymentMethodGenerated=function(R){R.type===_.NONCE_TYPE&&s.isFunction(this.onSuccess)&&this.onSuccess(R)},O.prototype._clientTokenData=function(){return{analyticsUrl:this._clientToken.analytics?this._clientToken.analytics.url:null,authorizationFingerprint:this._clientToken.authorizationFingerprint,clientApiUrl:this._clientToken.clientApiUrl,displayName:this._clientOptions.displayName||this._clientToken.paypal.displayName,paypalAssetsUrl:this._clientToken.paypal.assetsUrl,paypalClientId:this._clientToken.paypal.clientId,paypalPrivacyUrl:this._clientToken.paypal.privacyUrl,paypalUserAgreementUrl:this._clientToken.paypal.userAgreementUrl,billingAgreementsEnabled:this._clientToken.paypal.billingAgreementsEnabled,unvettedMerchant:this._clientToken.paypal.unvettedMerchant,payeeEmail:this._clientToken.paypal.payeeEmail,correlationId:this._clientToken.correlationId,offline:this._clientOptions.offline||this._clientToken.paypal.environmentNoNetwork,sdkVersion:this._clientToken.sdkVersion,merchantAppId:this._clientToken.merchantAppId}},O.prototype._handleGetClientToken=function(R){R(this._clientTokenData())},O.prototype._clientOptionsData=function(){return{locale:this._clientOptions.locale||"en_us",onetime:this._clientOptions.singleUse||!1,integration:this._clientOptions.integration||"paypal",enableShippingAddress:this._clientOptions.enableShippingAddress||!1,enableBillingAddress:this._clientOptions.enableBillingAddress||!1,enableHermes:w.isHermesConfiguration(this._clientToken,this._clientOptions),amount:this._clientOptions.amount||null,currency:this._clientOptions.currency||null,shippingAddressOverride:this._clientOptions.shippingAddressOverride||null,enableCORS:this._clientOptions.enableCORS}},O.prototype._handleGetClientOptions=function(R){R(this._clientOptionsData())},O.prototype.teardown=function(){this.destructor.teardown(s.bind(function(){this.bus.teardown()},this))},n.exports=O}).call(this,typeof z.g!="undefined"?z.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../shared/constants":354,"../shared/util/browser":361,"../shared/util/util":363,"./views/app-view":345,"./views/bridge-iframe-view":346,"./views/logged-in-view":347,"./views/logged-out-view":348,"./views/merchant-page-view":349,"./views/overlay-view":351,"./views/payment-method-nonce-input-field-view":352,"braintree-bus":312,"braintree-utilities":324,destructor:325}],344:[function(t,n,e){"use strict";var d=t("./client"),s=t("../shared/util/browser"),o=t("../shared/constants"),i=t("../shared/get-locale"),r=t("../shared/util/util").isHermesConfiguration,u=t("../shared/util/util").isOneTimeHermesConfiguration,f="1.6.1",b=t("braintree-utilities"),y=t("braintree-api");function g(C,E,I){var M,F;if(E=E||{},F=E.onUnsupported,typeof F!="function"&&(F=c(function(T){try{console.log(T)}catch{}},"onUnsupported")),!C)return F(new Error('Parameter "clientToken" cannot be null')),null;if(C=y.parseClientToken(C),!C.paypalEnabled)return F(new Error("PayPal is not enabled")),null;if(!s.detectedPostMessage())return F(new Error("unsupported browser detected")),null;if(!E.container)return F(new Error("Please supply a container for the PayPal button to be appended to")),null;if(!R(C,E))return F(new Error("unsupported protocol detected")),null;if(O(C,E))return F(new Error("Unvetted merchant client token does not include a payee email")),null;if(r(C,E)&&!_(E.locale))return F(new Error("This PayPal integration does not support this country")),null;if(u(E)){if(!S(E.currency))return F(new Error("This PayPal integration does not support this currency")),null;if(!w(E.amount))return F(new Error("Amount must be a number")),null}return M=new d(C,E,I),M.initialize(),M}c(g,"create");function v(C,E){var I,M=E.length,F=!1;for(I=0;I<M;I++)C.toLowerCase()===E[I].toLowerCase()&&(F=!0);return F}c(v,"isSupportedOption");function S(C){return v(C,o.HERMES_SUPPORTED_CURRENCIES)}c(S,"isHermesSupportedCurrency");function _(C){return v(i(C).split("_")[1],o.HERMES_SUPPORTED_COUNTRIES)}c(_,"isHermesSupportedCountry");function w(C){return C=parseFloat(C),typeof C=="number"&&!isNaN(C)&&C>=0}c(w,"isValidAmount");function O(C,E){return C.paypal.unvettedMerchant&&(!r(C,E)||!C.paypal.payeeEmail)}c(O,"isMisconfiguredUnvettedMerchant");function R(C,E){return C.paypal.allowHttp||s.isPopupSupported()?!0:"merchantHttps"in E?E.merchantHttps:b.isBrowserHttps()}c(R,"isBrowserSecure"),n.exports={create:g,VERSION:f}},{"../shared/constants":354,"../shared/get-locale":356,"../shared/util/browser":361,"../shared/util/util":363,"./client":343,"braintree-api":281,"braintree-utilities":324}],345:[function(t,n,e){arguments[4][183][0].apply(e,arguments)},{"../../shared/constants":354,"../../shared/util/browser":361,"./modal-view":350,"./popup-view":353,"braintree-bus":312,"braintree-utilities":324,destructor:325,dup:183}],346:[function(t,n,e){"use strict";var d=t("../../shared/constants"),s=t("iframer");function o(i){this.options=i||{},this.el=s({src:this._buildUrl(),name:d.BRIDGE_FRAME_NAME,height:1,width:1,style:{position:"static",top:0,left:0,bottom:0,padding:0,margin:0,border:0,outline:"none",background:"transparent"}}),this.options.container.appendChild(this.el)}c(o,"BridgeIframeView"),o.prototype._buildUrl=function(){var i=this.options.paypalAssetsUrl;return i+="/pwpp/",i+=d.VERSION,i+="/html/bridge-frame.html",i+="#"+this.options.channel,i},o.prototype.teardown=function(){this.options.container.removeChild(this.el)},n.exports=o},{"../../shared/constants":354,iframer:328}],347:[function(t,n,e){(function(d){"use strict";var s=t("braintree-utilities"),o=t("destructor"),i=t("braintree-bus"),r=t("../../shared/util/util"),u=t("../../shared/util/dom"),f=t("../../shared/constants");function b(y){this.options=y||{},this.wrapper=this.options.container||document.body,this.destructor=new o,this.bus=new i({merchantUrl:d.location.href,channel:y.channel}),this._initialize()}c(b,"LoggedInView"),b.prototype._initialize=function(){var y=s.bind(this._handleClickLogout,this);this._createViewContainer(),this._createPayPalName(),this._createEmailNode(),this._createLogoutNode(),s.addEventListener(this.logoutNode,"click",y),this.destructor.registerFunctionForTeardown(s.bind(function(){s.removeEventListener(this.logoutNode,"click",y)},this)),this.bus.on(i.events.PAYMENT_METHOD_GENERATED,s.bind(this._handlePaymentMethodGenerated,this)),this.bus.on(i.events.PAYMENT_METHOD_CANCELLED,s.bind(this._handlePaymentMethodCancelled,this))},b.prototype._createViewContainer=function(){var y=["display: none","max-width: 500px","overflow: hidden","padding: 16px","background-image: url("+this.options.paypalAssetsUrl+"/pwpp/"+f.VERSION+"/images/paypal-small.png)","background-image: url("+this.options.paypalAssetsUrl+"/pwpp/"+f.VERSION+"/images/paypal-small.svg), none","background-position: 20px 50%","background-repeat: no-repeat","background-size: 13px 15px","border-top: 1px solid #d1d4d6","border-bottom: 1px solid #d1d4d6"].join(";");this.container=document.createElement("div"),this.container.id="braintree-paypal-loggedin",this.container.classList.add("braintree-paypal-loggedin"),this.container.style.cssText=y,this.wrapper.appendChild(this.container)},b.prototype._createPayPalName=function(){var y=["color: #283036","font-size: 13px","font-weight: 800",'font-family: "Helvetica Neue", Helvetica, Arial, sans-serif',"margin-left: 36px","-webkit-font-smoothing: antialiased","-moz-font-smoothing: antialiased","-ms-font-smoothing: antialiased","font-smoothing: antialiased"].join(";");return this.payPalName=document.createElement("span"),this.payPalName.id="bt-pp-name",this.payPalName.classList.add("bt-pp-name"),this.payPalName.innerHTML="PayPal",this.payPalName.style.cssText=y,this.container.appendChild(this.payPalName)},b.prototype._createEmailNode=function(){var y=["color: #6e787f","font-size: 13px",'font-family: "Helvetica Neue", Helvetica, Arial, sans-serif',"margin-left: 5px","-webkit-font-smoothing: antialiased","-moz-font-smoothing: antialiased","-ms-font-smoothing: antialiased","font-smoothing: antialiased"].join(";");this.emailNode=document.createElement("span"),this.emailNode.id="bt-pp-email",this.emailNode.classList.add("bt-pp-email"),this.emailNode.style.cssText=y,this.container.appendChild(this.emailNode)},b.prototype._createLogoutNode=function(){var y=["color: #3d95ce","font-size: 11px",'font-family: "Helvetica Neue", Helvetica, Arial, sans-serif',"line-height: 20px","margin: 0 0 0 25px","padding: 0","background-color: transparent","border: 0","cursor: pointer","text-decoration: underline","float: right","-webkit-font-smoothing: antialiased","-moz-font-smoothing: antialiased","-ms-font-smoothing: antialiased","font-smoothing: antialiased"].join(";");this.logoutNode=document.createElement("button"),this.logoutNode.id="bt-pp-cancel",this.logoutNode.classList.add("bt-pp-cancel"),this.logoutNode.innerHTML="Cancel",this.logoutNode.style.cssText=y,this.container.appendChild(this.logoutNode)},b.prototype.show=function(y){this.container.style.display="block",u.setTextContent(this.emailNode,y)},b.prototype.hide=function(){this.container.style.display="none"},b.prototype._handleClickLogout=function(y){r.preventDefault(y),this.bus.emit(i.events.PAYMENT_METHOD_CANCELLED,{source:f.PAYPAL_INTEGRATION_NAME})},b.prototype._handlePaymentMethodGenerated=function(y){var g;y.type===f.NONCE_TYPE&&(g=y&&y.details&&y.details.email?y.details.email:"",this.show(g))},b.prototype._handlePaymentMethodCancelled=function(y){y.source===f.PAYPAL_INTEGRATION_NAME&&this.hide()},b.prototype.teardown=function(){this.wrapper.removeChild(this.container),this.destructor.teardown(),this.bus.teardown()},n.exports=b}).call(this,typeof z.g!="undefined"?z.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../../shared/constants":354,"../../shared/util/dom":362,"../../shared/util/util":363,"braintree-bus":312,"braintree-utilities":324,destructor:325}],348:[function(t,n,e){(function(d){"use strict";var s=t("braintree-utilities"),o=t("braintree-bus"),i=t("../../shared/constants"),r=t("../../shared/get-locale");function u(f){this.options=f,this.wrapper=this.options.container||document.body,this.bus=new o({merchantUrl:d.location.href,channel:f.channel}),this._initialize()}c(u,"LoggedOutView"),u.prototype._initialize=function(){this.createViewContainer(),this.options.enablePayPalButton?this.createCheckoutWithPayPalButton():this.createPayWithPayPalButton(),this.bus.on(o.events.PAYMENT_METHOD_GENERATED,s.bind(this._handlePaymentMethodGenerated,this)),this.bus.on(o.events.PAYMENT_METHOD_CANCELLED,s.bind(this._handlePaymentMethodCancelled,this))},u.prototype.createViewContainer=function(){this.container=document.createElement("div"),this.container.id="braintree-paypal-loggedout",this.wrapper.appendChild(this.container),this.loginNode=this.container},u.prototype.createPayWithPayPalButton=function(){var f=document.createElement("a"),b=new Image,y=["max-width: 100%","display: block","width: 100%","height: 100%","outline: none","border: 0"].join(";"),g=["display: block","width: 115px","height: 44px","overflow: hidden"].join(";");f.id="braintree-paypal-button",f.href="#",f.style.cssText=g,b.src=this.options.paypalAssetsUrl+"/pwpp/"+i.VERSION+"/images/pay-with-paypal.png",b.setAttribute("alt","Pay with PayPal"),b.style.cssText=y,f.appendChild(b),this.container.appendChild(f)},u.prototype.createCheckoutWithPayPalButton=function(){var f=document.createElement("script"),b,y={"data-merchant":"merchant-id","data-button":"checkout","data-type":"button","data-color":"blue","data-lc":r(this.options.locale)};f.src="//www.paypalobjects.com/api/button.js",f.async=!0;for(b in y)y.hasOwnProperty(b)&&f.setAttribute(b,y[b]);this.container.appendChild(f)},u.prototype.show=function(){this.container.style.display="block"},u.prototype.hide=function(){this.container.style.display="none"},u.prototype._handlePaymentMethodGenerated=function(f){f.type===i.NONCE_TYPE&&this.hide()},u.prototype._handlePaymentMethodCancelled=function(f){f.source===i.PAYPAL_INTEGRATION_NAME&&this.show()},u.prototype.teardown=function(){this.wrapper.removeChild(this.container),this.bus.teardown()},n.exports=u}).call(this,typeof z.g!="undefined"?z.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../../shared/constants":354,"../../shared/get-locale":356,"braintree-bus":312,"braintree-utilities":324}],349:[function(t,n,e){(function(d){"use strict";var s=t("braintree-bus"),o=t("braintree-utilities"),i=t("../../shared/constants");function r(b){this.options=b,this.bus=new s({merchantUrl:d.location.href,channel:b.channel}),this.bus.on(i.events.UI_MODAL_DID_OPEN,o.bind(this.lockWindowSize,this)),this.bus.on(i.events.UI_MODAL_DID_CLOSE,o.bind(this.unlockWindowSize,this))}c(r,"MerchantPageView"),r.prototype.lockWindowSize=function(){this.defaultStyles=f(),document.documentElement.style.height="100%",document.documentElement.style.overflow="hidden",document.body.style.height="100%",document.body.style.overflow="hidden"},r.prototype.unlockWindowSize=function(){this.defaultStyles&&(document.documentElement.style.height=this.defaultStyles.html.styles.height,document.documentElement.style.overflow=this.defaultStyles.html.styles.overflow,document.body.style.height=this.defaultStyles.body.styles.height,document.body.style.overflow=this.defaultStyles.body.styles.overflow,delete this.defaultStyles)},r.prototype._handleUIModalDidOpen=function(b){b.source===i.PAYPAL_INTEGRATION_NAME&&this.lockWindowSize()},r.prototype._handleUIModalDidClose=function(b){b.source===i.PAYPAL_INTEGRATION_NAME&&this.unlockWindowSize()},r.prototype.teardown=function(){this.unlockWindowSize(),this.bus.teardown()};function u(b){var y=window.getComputedStyle?getComputedStyle(b):b.currentStyle;return{overflow:y.overflow||"",height:b.style.height||""}}c(u,"getStyles");function f(){return{html:{node:document.documentElement,styles:u(document.documentElement)},body:{node:document.body,styles:u(document.body)}}}c(f,"getMerchantPageDefaultStyles"),n.exports=r}).call(this,typeof z.g!="undefined"?z.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../../shared/constants":354,"braintree-bus":312,"braintree-utilities":324}],350:[function(t,n,e){arguments[4][184][0].apply(e,arguments)},{"../../shared/constants":354,"../../shared/util/browser":361,"braintree-bus":312,"braintree-utilities":324,dup:184,iframer:328}],351:[function(t,n,e){(function(d){"use strict";var s=t("braintree-utilities"),o=t("destructor"),i=t("braintree-bus"),r=t("../../shared/constants");function u(f){this.options=f,this.spriteSrc=this.options.paypalAssetsUrl+"/pwpp/"+r.VERSION+"/images/pp_overlay_sprite.png",this.bus=new i({merchantUrl:d.location.href,channel:f.channel}),this.destructor=new o,this._create(),this._setupEvents(),this.bus.on(i.events.UI_POPUP_DID_OPEN,s.bind(this._handleUIPopupDidOpen,this)),this.bus.on(i.events.UI_POPUP_DID_CLOSE,s.bind(this._handleUIPopupDidClose,this))}c(u,"OverlayView"),u.prototype.open=function(){document.body.contains(this.el)||document.body.appendChild(this.el)},u.prototype.close=function(){document.body.contains(this.el)&&document.body.removeChild(this.el)},u.prototype._handleUIPopupDidClose=function(f){f.source===r.PAYPAL_INTEGRATION_NAME&&this.close()},u.prototype._handleUIPopupDidOpen=function(f){f.source===r.PAYPAL_INTEGRATION_NAME&&this.open()},u.prototype._create=function(){this.el=document.createElement("div"),this.el.className="bt-overlay",this._setStyles(this.el,["z-index: 20001","position: fixed","top: 0","left: 0","height: 100%","width: 100%","text-align: center","background: #000","background: rgba(0,0,0,0.7)",'-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=52)"']),this.el.appendChild(this._createCloseIcon()),this.el.appendChild(this._createMessage())},u.prototype._createCloseIcon=function(){return this.closeIcon=document.createElement("div"),this.closeIcon.className="bt-close-overlay",this._setStyles(this.closeIcon,["position: absolute","top: 10px","right: 10px","cursor: pointer","background: url("+this.spriteSrc+") no-repeat 0 -67px","height: 14px","width: 14px"]),this.closeIcon},u.prototype._createMessage=function(){var f=document.createElement("div");return this._setStyles(f,["position: relative","top: 50%","max-width: 350px",'font-family: "HelveticaNeue", "HelveticaNeue-Light", "Helvetica Neue Light", helvetica, arial, sans-serif',"font-size: 14px","line-height: 20px","margin: -70px auto 0"]),f.appendChild(this._createLogo()),f.appendChild(this._createExplanation()),f.appendChild(this._createFocusLink()),f},u.prototype._createExplanation=function(){var f=document.createElement("div");return this._setStyles(f,["color: #FFF","margin-bottom: 20px"]),f.innerHTML="Don't see the secure PayPal browser? We'll help you re-launch the window to complete your purchase.",f},u.prototype._createLogo=function(){var f=document.createElement("div");return this._setStyles(f,["background: url("+this.spriteSrc+") no-repeat 0 0","width: 94px","height: 25px","margin: 0 auto 26px auto"]),f},u.prototype._createFocusLink=function(){return this.focusLink=document.createElement("a"),this._setStyles(this.focusLink,["color: #009be1","cursor: pointer"]),this.focusLink.innerHTML="Continue",this.focusLink},u.prototype._setStyles=function(f,b){var y=b.join(";");f.style.cssText=y},u.prototype._setupEvents=function(){var f=s.bind(this._handleClose,this),b=s.bind(this._handleFocus,this);s.addEventListener(this.closeIcon,"click",f),s.addEventListener(this.focusLink,"click",b),this.destructor.registerFunctionForTeardown(s.bind(function(){s.removeEventListener(this.closeIcon,"click",f),s.removeEventListener(this.focusLink,"click",b)},this))},u.prototype._handleClose=function(f){f.preventDefault(),this.close(),s.isFunction(this.options.onClose)&&this.options.onClose()},u.prototype._handleFocus=function(f){f.preventDefault(),s.isFunction(this.options.onFocus)&&this.options.onFocus()},u.prototype.teardown=function(){this.bus.teardown(),this.destructor.teardown(),this.close()},n.exports=u}).call(this,typeof z.g!="undefined"?z.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../../shared/constants":354,"braintree-bus":312,"braintree-utilities":324,destructor:325}],352:[function(t,n,e){(function(d){"use strict";var s=t("braintree-utilities"),o=t("destructor"),i=t("braintree-bus"),r=t("../../shared/constants");function u(f){this.options=f||{},this.container=this.options.container||document.body,this.el=this.options.el,this.destructor=new o,this.bus=new i({merchantUrl:d.location.href,channel:f.channel}),this._initialize()}c(u,"PaymentMethodNonceInputFieldView"),u.prototype._initialize=function(){s.isFunction(this.el)||(this.el!=null?(this.el=s.normalizeElement(this.el),this.destructor.registerFunctionForTeardown(s.bind(function(){this.clear()},this))):this.el=this.create()),this.bus.on(i.events.PAYMENT_METHOD_GENERATED,s.bind(this._handlePaymentMethodGenerated,this)),this.bus.on(i.events.PAYMENT_METHOD_CANCELLED,s.bind(this._handlePaymentMethodCancelled,this))},u.prototype.create=function(){var f=document.createElement("input");return f.name="payment_method_nonce",f.type="hidden",this.container.appendChild(f),this.destructor.registerFunctionForTeardown(s.bind(function(){this.container.removeChild(f)},this)),f},u.prototype.value=function(f){s.isFunction(this.el)?this.el(f):this.el.value=f},u.prototype.clear=function(){this.value("")},u.prototype._handlePaymentMethodCancelled=function(f){f.source===r.PAYPAL_INTEGRATION_NAME&&this.clear()},u.prototype._handlePaymentMethodGenerated=function(f){f.type===r.NONCE_TYPE&&this.value(f.nonce)},u.prototype.teardown=function(){this.destructor.teardown(),this.bus.teardown()},n.exports=u}).call(this,typeof z.g!="undefined"?z.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../../shared/constants":354,"braintree-bus":312,"braintree-utilities":324,destructor:325}],353:[function(t,n,e){arguments[4][185][0].apply(e,arguments)},{"../../shared/constants":354,"../../shared/useragent/browser":357,"braintree-bus":312,dup:185}],354:[function(t,n,e){arguments[4][186][0].apply(e,arguments)},{dup:186}],355:[function(t,n,e){"use strict";n.exports={us:"en_us",gb:"en_uk",uk:"en_uk",de:"de_de",fr:"fr_fr",it:"it_it",es:"es_es",ca:"en_ca",au:"en_au",at:"de_de",be:"en_us",ch:"de_de",dk:"da_dk",nl:"nl_nl",no:"no_no",pl:"pl_pl",se:"sv_se",tr:"tr_tr",bg:"en_us",cy:"en_us",hr:"en_us",is:"en_us",kh:"en_us",mt:"en_us",my:"en_us",ru:"ru_ru"}},{}],356:[function(t,n,e){"use strict";var d=t("../shared/data/country-code-lookup");function s(r){return r.indexOf("_")!==-1&&r.length===5}c(s,"isFormatted");function o(r){var u,f;for(u in d)d.hasOwnProperty(u)&&(u===r||d[u]===r)&&(f=d[u]);return f}c(o,"queryTable");function i(r){var u,f;return r=r?r.toLowerCase():"us",r=r.replace(/-/g,"_"),u=s(r)?r:o(r),u?(f=u.split("_"),[f[0],f[1].toUpperCase()].join("_")):"en_US"}c(i,"getLocale"),n.exports=i},{"../shared/data/country-code-lookup":355}],357:[function(t,n,e){arguments[4][187][0].apply(e,arguments)},{"./platform":359,"./useragent":360,dup:187}],358:[function(t,n,e){arguments[4][188][0].apply(e,arguments)},{"./platform":359,"./useragent":360,dup:188}],359:[function(t,n,e){arguments[4][189][0].apply(e,arguments)},{"./useragent":360,dup:189}],360:[function(t,n,e){arguments[4][190][0].apply(e,arguments)},{dup:190}],361:[function(t,n,e){arguments[4][191][0].apply(e,arguments)},{"../useragent/browser":357,"../useragent/device":358,"../useragent/platform":359,"../useragent/useragent":360,dup:191}],362:[function(t,n,e){"use strict";function d(s,o){var i="innerText";document&&document.body&&"textContent"in document.body&&(i="textContent"),s[i]=o}c(d,"setTextContent"),n.exports={setTextContent:d}},{}],363:[function(t,n,e){"use strict";var d=typeof String.prototype.trim=="function"?function(v){return v.trim()}:function(v){return v.replace(/^\s+|\s+$/,"")},s=typeof window.btoa=="function"?function(v){return window.btoa(v)}:function(v){for(var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_="",w,O,R,C,E,I,M,F=0;F<v.length;)w=v.charCodeAt(F++),O=v.charCodeAt(F++),R=v.charCodeAt(F++),C=w>>2,E=(w&3)<<4|O>>4,I=(O&15)<<2|R>>6,M=R&63,isNaN(O)?I=M=64:isNaN(R)&&(M=64),_=_+S.charAt(C)+S.charAt(E)+S.charAt(I)+S.charAt(M);return _};function o(){var v,S,_="";for(v=0;v<32;v++)S=Math.floor(Math.random()*16),_+=S.toString(16);return _}c(o,"generateUid");function i(v){return/^(true|1)$/i.test(v)}c(i,"castToBoolean");function r(v){return v.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&apos;")}c(r,"htmlEscape");function u(v){var S,_,w,O,R,C,E,I,M=v.indexOf("?"),F={};if(M>=0&&(v=v.substr(M+1)),v.length===0)return null;for(S=v.split("&"),_=0,w=S.length;_<w;_++)O=S[_],R=O.indexOf("="),C=O.substr(0,R),I=O.substr(R+1),E=decodeURIComponent(I),E=E.replace(/</g,"&lt;").replace(/>/g,"&gt;"),E==="false"&&(E=!1),(E==null||E==="true")&&(E=!0),F[C]=E;return F}c(u,"parseUrlParams");function f(v){v.preventDefault?v.preventDefault():v.returnValue=!1}c(f,"preventDefault");function b(v){return Boolean(v.singleUse)&&Boolean(v.amount)&&Boolean(v.currency)}c(b,"isOneTimeHermesConfiguration");function y(v){return Boolean(v.paypal.billingAgreementsEnabled)}c(y,"isBillingAgreementsHermesConfiguration");function g(v,S){return y(v)||b(S)}c(g,"isHermesConfiguration"),n.exports={trim:d,btoa:s,generateUid:o,castToBoolean:i,htmlEscape:r,parseUrlParams:u,preventDefault:f,isOneTimeHermesConfiguration:b,isBillingAgreementsHermesConfiguration:y,isHermesConfiguration:g}},{}],364:[function(t,n,e){arguments[4][35][0].apply(e,arguments)},{dup:35}],365:[function(t,n,e){arguments[4][36][0].apply(e,arguments)},{dup:36}],366:[function(t,n,e){arguments[4][22][0].apply(e,arguments)},{dup:22}],367:[function(t,n,e){arguments[4][38][0].apply(e,arguments)},{dup:38}],368:[function(t,n,e){arguments[4][39][0].apply(e,arguments)},{dup:39}],369:[function(t,n,e){arguments[4][40][0].apply(e,arguments)},{dup:40}],370:[function(t,n,e){arguments[4][41][0].apply(e,arguments)},{"./array":364,dup:41}],371:[function(t,n,e){arguments[4][42][0].apply(e,arguments)},{dup:42}],372:[function(t,n,e){arguments[4][43][0].apply(e,arguments)},{"./lib/array":364,"./lib/base64":365,"./lib/dom":366,"./lib/events":367,"./lib/fn":368,"./lib/string":369,"./lib/url":370,"./lib/uuid":371,dup:43}],373:[function(t,n,e){arguments[4][80][0].apply(e,arguments)},{"batch-execute-functions":374,"braintree-utilities/lib/fn":375,dup:80}],374:[function(t,n,e){arguments[4][81][0].apply(e,arguments)},{dup:81}],375:[function(t,n,e){arguments[4][39][0].apply(e,arguments)},{dup:39}],376:[function(t,n,e){(function(d){"use strict";function s(o){if((typeof o=="string"||o instanceof String)&&(o=document.getElementById(o)),o instanceof HTMLFormElement)this.htmlForm=o;else throw new TypeError("FormNapper requires an HTMLFormElement element or the id string of one.")}c(s,"FormNapper"),s.prototype.hijack=function(o){this.submitHandler||(this.submitHandler=function(i){i.preventDefault?i.preventDefault():i.returnValue=!1,o(i)},d.addEventListener!=null?this.htmlForm.addEventListener("submit",this.submitHandler,!1):d.attachEvent!=null?this.htmlForm.attachEvent("onsubmit",this.submitHandler):this.htmlForm.onsubmit=this.submitHandler)},s.prototype.inject=function(o,i){var r=this.htmlForm.querySelector('input[name="'+o+'"]');return r==null&&(r=document.createElement("input"),r.type="hidden",r.name=o,this.htmlForm.appendChild(r)),r.value=i,r},s.prototype.submit=function(){HTMLFormElement.prototype.submit.call(this.htmlForm)},s.prototype.detach=function(){!this.submitHandler||(d.removeEventListener!=null?this.htmlForm.removeEventListener("submit",this.submitHandler,!1):d.detachEvent!=null?this.htmlForm.detachEvent("onsubmit",this.submitHandler):this.htmlForm.onsubmit=null,delete this.submitHandler)},n.exports=s}).call(this,typeof z.g!="undefined"?z.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],377:[function(t,n,e){var d=t("./lib/external"),s=t("./lib/shared/constants").events,o="1.0.0";n.exports={create:function(i){return new d(i)},events:s,VERSION:o}},{"./lib/external":379,"./lib/shared/constants":381}],378:[function(t,n,e){var d=t("../shared/constants");n.exports=c(function(o,i){return o+"/hosted-fields/"+d.VERSION+"/hosted-fields-frame.html#"+i},"composeUrl")},{"../shared/constants":381}],379:[function(t,n,e){"use strict";var d=t("destructor"),s=t("classlist"),o=t("iframer"),i=t("braintree-bus"),r=t("./compose-url"),u=t("../shared/constants"),f=t("nodelist-to-array"),b=t("braintree-utilities"),y=t("../shared/find-parent-tags"),g=t("./should-use-label-focus"),v=u.events;function S(O,R){var C=document.createElement("div");return C.style.clear="both",R=R||document.body,R.appendChild(O),R.appendChild(C),{parent:R,children:[O,C]}}c(S,"injectFrame");function _(O,R){return function(C){var E=O[C.fieldKey].containerElement,I=s(E);C.target={fieldKey:C.fieldKey,container:E},I.toggle(u.externalClasses.FOCUSED,C.isFocused).toggle(u.externalClasses.VALID,C.isValid),C.isStrictlyValidating?I.toggle(u.externalClasses.INVALID,!C.isValid):I.toggle(u.externalClasses.INVALID,!C.isPotentiallyValid),delete C.fieldKey,delete C.isStrictlyValidating,R&&R(C)}}c(_,"inputEventHandler");function w(O){var R,C,E,I,M,F,T={},m=0;for(this.injectedNodes=[],this.destructor=new d,this.bus=new i({channel:O.channel,merchantUrl:location.href}),this.destructor.registerFunctionForTeardown(b.bind(function(){this.bus.teardown()},this)),this.bus.emit(i.events.ASYNC_DEPENDENCY_INITIALIZING),this.bus.emit(i.events.SEND_ANALYTICS_EVENTS,"hosted-fields.initialized"),M=0;M<u.whitelistedFields.length;M++)if(R=u.whitelistedFields[M],C=O.merchantConfiguration.hostedFields[R],!!C){if(E=document.querySelector(C.selector),E){if(E.querySelector('iframe[name^="braintree-"]')){this.bus.emit(i.events.ERROR,{message:'Cannot place two elements in "'+C.selector+'"'});continue}}else{F='Unable to find element with selector "'+C.selector+'" for hostedFields.'+R,this.bus.emit(i.events.ERROR,{message:F});continue}I=o({type:R,name:"braintree-hosted-field-"+R,style:u.defaultIFrameStyle}),this.injectedNodes.push(S(I,E)),this.setupLabelFocus(R,E),T[R]={frameElement:I,containerElement:E},m++,setTimeout(function(A){return function(){A.src=r(O.gatewayConfiguration.assetsUrl,O.channel)}}(I),0)}this.bus.on(v.FRAME_READY,function(A){m--,A(m===0)}),this.bus.on(v.INPUT_EVENT,_(T,O.merchantConfiguration.hostedFields.onFieldEvent)),this.destructor.registerFunctionForTeardown(b.bind(function(){var A,N,U;for(A=0;A<this.injectedNodes.length;A++){for(U=this.injectedNodes[A],N=0;N<U.children.length;N++)U.parent.removeChild(U.children[N]);s(U.parent).remove(u.externalClasses.FOCUSED,u.externalClasses.INVALID,u.externalClasses.VALID)}},this))}c(w,"HostedFieldsIntegration"),w.prototype.setupLabelFocus=function(O,R){var C,E,I=this.bus;if(!g()||R.id==null)return;function M(){I.emit(v.TRIGGER_INPUT_FOCUS,O)}for(c(M,"triggerFocus"),C=f(document.querySelectorAll('label[for="'+R.id+'"]')),C=C.concat(y(R,"label")),E=0;E<C.length;E++)b.addEventListener(C[E],"click",M,!1);this.destructor.registerFunctionForTeardown(function(){for(E=0;E<C.length;E++)b.removeEventListener(C[E],"click",M,!1)})},w.prototype.teardown=function(O){this.destructor.teardown(O)},n.exports=w},{"../shared/constants":381,"../shared/find-parent-tags":382,"./compose-url":378,"./should-use-label-focus":380,"braintree-bus":383,"braintree-utilities":395,classlist:396,destructor:399,iframer:402,"nodelist-to-array":417}],380:[function(t,n,e){"use strict";n.exports=c(function(){return!/(iPad|iPhone|iPod)/i.test(navigator.userAgent)},"shouldUseLabelFocus")},{}],381:[function(t,n,e){"use strict";var d="1.0.0";n.exports={VERSION:d,events:{FRAME_READY:"hosted-fields:FRAME_READY",VALIDATE_STRICT:"hosted-fields:VALIDATE_STRICT",CONFIGURATION:"hosted-fields:CONFIGURATION",TOKENIZATION_REQUEST:"hosted-fields:TOKENIZATION_REQUEST",INPUT_EVENT:"hosted-fields:INPUT_EVENT",TRIGGER_INPUT_FOCUS:"hosted-fields:TRIGGER_INPUT_FOCUS"},externalEvents:{FOCUS:"focus",BLUR:"blur",FIELD_STATE_CHANGE:"fieldStateChange"},defaultMaxLengths:{number:19,postalCode:8,expirationDate:7,expirationMonth:2,expirationYear:4,cvv:3},externalClasses:{FOCUSED:"braintree-hosted-fields-focused",INVALID:"braintree-hosted-fields-invalid",VALID:"braintree-hosted-fields-valid"},defaultIFrameStyle:{border:"none",width:"100%",height:"100%",float:"left"},whitelistedFields:["number","cvv","expirationDate","expirationMonth","expirationYear","postalCode"],whitelistedStyles:["-moz-osx-font-smoothing","-moz-transition","-webkit-font-smoothing","-webkit-transition","color","font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-weight","line-height","opacity","outline","text-shadow","transition"],passwordManagerFields:{number:{name:"credit-card-number",label:"Credit Card Number"},expirationDate:{name:"expiration",label:"Expiration Date"},postalCode:{name:"postal-code",label:"Postal Code"}}}},{}],382:[function(t,n,e){"use strict";function d(s,o){for(var i=s.parentNode,r=[];i!=null;)i.tagName!=null&&i.tagName.toLowerCase()===o&&r.push(i),i=i.parentNode;return r}c(d,"findParentTags"),n.exports=d},{}],383:[function(t,n,e){arguments[4][52][0].apply(e,arguments)},{"./lib/check-origin":384,"./lib/events":385,dup:52,framebus:386}],384:[function(t,n,e){arguments[4][53][0].apply(e,arguments)},{dup:53}],385:[function(t,n,e){arguments[4][54][0].apply(e,arguments)},{dup:54}],386:[function(t,n,e){arguments[4][55][0].apply(e,arguments)},{dup:55}],387:[function(t,n,e){arguments[4][35][0].apply(e,arguments)},{dup:35}],388:[function(t,n,e){arguments[4][36][0].apply(e,arguments)},{dup:36}],389:[function(t,n,e){arguments[4][22][0].apply(e,arguments)},{dup:22}],390:[function(t,n,e){arguments[4][38][0].apply(e,arguments)},{dup:38}],391:[function(t,n,e){arguments[4][39][0].apply(e,arguments)},{dup:39}],392:[function(t,n,e){arguments[4][40][0].apply(e,arguments)},{dup:40}],393:[function(t,n,e){arguments[4][41][0].apply(e,arguments)},{"./array":387,dup:41}],394:[function(t,n,e){arguments[4][42][0].apply(e,arguments)},{dup:42}],395:[function(t,n,e){arguments[4][43][0].apply(e,arguments)},{"./lib/array":387,"./lib/base64":388,"./lib/dom":389,"./lib/events":390,"./lib/fn":391,"./lib/string":392,"./lib/url":393,"./lib/uuid":394,dup:43}],396:[function(t,n,e){"use strict";n.exports=i;var d=t("component-indexof"),s=t("trim"),o=Array.prototype;function i(r){if(!(this instanceof i))return new i(r);var u=s(r.className).split(/\s+/),f;for(this._elem=r,this.length=0,f=0;f<u.length;f+=1)u[f]&&o.push.call(this,u[f])}c(i,"ClassList"),i.prototype.add=function(){var r,u;for(u=0;u<arguments.length;u+=1)r=""+arguments[u],!(d(this,r)>=0)&&o.push.call(this,r);return this._elem.className=this.toString(),this},i.prototype.remove=function(){var r,u,f;for(f=0;f<arguments.length;f+=1)u=""+arguments[f],r=d(this,u),!(r<0)&&o.splice.call(this,r,1);return this._elem.className=this.toString(),this},i.prototype.contains=function(r){return r+="",d(this,r)>=0},i.prototype.toggle=function(r,u){return r+="",u===!0?this.add(r):u===!1?this.remove(r):this[this.contains(r)?"remove":"add"](r)},i.prototype.toString=function(){return o.join.call(this," ")}},{"component-indexof":397,trim:398}],397:[function(t,n,e){n.exports=function(d,s){if(d.indexOf)return d.indexOf(s);for(var o=0;o<d.length;++o)if(d[o]===s)return o;return-1}},{}],398:[function(t,n,e){e=n.exports=d;function d(s){return s.replace(/^\s*|\s*$/g,"")}c(d,"trim"),e.left=function(s){return s.replace(/^\s*/,"")},e.right=function(s){return s.replace(/\s*$/,"")}},{}],399:[function(t,n,e){arguments[4][80][0].apply(e,arguments)},{"batch-execute-functions":400,"braintree-utilities/lib/fn":401,dup:80}],400:[function(t,n,e){arguments[4][81][0].apply(e,arguments)},{dup:81}],401:[function(t,n,e){arguments[4][39][0].apply(e,arguments)},{dup:39}],402:[function(t,n,e){arguments[4][83][0].apply(e,arguments)},{"./lib/default-attributes":403,dup:83,"lodash.assign":406,"lodash.isstring":404,setattributes:405}],403:[function(t,n,e){arguments[4][84][0].apply(e,arguments)},{dup:84}],404:[function(t,n,e){arguments[4][51][0].apply(e,arguments)},{dup:51}],405:[function(t,n,e){arguments[4][97][0].apply(e,arguments)},{dup:97}],406:[function(t,n,e){arguments[4][85][0].apply(e,arguments)},{dup:85,"lodash._baseassign":407,"lodash._createassigner":409,"lodash.keys":413}],407:[function(t,n,e){arguments[4][86][0].apply(e,arguments)},{dup:86,"lodash._basecopy":408,"lodash.keys":413}],408:[function(t,n,e){arguments[4][87][0].apply(e,arguments)},{dup:87}],409:[function(t,n,e){arguments[4][88][0].apply(e,arguments)},{dup:88,"lodash._bindcallback":410,"lodash._isiterateecall":411,"lodash.restparam":412}],410:[function(t,n,e){arguments[4][89][0].apply(e,arguments)},{dup:89}],411:[function(t,n,e){arguments[4][90][0].apply(e,arguments)},{dup:90}],412:[function(t,n,e){arguments[4][91][0].apply(e,arguments)},{dup:91}],413:[function(t,n,e){arguments[4][48][0].apply(e,arguments)},{dup:48,"lodash._getnative":414,"lodash.isarguments":415,"lodash.isarray":416}],414:[function(t,n,e){arguments[4][49][0].apply(e,arguments)},{dup:49}],415:[function(t,n,e){arguments[4][45][0].apply(e,arguments)},{dup:45}],416:[function(t,n,e){arguments[4][46][0].apply(e,arguments)},{dup:46}],417:[function(t,n,e){function d(s){try{return Array.prototype.slice.call(s)}catch{for(var o=[],i=0;i<s.length;i++)o.push(s[i]);return o}}c(d,"nodeListToArray"),typeof n!="undefined"&&(n.exports=d)},{}],418:[function(t,n,e){var d=t("lodash._baseclone"),s=t("lodash._bindcallback");function o(i,r,u){return typeof r=="function"?d(i,!0,s(r,u,3)):d(i,!0)}c(o,"cloneDeep"),n.exports=o},{"lodash._baseclone":419,"lodash._bindcallback":429}],419:[function(t,n,e){(function(d){var s=t("lodash._arraycopy"),o=t("lodash._arrayeach"),i=t("lodash._baseassign"),r=t("lodash._basefor"),u=t("lodash.isarray"),f=t("lodash.keys"),b="[object Arguments]",y="[object Array]",g="[object Boolean]",v="[object Date]",S="[object Error]",_="[object Function]",w="[object Map]",O="[object Number]",R="[object Object]",C="[object RegExp]",E="[object Set]",I="[object String]",M="[object WeakMap]",F="[object ArrayBuffer]",T="[object Float32Array]",m="[object Float64Array]",A="[object Int8Array]",N="[object Int16Array]",U="[object Int32Array]",B="[object Uint8Array]",j="[object Uint8ClampedArray]",G="[object Uint16Array]",J="[object Uint32Array]",te=/\w*$/,Y={};Y[b]=Y[y]=Y[F]=Y[g]=Y[v]=Y[T]=Y[m]=Y[A]=Y[N]=Y[U]=Y[O]=Y[R]=Y[C]=Y[I]=Y[B]=Y[j]=Y[G]=Y[J]=!0,Y[S]=Y[_]=Y[w]=Y[E]=Y[M]=!1;var ie=Object.prototype,ue=ie.hasOwnProperty,pe=ie.toString,we=d.ArrayBuffer,me=d.Uint8Array;function Pe(Z,ae,ge,be,Ae,xe,Se){var Ee;if(ge&&(Ee=Ae?ge(Z,be,Ae):ge(Z)),Ee!==void 0)return Ee;if(!fe(Z))return Z;var De=u(Z);if(De){if(Ee=oe(Z),!ae)return s(Z,Ee)}else{var Ie=pe.call(Z),Fe=Ie==_;if(Ie==R||Ie==b||Fe&&!Ae){if(Ee=le(Fe?{}:Z),!ae)return i(Ee,Z)}else return Y[Ie]?de(Z,Ie,ae):Ae?Z:{}}xe||(xe=[]),Se||(Se=[]);for(var Me=xe.length;Me--;)if(xe[Me]==Z)return Se[Me];return xe.push(Z),Se.push(Ee),(De?o:Re)(Z,function(Ne,Ue){Ee[Ue]=Pe(Ne,ae,ge,Ue,Z,xe,Se)}),Ee}c(Pe,"baseClone");function Re(Z,ae){return r(Z,ae,f)}c(Re,"baseForOwn");function ee(Z){var ae=new we(Z.byteLength),ge=new me(ae);return ge.set(new me(Z)),ae}c(ee,"bufferClone");function oe(Z){var ae=Z.length,ge=new Z.constructor(ae);return ae&&typeof Z[0]=="string"&&ue.call(Z,"index")&&(ge.index=Z.index,ge.input=Z.input),ge}c(oe,"initCloneArray");function le(Z){var ae=Z.constructor;return typeof ae=="function"&&ae instanceof ae||(ae=Object),new ae}c(le,"initCloneObject");function de(Z,ae,ge){var be=Z.constructor;switch(ae){case F:return ee(Z);case g:case v:return new be(+Z);case T:case m:case A:case N:case U:case B:case j:case G:case J:var Ae=Z.buffer;return new be(ge?ee(Ae):Ae,Z.byteOffset,Z.length);case O:case I:return new be(Z);case C:var xe=new be(Z.source,te.exec(Z));xe.lastIndex=Z.lastIndex}return xe}c(de,"initCloneByTag");function fe(Z){var ae=typeof Z;return!!Z&&(ae=="object"||ae=="function")}c(fe,"isObject"),n.exports=Pe}).call(this,typeof z.g!="undefined"?z.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"lodash._arraycopy":420,"lodash._arrayeach":421,"lodash._baseassign":422,"lodash._basefor":424,"lodash.isarray":425,"lodash.keys":426}],420:[function(t,n,e){function d(s,o){var i=-1,r=s.length;for(o||(o=Array(r));++i<r;)o[i]=s[i];return o}c(d,"arrayCopy"),n.exports=d},{}],421:[function(t,n,e){function d(s,o){for(var i=-1,r=s.length;++i<r&&o(s[i],i,s)!==!1;);return s}c(d,"arrayEach"),n.exports=d},{}],422:[function(t,n,e){arguments[4][86][0].apply(e,arguments)},{dup:86,"lodash._basecopy":423,"lodash.keys":426}],423:[function(t,n,e){arguments[4][87][0].apply(e,arguments)},{dup:87}],424:[function(t,n,e){var d=s();function s(r){return function(u,f,b){for(var y=o(u),g=b(u),v=g.length,S=r?v:-1;r?S--:++S<v;){var _=g[S];if(f(y[_],_,y)===!1)break}return u}}c(s,"createBaseFor");function o(r){return i(r)?r:Object(r)}c(o,"toObject");function i(r){var u=typeof r;return!!r&&(u=="object"||u=="function")}c(i,"isObject"),n.exports=d},{}],425:[function(t,n,e){arguments[4][46][0].apply(e,arguments)},{dup:46}],426:[function(t,n,e){arguments[4][48][0].apply(e,arguments)},{dup:48,"lodash._getnative":427,"lodash.isarguments":428,"lodash.isarray":425}],427:[function(t,n,e){arguments[4][49][0].apply(e,arguments)},{dup:49}],428:[function(t,n,e){arguments[4][45][0].apply(e,arguments)},{dup:45}],429:[function(t,n,e){arguments[4][89][0].apply(e,arguments)},{dup:89}],430:[function(t,n,e){var d=t("lodash._baseassign"),s=t("lodash._basecreate"),o=t("lodash._isiterateecall");function i(r,u,f){var b=s(r);return f&&o(r,u,f)&&(u=void 0),u?d(b,u):b}c(i,"create"),n.exports=i},{"lodash._baseassign":431,"lodash._basecreate":437,"lodash._isiterateecall":438}],431:[function(t,n,e){arguments[4][86][0].apply(e,arguments)},{dup:86,"lodash._basecopy":432,"lodash.keys":433}],432:[function(t,n,e){arguments[4][87][0].apply(e,arguments)},{dup:87}],433:[function(t,n,e){arguments[4][48][0].apply(e,arguments)},{dup:48,"lodash._getnative":434,"lodash.isarguments":435,"lodash.isarray":436}],434:[function(t,n,e){arguments[4][49][0].apply(e,arguments)},{dup:49}],435:[function(t,n,e){arguments[4][45][0].apply(e,arguments)},{dup:45}],436:[function(t,n,e){arguments[4][46][0].apply(e,arguments)},{dup:46}],437:[function(t,n,e){var d=function(){function o(){}return c(o,"object"),function(i){if(s(i)){o.prototype=i;var r=new o;o.prototype=void 0}return r||{}}}();function s(o){var i=typeof o;return!!o&&(i=="object"||i=="function")}c(s,"isObject"),n.exports=d},{}],438:[function(t,n,e){arguments[4][90][0].apply(e,arguments)},{dup:90}],439:[function(t,n,e){"use strict";function d(o){var i,r={};if(!!o){for(i in o)o.hasOwnProperty(i)&&(r[s(i)]=o[i]);return r}}c(d,"convertToLegacyShippingAddress");function s(o){return o.replace(/([A-Z])/g,function(i){return"_"+i.toLowerCase()})}c(s,"toSnakeCase"),n.exports={convertToLegacyShippingAddress:d}},{}],440:[function(t,n,e){"use strict";n.exports={ROOT_SUCCESS_CALLBACK:"onPaymentMethodReceived",ROOT_ERROR_CALLBACK:"onError",ROOT_READY_CALLBACK:"onReady"}},{}],441:[function(t,n,e){(function(d){"use strict";var s=t("lodash.clonedeep"),o=t("braintree-api"),i=t("braintree-bus"),r=t("destructor"),u=t("braintree-utilities").bind,f=t("../constants"),b=t("../lib/sanitize-payload"),y=t("../lib/lookup-callback-for"),g=t("../lib/fallback-error-handler"),v=t("../lib/node-type"),S=v.isJQueryElement,_=v.isHTMLElement;function w(){}c(w,"noop");function O(){this._dependenciesRemaining++}c(O,"_handleDependencyInitializing");function R(){this._dependenciesRemaining--,this._dependenciesRemaining===0&&(delete this._dependenciesRemaining,this.bus.off(i.events.ASYNC_DEPENDENCY_INITIALIZING,this._handleDependencyInitializing),this.bus.off(i.events.ASYNC_DEPENDENCY_READY,this._handleDependencyReady),this._onIntegrationReady())}c(R,"_handleDependencyReady");function C(E){this.configuration=E,this.isReady=!1,this.destructor=new r,this.bus=new i({channel:this.configuration.channel,merchantUrl:d.location.href}),this._createApiClient(),this._configureCallbacks(),this._configureAnalytics(),this._attachEvents(),this._emitInitializing()}c(C,"BaseIntegration"),C.prototype._emitInitializing=function(){this.bus.emit(i.events.ASYNC_DEPENDENCY_INITIALIZING)},C.prototype._createApiClient=function(){var E={clientToken:this.configuration.gatewayConfiguration,integration:this.configuration.integrationType,analyticsConfiguration:this.configuration.analyticsConfiguration};this.configuration.merchantConfiguration.enableCORS&&(E.enableCORS=!0),this.apiClient=new o.Client(E)},C.prototype._configureCallbacks=function(){var E=y(this.configuration.merchantConfiguration);function I(M){return function(F){M(b(F))}}c(I,"successHandler"),this.onSuccess=I(E(f.ROOT_SUCCESS_CALLBACK)),this.onError=E(f.ROOT_ERROR_CALLBACK,g),this.onReady=E(f.ROOT_READY_CALLBACK)},C.prototype._configureAnalytics=function(){var E="web."+this.configuration.integrationType+".",I=this.apiClient;this.bus.on(i.events.SEND_ANALYTICS_EVENTS,function(M,F){var T;for(M instanceof Array||(M=[M]),T=0;T<M.length;T++)M[T]=E+M[T];I.sendAnalyticsEvents(M,F)})},C.prototype._attachEvents=function(){var E,I=this.configuration;this.bus.on(i.events.ERROR,this.onError),this.bus.on(i.events.PAYMENT_METHOD_RECEIVED,this.onSuccess),this.bus.on(i.events.WARNING,function(M){try{console.warn(M)}catch{}}),E={enableCORS:I.merchantConfiguration.enableCORS,configuration:I.gatewayConfiguration,integration:I.integrationType,analyticsConfiguration:I.analyticsConfiguration,merchantConfiguration:s(I.merchantConfiguration,function(M){if(S(M)||_(M))return{}})},this.bus.on(i.events.CONFIGURATION_REQUEST,function(M){M(E)}),this._dependenciesRemaining=0,this._handleDependencyInitializing=u(O,this),this._handleDependencyReady=u(R,this),this.bus.on(i.events.ASYNC_DEPENDENCY_INITIALIZING,this._handleDependencyInitializing),this.bus.on(i.events.ASYNC_DEPENDENCY_READY,this._handleDependencyReady)},C.prototype._onIntegrationReady=function(){var E={teardown:u(function(I){var M,F="Cannot call teardown while in progress";I=I||w;function T(){throw new Error(F)}c(T,"teardownReply");for(M in E)E.hasOwnProperty(M)&&(E[M]=T);this.destructor.teardown(u(function(){F="Cannot teardown integration more than once",this.bus.teardown(),I()},this))},this)};this.isReady=!0,this.onReady(E)},n.exports=C}).call(this,typeof z.g!="undefined"?z.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../constants":440,"../lib/fallback-error-handler":447,"../lib/lookup-callback-for":449,"../lib/node-type":450,"../lib/sanitize-payload":451,"braintree-api":21,"braintree-bus":52,"braintree-utilities":372,destructor:373,"lodash.clonedeep":418}],442:[function(t,n,e){"use strict";var d=t("lodash.clonedeep"),s=t("lodash.create"),o=t("braintree-api"),i=t("braintree-utilities").bind,r=t("braintree-coinbase"),u=t("braintree-bus"),f=t("./base-integration");function b(){var y,g;f.apply(this,arguments),y=d(this.configuration.merchantConfiguration),this._attachBusEvents(),y.channel=this.configuration.channel,y.configuration=d(this.configuration.gatewayConfiguration),y.coinbase=d(y.coinbase||{}),y.apiClient=new o.Client({enableCORS:this.configuration.merchantConfiguration.enableCORS||!1,clientToken:this.configuration.gatewayConfiguration,integration:"coinbase"}),g=r.create(y),this.destructor.registerFunctionForTeardown(function(v){g.teardown(v)}),this.bus.emit(u.events.ASYNC_DEPENDENCY_READY)}c(b,"CoinbaseIntegration"),b.prototype=s(f.prototype,{constructor:b}),b.prototype._attachBusEvents=function(){this.bus.on(u.events.PAYMENT_METHOD_GENERATED,i(this._onPaymentMethodGenerated,this))},b.prototype._onPaymentMethodGenerated=function(y){this.bus.emit(u.events.PAYMENT_METHOD_RECEIVED,y)},n.exports=b},{"./base-integration":441,"braintree-api":21,"braintree-bus":52,"braintree-coinbase":56,"braintree-utilities":372,"lodash.clonedeep":418,"lodash.create":430}],443:[function(t,n,e){"use strict";var d=t("lodash.clonedeep"),s=t("lodash.create"),o=t("braintree-form"),i=t("braintree-paypal"),r=t("braintree-coinbase"),u=t("braintree-utilities"),f=t("hosted-fields"),b=t("form-napper"),y=t("../constants"),g=t("braintree-bus"),v=t("../compatibility").convertToLegacyShippingAddress,S=t("./base-integration"),_=t("../lib/node-type"),w=_.isJQueryElement,O=_.isHTMLElement,R=t("../lib/hosted-fields-nonce-manager");function C(){S.apply(this,arguments),this.configuration.merchantConfiguration.hostedFields!=null?this._setupHostedFields():this._setupForm(),this._setupPayPal(),this._setupCoinbase(),this.bus.emit(g.events.ASYNC_DEPENDENCY_READY)}c(C,"CustomIntegration"),C.prototype=s(S.prototype,{constructor:C}),C.prototype._setupHostedFields=function(){var I,M=this.configuration.merchantConfiguration,F=M[y.ROOT_SUCCESS_CALLBACK],T=new b(M.id),m=f.create(this.configuration),A=new R({formNapper:T,rootCallback:F,channel:this.configuration.channel});if(T.htmlForm==null){this.bus.emit(g.events.ERROR,{type:"CONFIGURATION",message:"options.id does not reference a valid DOM element"});return}I=u.bind(A.handleSubmitRequest,A),T.hijack(I),this.bus.on(g.events.USER_FORM_SUBMIT_REQUEST,I),this.destructor.registerFunctionForTeardown(u.bind(function(N){A.teardown(),T.detach(),m.teardown(N)},this))},C.prototype._setupForm=function(){var I=this.configuration.merchantConfiguration,M,F,T;I.id?(T=o.setup(this.apiClient,this.configuration),M=!u.isFunction(I[y.ROOT_SUCCESS_CALLBACK]),M||(F=this.onSuccess,T.onNonceReceived=u.bind(function(m,A){m?this.bus.emit(g.events.ERROR,m):F(A)},this)),this.destructor.registerFunctionForTeardown(function(){T.teardown()})):this.bus.on(g.events.PAYMENT_METHOD_GENERATED,u.bind(function(m){this.bus.emit(g.events.PAYMENT_METHOD_RECEIVED,m)},this))},C.prototype._setupPayPal=function(){var I,M,F,T,m,A,N=this.configuration.merchantConfiguration;!N.paypal||(A=d(N.paypal,function(U){if(w(U))return U[0];if(O(U))return U}),I=E(N,"paypal"),M=I("onSuccess"),F=I("onCancelled"),A.paymentMethodNonceInputField||(T=document.createElement("input"),T.id="braintree-custom-integration-dummy-input",A.paymentMethodNonceInputField=T),A.onSuccess=function(U){M(U.nonce,U.details.email,v(U.details.shippingAddress))},A.onCancelled=u.bind(function(){this.bus.emit(g.events.PAYMENT_METHOD_CANCELLED),F()},this),N.enableCORS&&(A.enableCORS=!0),m=i.create(this.configuration.gatewayConfiguration,A,this.configuration.channel),m!=null&&this.destructor.registerFunctionForTeardown(function(){m.teardown()}))},C.prototype._setupCoinbase=function(){var I,M;!this.configuration.merchantConfiguration.coinbase||navigator.userAgent.match(/MSIE 8\.0/)||(I=d(this.configuration.merchantConfiguration),I.channel=this.configuration.channel,I.configuration=this.configuration.gatewayConfiguration,I.apiClient=this.apiClient,delete I.paypal,M=r.create(I),this.destructor.registerFunctionForTeardown(function(F){M.teardown(F)}))};function E(I,M){return function(F){return M in I&&u.isFunction(I[M][F])?I[M][F]:c(function(){},"noop")}}c(E,"getIntegrationCallbackLookup"),n.exports=C},{"../compatibility":439,"../constants":440,"../lib/hosted-fields-nonce-manager":448,"../lib/node-type":450,"./base-integration":441,"braintree-bus":52,"braintree-coinbase":56,"braintree-form":245,"braintree-paypal":344,"braintree-utilities":372,"form-napper":376,"hosted-fields":377,"lodash.clonedeep":418,"lodash.create":430}],444:[function(t,n,e){"use strict";var d=t("lodash.create"),s=t("braintree-dropin"),o=t("braintree-utilities"),i=t("braintree-bus"),r=t("../constants"),u=t("../lib/sanitize-payload"),f=t("./base-integration");function b(v){return o.isFunction(v.paymentMethodNonceReceived)?v.paymentMethodNonceReceived:null}c(b,"_getLegacyCallback");function y(v){return o.isFunction(v[r.ROOT_SUCCESS_CALLBACK])}c(y,"_hasRootCallback");function g(){var v,S,_,w;f.apply(this,arguments),v=this.configuration.merchantConfiguration,S=b(v),_=y(v),(S||_)&&(v.paymentMethodNonceReceived=o.bind(function(O){S&&S(O.originalEvent,O.nonce),this.bus.emit(i.events.PAYMENT_METHOD_RECEIVED,u(O))},this)),w=s.create(this.configuration),this.destructor.registerFunctionForTeardown(function(O){w.teardown(O)}),this.bus.emit(i.events.ASYNC_DEPENDENCY_READY)}c(g,"DropinIntegration"),g.prototype=d(f.prototype,{constructor:g}),n.exports=g},{"../constants":440,"../lib/sanitize-payload":451,"./base-integration":441,"braintree-bus":52,"braintree-dropin":236,"braintree-utilities":372,"lodash.create":430}],445:[function(t,n,e){"use strict";n.exports={custom:t("./custom"),dropin:t("./dropin"),paypal:t("./paypal"),coinbase:t("./coinbase")}},{"./coinbase":442,"./custom":443,"./dropin":444,"./paypal":446}],446:[function(t,n,e){"use strict";var d=t("lodash.create"),s=t("braintree-paypal"),o=t("braintree-utilities"),i=t("../constants"),r=t("braintree-bus"),u=t("../compatibility").convertToLegacyShippingAddress,f=t("./base-integration");function b(v){return"onSuccess"in v&&o.isFunction(v.onSuccess)?v.onSuccess:"paypal"in v&&o.isFunction(v.paypal.onSuccess)?v.paypal.onSuccess:null}c(b,"_getLegacyCallback");function y(v){return o.isFunction(v[i.ROOT_SUCCESS_CALLBACK])}c(y,"_hasRootCallback");function g(){var v,S,_,w;f.apply(this,arguments),v=this.configuration.merchantConfiguration,S=b(v),_=y(v),(S||_)&&(v.onSuccess=o.bind(function(O){S&&S(O.nonce,O.details.email,u(O.details.shippingAddress)),this.bus.emit(r.events.PAYMENT_METHOD_RECEIVED,O)},this)),w=s.create(this.configuration.gatewayConfiguration,v,this.configuration.channel),this.destructor.registerFunctionForTeardown(function(){w.teardown()}),this.bus.emit(r.events.ASYNC_DEPENDENCY_READY)}c(g,"PayPalIntegration"),g.prototype=d(f.prototype,{constructor:g}),n.exports=g},{"../compatibility":439,"../constants":440,"./base-integration":441,"braintree-bus":52,"braintree-paypal":344,"braintree-utilities":372,"lodash.create":430}],447:[function(t,n,e){"use strict";n.exports=c(function(s){if(s.type==="CONFIGURATION"||s.type==="IMMEDIATE")throw new Error(s.message);try{console.error(JSON.stringify(s))}catch{}},"fallbackError")},{}],448:[function(t,n,e){"use strict";var d=t("braintree-bus"),s=t("hosted-fields"),o="web.custom.hosted-fields.via.",i="payment_method_nonce";function r(u){this.paymentMethod=null,this.nonceInputElement=null,this.bus=new d({channel:u.channel}),this.formNapper=u.formNapper,this.rootCallback=u.rootCallback,this._attachEvents()}c(r,"NonceManager"),r.prototype._clearNonce=function(){this.paymentMethod=null,this.nonceInputElement=this.formNapper.inject(i,"")},r.prototype._attachEvents=function(){var u=this;this.bus.on(d.events.PAYMENT_METHOD_CANCELLED,function(){u._clearNonce()}),this.bus.on(d.events.PAYMENT_METHOD_GENERATED,function(f){u.paymentMethod=f,u.nonceInputElement=u.formNapper.inject(i,u.paymentMethod.nonce)})},r.prototype.handleSubmitRequest=function(){var u=this;this.bus.emit(s.events.TOKENIZATION_REQUEST,function(f){var b=f[0],y=f[1];if(b){u.bus.emit(d.events.ERROR,b);return}if(u.paymentMethod=y||u.paymentMethod,u.paymentMethod==null){u.bus.emit(s.events.VALIDATE_STRICT),u.bus.emit(d.events.ERROR,{type:"VALIDATION",message:"User did not enter a payment method"});return}u.rootCallback?u.bus.emit(d.events.SEND_ANALYTICS_EVENTS,o+"callback.success",function(){u.rootCallback(u.paymentMethod)}):u.bus.emit(d.events.SEND_ANALYTICS_EVENTS,o+"formsubmit.success",function(){u.nonceInputElement=u.formNapper.inject(i,u.paymentMethod.nonce),u.formNapper.submit()})})},r.prototype.teardown=function(){this._clearNonce()},n.exports=r},{"braintree-bus":52,"hosted-fields":377}],449:[function(t,n,e){"use strict";var d=t("braintree-utilities").isFunction;function s(){}c(s,"noop"),n.exports=c(function(i){return function(r,u){return d(i[r])?i[r]:d(u)?u:s}},"lookupCallbackFor")},{"braintree-utilities":372}],450:[function(t,n,e){"use strict";function d(o){return typeof o=="object"&&"jquery"in o&&o.length!==0}c(d,"isJQueryElement");function s(o){return o&&o.nodeType===1}c(s,"isHTMLElement"),n.exports={isJQueryElement:d,isHTMLElement:s}},{}],451:[function(t,n,e){"use strict";n.exports=c(function(s){return{nonce:s.nonce,details:s.details,type:s.type}},"sanitizePayload")},{}]},{},[1])(1)})},46263:(ve,he,z)=>{"use strict";z.d(he,{D:()=>Q,P:()=>V});function V(se,t=0,{start:n=!0,middle:e=!0,once:d=!1}={}){let s=0,o,i=!1;function r(...u){if(i)return;const f=Date.now()-s;s=Date.now(),n?(n=!1,se.apply(this,u),d&&r.cancel()):(e&&f<t||!e)&&(clearTimeout(o),o=setTimeout(()=>{s=Date.now(),se.apply(this,u),d&&r.cancel()},e?t-f:t))}return c(r,"fn"),r.cancel=()=>{clearTimeout(o),i=!0},r}c(V,"throttle");function Q(se,t=0,{start:n=!1,middle:e=!1,once:d=!1}={}){return V(se,t,{start:n,middle:e,once:d})}c(Q,"debounce")},45975:(ve,he)=>{(function(z,V){V(he)})(self,function(z){"use strict";var V="1.3.0",Q="z_hppm_iframe",se=!1,t=function(){var s="zlog_level",o="error",i="warn",r="info",u="debug",f=i,b=[o,i,r,u];function y(_){var w;for(w=0;w<b.length;w++)if(b[w]===_)return w;return-1}c(y,"getLogLevelIndex");function g(){var _=document.location.href,w=_.indexOf("?");if(w<0)return f;var O=_.indexOf("#");O<0&&(O=_.length);var R=_.slice(w+1,O);if(!R)return f;var C=R.split("&"),E;for(E=0;E<C.length;E++){var I=C[E].split("="),M=I[0],F=I[1];if(M===s&&y(F)>=0)return F}return i}c(g,"readLogLevel");function v(){return y(g())>=y(u)}c(v,"isDebugEnabled");function S(){return y(g())>=y(r)}return c(S,"isInfoEnabled"),{getLevel:function(){return g()},debug:function(_){console&&console.log&&v()&&console.log(_)},info:function(_){console&&console.info&&S()&&console.info(_)},warn:function(_){console&&console.warn&&console.warn(_)},error:function(_){console&&console.error&&console.error(_)}}}(),n=function(){var s,o,i=1,r;return{postMessage:function(u,f,b){t.debug("Posting message[O]: target_url="+f+", payload="+u),!!f&&(b=b||parent,window.postMessage?b.postMessage(u,f.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):f&&(b.location=f.replace(/#.*$/,"")+"#"+ +new Date+i+++"&"+u))},receiveMessage:function(u){window.postMessage?(u&&(r=c(function(f){function b(v){var S=/^https:\/\/([a-z0-9]+(-[a-z0-9]+)*\.)*zuora\.com$/;return!!S.test(v.toLowerCase())}c(b,"isFromZuora");var y=/^https?:\/\/localhost(:\d{4,5})?$/;function g(v){return y.test(v)}if(c(g,"isInDevEnvironment"),t.debug("Received message[O]: origin="+f.origin),typeof f.origin=="string"&&!(b(f.origin)||g(f.origin)))return t.info("Stopped processing none-zuora message."),!1;u(f)},"attached_callback")),window.addEventListener?window[u?"addEventListener":"removeEventListener"]("message",r,!1):window[u?"attachEvent":"detachEvent"]("onmessage",r)):(s&&clearInterval(s),s=null,u&&(s=setInterval(function(){var f=document.location.hash,b=/^#?\d+&/;f!==o&&b.test(f)&&(o=f,u({data:f.replace(b,"")}))},100)))}}}(),e=function(){var s="#z-overlay {filter: alpha(opacity=50);opacity:0.5;display:inline-block;position:fixed;top:0;left:0;width:100%;height:100%;background-color: #000;z-index: 1001;}",o="#z-container {border:1px;float:left; overflow: visible; position: absolute;padding: 0px; display: inline-block; top:5%; left:34%; margin: 0 auto;-webkit-border-radius: 5px;-moz-border-radius: 5px;border-radius:5px;background-color: #FAFAFA; border:1px solid #FAFAFA;border-top-color:#EDEDED;behavior: url(js/PIE.htc);z-index: 1002;}",i="#z-data {height: 100%; outline: 0px; width: 100%; overflow: visible;display: inline-block;border:1px; -webkit-border-radius: 5px;-moz-border-radius: 5px;border-radius:5px;}",r="#reset{*, *:before, *:after {display: inline-block;-webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box;}}",u="#z_hppm_iframe {background-color: #FAFAFA;vertical-align:bottom;z-index:9999;display:block;padding:0px;margin: 0px; border:0px solid #DDD;}",f="requestPage",b,y,g,v,S,_=["tenantId","id","token","signature","key","style","submitEnabled","url"],w=["creditCardNumber","cardSecurityCode","creditCardExpirationYear","creditCardExpirationMonth","bankAccountNumber","bankAccountName","ipAddress"],O=!1,R={},C=null,E=null;function I(T){return T&&typeof T=="function"}c(I,"isFunction");function M(T){var m={};for(var A in T)T.hasOwnProperty(A)&&(m[A]=T[A]);return m}c(M,"shallowCopy"),n.receiveMessage(function(T){try{var m=T.data;t.debug("Received message[O]: payload="+m),m=JSON.parse(m),m.success?I(R.init)&&R.init(m):m.success==!1?(e.deactivateOverlay("z-overlay"),e.deactivateOverlay("z-container"),R.init&&R.init(m)):m.action=="close"?(e.deactivateOverlay("z-overlay"),e.deactivateOverlay("z-container")):m.action=="resize"?e.receive(m):m.action=="allowScroll"&&e.allowScroll(m),m.action==="validate"&&I(R.validate)?R.validate(m):m.action=="customizeErrorMessage"&&I(R.customizeErrorMessage)?R.customizeErrorMessage(m.key,m.code,m.message):m.action&&I(R[m.action])&&R[m.action](m)}catch{return}});var F;return{validateRequiredParams:function(T){var m,A=_.length;for(m=0;m<A;m++)if(!T.hasOwnProperty(_[m])){if(_[m]=="submitEnabled"&&T.style.toLowerCase()=="overlay")continue;var N="Param with key ["+_[m]+"] is required.";return alert(N),e.isIE()||console.log(N),!1}return!0},isIE:function(){var T=window.navigator.userAgent,m=T.indexOf("MSIE "),A=T.indexOf("Trident/");if(m>0)return!0;if(A>0){var N=T.indexOf("rv:");return!0}return!1},validatePCIParams:function(T){var m,A=w.length;for(m=0;m<A;m++){var N="field_"+w[m];if(T.hasOwnProperty(N)&&0<T[N].trim().length&&T[N].trim().length<300){var U="Field ["+N+"] for Credit Card payment method type should be encrypted for pre-population";return alert(U),e.isIE()||console.log(U),!1}}return!0},init:function(T,m){g="?method=requestPage&host="+encodeURIComponent(document.location.href)+"&",g=g+"fromHostedPage=true&";var A=e.validateRequiredParams(T);if(!A||(A=e.validatePCIParams(T),!A))return!1;var N=JSON.stringify(T,function(G,J){if(G!="")if(G=="key")S=J;else if(G=="url"){var te=/^https:\/\/([a-z0-9]+(-[a-z0-9]+)*\.)+zuora\.com\/.+$/;t.info("HPM integration[O]: url="+J),te.test(J)||t.warn("HPM integration[O]: None-official zuora HPM integration url is detected: "+J),b=J}else g=g+G+"="+encodeURIComponent(J)+"&";return J});F=JSON.parse(N),R.init=m;var U=w.length;if(T)for(var B=0;B<U;B++){var j="field_"+w[B];T.hasOwnProperty(j)&&(T[j]="")}return!0},prepopulate:function(T){if(!se){var m=e.createIframeURL();if(m==document.getElementById(Q).src||document.getElementById(Q).src.indexOf(m)>=0&&F.hasOwnProperty("customizeErrorRequired")&&F.customizeErrorRequired=="true"){var A=JSON.stringify(T,function(U,B){if(U!=""){var j="setField("+U+":"+B+")";e.post(Q,j)}return B}),N="setField(key:"+S+")";e.post(Q,N),e.post(Q,"setField(style:"+F.style+")"),F.hasOwnProperty("customizeErrorRequired")&&F.customizeErrorRequired=="true"&&(e.post(Q,"customizeErrorRequired"),F.customizeErrorRequired="false"),e.post(Q,"resize"),y&&y()}y&&(y=null)}},contains:function(T,m){for(var A=0;A<T.length;A++)if(T[A]===m)return!0;return!1},renderWithErrorHandler:function(T,m,A,N,U,B){T.customizeErrorRequired="true",e.render(T,m,A,U,B),e.customizeErrorHandler(N)},runAfterRender:function(T){y=T},render:function(T,m,A,N,U){N!=null&&N!=null&&(C=N),U!=null&&U!=null&&(E=U);var B=w.length;if(se=!1,m&&m.creditCardCountry&&(m.creditCardCountry==="USA"||m.creditCardCountry==="CAN")&&(m.creditCardState=m.creditCardState||" "),m)for(var j=0;j<B;j++){var G="field_"+w[j];m.hasOwnProperty(w[j])&&(T[G]=m[w[j]])}var J=e.init(T,A);if(!!J){if(m)for(B=Object.keys(m).length,v=M(m),j=0;j<B;j++){var te=Object.keys(m)[j];e.contains(w,te)&&delete v[te]}else v=null;var Y=document.getElementById("zuora_payment");if(typeof Y=="undefined"||!Y)return{error:"invalid_request",error_description:"The container you specified does not exist"};if(Y.innerHTML="",e.cleanUp(Y,"z-overlay"),e.cleanUp(Y,"z-container"),F.style=="inline"){e.addInlineStyles(),e.createIframe(Y);return}if(F.style=="overlay"){e.addOverlayStyles();var ie=e.generateDiv("z-overlay","z-overlay");Y.appendChild(ie);var ue=e.generateDiv("z-container","z-container");Y.appendChild(ue);var pe=e.generateDiv("z-data","z-data");pe.tabindex="-1",ue.appendChild(pe),e.createIframe(document.getElementById("z-data")),e.activateOverlay("z-overlay")}}},cleanUp:function(T,m){var A=document.getElementById(m);A!=null&&T.removeChild(A)},activateOverlay:function(T){try{document.getElementById(T).style.display="inline"}catch{}},deactivateOverlay:function(T){try{document.getElementById(T).style.display="none"}catch{}},generateDiv:function(T,m,A){var N=document.createElement("div");return N.id=T,N.className=m,N.border="0",N.addEventListener?N.addEventListener("click",A,!1):N.attachEvent("click",A),N},addOverlayStyles:function(){var T=document.createElement("style");T.type="text/css";var m=document.createTextNode(s),A=document.createTextNode(o),N=document.createTextNode(i),U=document.createTextNode(u),B=document.createTextNode(r);T.styleSheet?T.styleSheet.cssText=m.nodeValue+" "+A.nodeValue+" "+N.nodeValue+" "+B.nodeValue+" "+U.nodeValue:(T.appendChild(m),T.appendChild(A),T.appendChild(N),T.appendChild(U),T.appendChild(B)),document.getElementsByTagName("head")[0].appendChild(T)},addInlineStyles:function(){var T=document.createElement("style");T.type="text/css";var m=document.createTextNode(u);T.styleSheet?T.styleSheet.cssText=m.nodeValue:T.appendChild(m),document.getElementsByTagName("head")[0].appendChild(T)},createIframe:function(T,m){var A=e.createIframeURL(),N=document.createElement("iframe");N.setAttribute("src",A),N.setAttribute("id",Q),N.setAttribute("overflow","visible"),N.setAttribute("scrolling","no"),N.setAttribute("frameBorder","0"),N.setAttribute("allowtransparency","true"),N.setAttribute("class","z_hppm_iframe"),N.setAttribute("width","100%"),N.setAttribute("height","100%"),N.addEventListener?N.addEventListener("load",function(U){return e.prepopulate(v),!1},!1):N.attachEvent("onload",function(){return e.prepopulate(v),!1}),typeof m!="undefined"&&typeof m.vertical!="undefined"&&m.vertical&&(N.style.width="100%",N.style.height="100%"),T.appendChild(N)},createIframeURL:function(){var T=b;return T.concat(g).concat("zlog_level="+t.getLevel())},post:function(T,m){var A=document.getElementById(T),N=encodeURIComponent(document.location.href),U=A.src;return U.indexOf(N)<=-1&&(A.src=U+"#"+N),n.postMessage(m,U,A.contentWindow),!1},allowScroll:function(T){if(Q){var m=document.getElementById(Q);m&&(m.setAttribute("scrolling","yes"),se=!0)}},receive:function(T){d.resizeCaller(Q,T.action,T.height,T.width,C,E)},validate:function(T){if(T==null||T==null){e.closeWindow();var m="Validate function required.";return alert(m),e.isIE()||console.log(m),!1}R.validate=T;var A="validate";e.post(Q,A)},customizeErrorHandler:function(T){if(T==null||T==null){e.closeWindow();var m="Customized error message function required.";return alert(m),e.isIE()||console.log(m),!1}R.customizeErrorMessage=T},sendErrorMessageToHpm:function(T,m){var A={action:"customizeErrorMessage",key:T,message:m},N=JSON.stringify(A);e.post(Q,N)},closeWindow:function(){e.deactivateOverlay("z-overlay"),e.deactivateOverlay("z-container")},submit:function(){var T=document.getElementById(Q).src+"#"+encodeURIComponent(document.location.href);return document.getElementById(Q).src=T,n.postMessage("postPage",T,document.getElementById(Q).contentWindow),!0},setEventHandler:function(T,m){T&&m&&(R[T]=m)}}}(),d=function(){var s="yes",o=navigator.userAgent.substring(navigator.userAgent.indexOf("Firefox")).split("/")[1],i=parseFloat(o)>=.1?20:0;return{resizeCaller:function(r,u,f,b,y,g){if(d.resizeIframe(r,u,f,b,y,g),(document.all||document.getElementById)&&s=="no"){var v=document.all?document.all[r]:document.getElementById(r);v.style.display="block"}},resizeIframe:function(r,u,f,b,y,g){var v=document.getElementById(r);if(v){if(v.style.display="block",y!=null&&y!=null)try{!isNaN(y)&&y.length>0?v.width=Number(y):v.width=Number(b)}catch{v.width=Number(b)}else v.width=Number(b);if(g!=null&&g!=null)try{!isNaN(g)&&g.length>0?v.height=Number(g):v.height=Number(f)}catch{v.height=Number(f)}else v.height=Number(f)}}}}();z.Z=e,Object.defineProperty(z,"__esModule",{value:!0})})},59753:(ve,he,z)=>{"use strict";z.d(he,{f:()=>T,on:()=>M});function V(){if(!(this instanceof V))return new V;this.size=0,this.uid=0,this.selectors=[],this.selectorObjects={},this.indexes=Object.create(this.indexes),this.activeIndexes=[]}c(V,"SelectorSet");var Q=window.document.documentElement,se=Q.matches||Q.webkitMatchesSelector||Q.mozMatchesSelector||Q.oMatchesSelector||Q.msMatchesSelector;V.prototype.matchesSelector=function(m,A){return se.call(m,A)},V.prototype.querySelectorAll=function(m,A){return A.querySelectorAll(m)},V.prototype.indexes=[];var t=/^#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;V.prototype.indexes.push({name:"ID",selector:c(function(A){var N;if(N=A.match(t))return N[0].slice(1)},"matchIdSelector"),element:c(function(A){if(A.id)return[A.id]},"getElementId")});var n=/^\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;V.prototype.indexes.push({name:"CLASS",selector:c(function(A){var N;if(N=A.match(n))return N[0].slice(1)},"matchClassSelector"),element:c(function(A){var N=A.className;if(N){if(typeof N=="string")return N.split(/\s/);if(typeof N=="object"&&"baseVal"in N)return N.baseVal.split(/\s/)}},"getElementClassNames")});var e=/^((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;V.prototype.indexes.push({name:"TAG",selector:c(function(A){var N;if(N=A.match(e))return N[0].toUpperCase()},"matchTagSelector"),element:c(function(A){return[A.nodeName.toUpperCase()]},"getElementTagName")}),V.prototype.indexes.default={name:"UNIVERSAL",selector:function(){return!0},element:function(){return[!0]}};var d;typeof window.Map=="function"?d=window.Map:d=function(){function m(){this.map={}}return c(m,"Map"),m.prototype.get=function(A){return this.map[A+" "]},m.prototype.set=function(A,N){this.map[A+" "]=N},m}();var s=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g;function o(m,A){m=m.slice(0).concat(m.default);var N=m.length,U,B,j,G,J=A,te,Y,ie=[];do if(s.exec(""),(j=s.exec(J))&&(J=j[3],j[2]||!J)){for(U=0;U<N;U++)if(Y=m[U],te=Y.selector(j[1])){for(B=ie.length,G=!1;B--;)if(ie[B].index===Y&&ie[B].key===te){G=!0;break}G||ie.push({index:Y,key:te});break}}while(j);return ie}c(o,"parseSelectorIndexes");function i(m,A){var N,U,B;for(N=0,U=m.length;N<U;N++)if(B=m[N],A.isPrototypeOf(B))return B}c(i,"findByPrototype"),V.prototype.logDefaultIndexUsed=function(){},V.prototype.add=function(m,A){var N,U,B,j,G,J,te,Y,ie=this.activeIndexes,ue=this.selectors,pe=this.selectorObjects;if(typeof m=="string"){for(N={id:this.uid++,selector:m,data:A},pe[N.id]=N,te=o(this.indexes,m),U=0;U<te.length;U++)Y=te[U],j=Y.key,B=Y.index,G=i(ie,B),G||(G=Object.create(B),G.map=new d,ie.push(G)),B===this.indexes.default&&this.logDefaultIndexUsed(N),J=G.map.get(j),J||(J=[],G.map.set(j,J)),J.push(N);this.size++,ue.push(m)}},V.prototype.remove=function(m,A){if(typeof m=="string"){var N,U,B,j,G,J,te,Y,ie=this.activeIndexes,ue=this.selectors=[],pe=this.selectorObjects,we={},me=arguments.length===1;for(N=o(this.indexes,m),B=0;B<N.length;B++)for(U=N[B],j=ie.length;j--;)if(J=ie[j],U.index.isPrototypeOf(J)){if(te=J.map.get(U.key),te)for(G=te.length;G--;)Y=te[G],Y.selector===m&&(me||Y.data===A)&&(te.splice(G,1),we[Y.id]=!0);break}for(B in we)delete pe[B],this.size--;for(B in pe)ue.push(pe[B].selector)}};function r(m,A){return m.id-A.id}c(r,"sortById"),V.prototype.queryAll=function(m){if(!this.selectors.length)return[];var A={},N=[],U=this.querySelectorAll(this.selectors.join(", "),m),B,j,G,J,te,Y,ie,ue;for(B=0,G=U.length;B<G;B++)for(te=U[B],Y=this.matches(te),j=0,J=Y.length;j<J;j++)ue=Y[j],A[ue.id]?ie=A[ue.id]:(ie={id:ue.id,selector:ue.selector,data:ue.data,elements:[]},A[ue.id]=ie,N.push(ie)),ie.elements.push(te);return N.sort(r)},V.prototype.matches=function(m){if(!m)return[];var A,N,U,B,j,G,J,te,Y,ie,ue,pe=this.activeIndexes,we={},me=[];for(A=0,B=pe.length;A<B;A++)if(J=pe[A],te=J.element(m),te){for(N=0,j=te.length;N<j;N++)if(Y=J.map.get(te[N]))for(U=0,G=Y.length;U<G;U++)ie=Y[U],ue=ie.id,!we[ue]&&this.matchesSelector(m,ie.selector)&&(we[ue]=!0,me.push(ie))}return me.sort(r)};var u={},f={},b=new WeakMap,y=new WeakMap,g=new WeakMap,v=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function S(m,A,N){var U=m[A];return m[A]=function(){return N.apply(m,arguments),U.apply(m,arguments)},m}c(S,"before");function _(m,A,N){var U=[],B=A;do{if(B.nodeType!==1)break;var j=m.matches(B);if(j.length){var G={node:B,observers:j};N?U.unshift(G):U.push(G)}}while(B=B.parentElement);return U}c(_,"dist_matches");function w(){b.set(this,!0)}c(w,"trackPropagation");function O(){b.set(this,!0),y.set(this,!0)}c(O,"trackImmediate");function R(){return g.get(this)||null}c(R,"getCurrentTarget");function C(m,A){!v||Object.defineProperty(m,"currentTarget",{configurable:!0,enumerable:!0,get:A||v.get})}c(C,"defineCurrentTarget");function E(m){try{return m.eventPhase,!0}catch{return!1}}c(E,"canDispatch");function I(m){if(!!E(m)){var A=m.eventPhase===1?f:u,N=A[m.type];if(!!N){var U=_(N,m.target,m.eventPhase===1);if(!!U.length){S(m,"stopPropagation",w),S(m,"stopImmediatePropagation",O),C(m,R);for(var B=0,j=U.length;B<j&&!b.get(m);B++){var G=U[B];g.set(m,G.node);for(var J=0,te=G.observers.length;J<te&&!y.get(m);J++)G.observers[J].data.call(G.node,m)}g.delete(m),C(m)}}}}c(I,"dispatch");function M(m,A,N){var U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},B=!!U.capture,j=B?f:u,G=j[m];G||(G=new V,j[m]=G,document.addEventListener(m,I,B)),G.add(A,N)}c(M,"on");function F(m,A,N){var U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},B=!!U.capture,j=B?f:u,G=j[m];!G||(G.remove(A,N),!G.size&&(delete j[m],document.removeEventListener(m,I,B)))}c(F,"off");function T(m,A,N){return m.dispatchEvent(new CustomEvent(A,{bubbles:!0,cancelable:!0,detail:N}))}c(T,"fire")},28382:(ve,he,z)=>{"use strict";z.d(he,{Q:()=>Q});var V="<unknown>";function Q(y){var g=y.split(`
`);return g.reduce(function(v,S){var _=n(S)||d(S)||i(S)||b(S)||u(S);return _&&v.push(_),v},[])}c(Q,"parse");var se=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,t=/\((\S*)(?::(\d+))(?::(\d+))\)/;function n(y){var g=se.exec(y);if(!g)return null;var v=g[2]&&g[2].indexOf("native")===0,S=g[2]&&g[2].indexOf("eval")===0,_=t.exec(g[2]);return S&&_!=null&&(g[2]=_[1],g[3]=_[2],g[4]=_[3]),{file:v?null:g[2],methodName:g[1]||V,arguments:v?[g[2]]:[],lineNumber:g[3]?+g[3]:null,column:g[4]?+g[4]:null}}c(n,"parseChrome");var e=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function d(y){var g=e.exec(y);return g?{file:g[2],methodName:g[1]||V,arguments:[],lineNumber:+g[3],column:g[4]?+g[4]:null}:null}c(d,"parseWinjs");var s=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,o=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function i(y){var g=s.exec(y);if(!g)return null;var v=g[3]&&g[3].indexOf(" > eval")>-1,S=o.exec(g[3]);return v&&S!=null&&(g[3]=S[1],g[4]=S[2],g[5]=null),{file:g[3],methodName:g[1]||V,arguments:g[2]?g[2].split(","):[],lineNumber:g[4]?+g[4]:null,column:g[5]?+g[5]:null}}c(i,"parseGecko");var r=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i;function u(y){var g=r.exec(y);return g?{file:g[3],methodName:g[1]||V,arguments:[],lineNumber:+g[4],column:g[5]?+g[5]:null}:null}c(u,"parseJSC");var f=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;function b(y){var g=f.exec(y);return g?{file:g[2],methodName:g[1]||V,arguments:[],lineNumber:+g[3],column:g[4]?+g[4]:null}:null}c(b,"parseNode")},50232:(ve,he,z)=>{"use strict";z.d(he,{nn:()=>Re,Gb:()=>me});function V(ee){const oe=new AbortController;return oe.abort(ee),oe.signal}c(V,"abortsignal_abort_abortSignalAbort");function Q(){return"abort"in AbortSignal&&typeof AbortSignal.abort=="function"}c(Q,"isSupported");function se(){return AbortSignal.abort===V}c(se,"isPolyfilled");function t(){Q()||(AbortSignal.abort=V)}c(t,"apply");function n(ee){const oe=new AbortController;return setTimeout(()=>oe.abort(new DOMException("TimeoutError")),ee),oe.signal}c(n,"abortsignal_timeout_abortSignalTimeout");function e(){return"abort"in AbortSignal&&typeof AbortSignal.timeout=="function"}c(e,"abortsignal_timeout_isSupported");function d(){return AbortSignal.timeout===n}c(d,"abortsignal_timeout_isPolyfilled");function s(){e()||(AbortSignal.timeout=n)}c(s,"abortsignal_timeout_apply");class o extends Error{constructor(oe,le,de={}){super(le);Object.defineProperty(this,"errors",{value:Array.from(oe),configurable:!0,writable:!0}),de.cause&&Object.defineProperty(this,"cause",{value:de.cause,configurable:!0,writable:!0})}}c(o,"AggregateError");function i(){return typeof globalThis.AggregateError=="function"}c(i,"aggregateerror_isSupported");function r(){return globalThis.AggregateError===o}c(r,"aggregateerror_isPolyfilled");function u(){i()||(globalThis.AggregateError=o)}c(u,"aggregateerror_apply");const f=Reflect.getPrototypeOf(Int8Array)||{};function b(ee){const oe=this.length;return ee=Math.trunc(ee)||0,ee<0&&(ee+=oe),ee<0||ee>=oe?void 0:this[ee]}c(b,"arrayLikeAt");function y(){return"at"in Array.prototype&&typeof Array.prototype.at=="function"&&"at"in String.prototype&&typeof String.prototype.at=="function"&&"at"in f&&typeof f.at=="function"}c(y,"arraylike_at_isSupported");function g(){return Array.prototype.at===b&&String.prototype.at===b&&f.at===b}c(g,"arraylike_at_isPolyfilled");function v(){if(!y()){const ee={value:b,writable:!0,configurable:!0};Object.defineProperty(Array.prototype,"at",ee),Object.defineProperty(String.prototype,"at",ee),Object.defineProperty(f,"at",ee)}}c(v,"arraylike_at_apply");function S(){const ee=new Uint32Array(4);crypto.getRandomValues(ee);let oe=-1;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(le){oe++;const de=ee[oe>>3]>>oe%8*4&15;return(le==="x"?de:de&3|8).toString(16)})}c(S,"randomUUID");function _(){return typeof crypto=="object"&&"randomUUID"in crypto&&typeof crypto.randomUUID=="function"}c(_,"crypto_randomuuid_isSupported");function w(){return _()&&crypto.randomUUID===S}c(w,"crypto_randomuuid_isPolyfilled");function O(){_()||(crypto.randomUUID=S)}c(O,"crypto_randomuuid_apply");const R=EventTarget.prototype.addEventListener;function C(ee,oe,le){if(typeof le=="object"&&"signal"in le&&le.signal instanceof AbortSignal){if(le.signal.aborted)return;R.call(le.signal,"abort",()=>{this.removeEventListener(ee,oe,le)})}return R.call(this,ee,oe,le)}c(C,"addEventListenerWithAbortSignal");function E(){let ee=!1;const oe=c(()=>ee=!0,"setSignalSupported");function le(){}c(le,"noop");const de=Object.create({},{signal:{get:oe}});try{const fe=new EventTarget;return fe.addEventListener("test",le,de),fe.removeEventListener("test",le,de),ee}catch{return ee}}c(E,"event_abortsignal_isSupported");function I(){return EventTarget.prototype.addEventListener===C}c(I,"event_abortsignal_isPolyfilled");function M(){typeof AbortSignal=="function"&&!E()&&(EventTarget.prototype.addEventListener=C)}c(M,"event_abortsignal_apply");const F=Object.prototype.hasOwnProperty;function T(ee,oe){if(ee==null)throw new TypeError("Cannot convert undefined or null to object");return F.call(Object(ee),oe)}c(T,"object_hasown_objectHasOwn");function m(){return"hasOwn"in Object&&typeof Object.hasOwn=="function"}c(m,"object_hasown_isSupported");function A(){return Object.hasOwn===T}c(A,"object_hasown_isPolyfilled");function N(){m()||Object.defineProperty(Object,"hasOwn",{value:T,configurable:!0,writable:!0})}c(N,"object_hasown_apply");function U(ee){return new Promise((oe,le)=>{let de=!1;const fe=Array.from(ee),Z=[];function ae(be){de||(de=!0,oe(be))}c(ae,"resolveOne");function ge(be){Z.push(be),Z.length===fe.length&&le(new globalThis.AggregateError(Z,"All Promises rejected"))}c(ge,"rejectIfDone");for(const be of fe)Promise.resolve(be).then(ae,ge)})}c(U,"promise_any_promiseAny");function B(){return"any"in Promise&&typeof Promise.any=="function"}c(B,"promise_any_isSupported");function j(){return Promise.all===U}c(j,"promise_any_isPolyfilled");function G(){B()||(Promise.any=U)}c(G,"promise_any_apply");const J=50;function te(ee,oe={}){const le=Date.now(),de=oe.timeout||0,fe=Object.defineProperty({didTimeout:!1,timeRemaining(){return Math.max(0,J-(Date.now()-le))}},"didTimeout",{get(){return Date.now()-le>de}});return window.setTimeout(()=>{ee(fe)})}c(te,"requestidlecallback_requestIdleCallback");function Y(ee){clearTimeout(ee)}c(Y,"cancelIdleCallback");function ie(){return typeof globalThis.requestIdleCallback=="function"}c(ie,"requestidlecallback_isSupported");function ue(){return globalThis.requestIdleCallback===te&&globalThis.cancelIdleCallback===Y}c(ue,"requestidlecallback_isPolyfilled");function pe(){ie()||(globalThis.requestIdleCallback=te,globalThis.cancelIdleCallback=Y)}c(pe,"requestidlecallback_apply");const we=typeof Blob=="function"&&typeof PerformanceObserver=="function"&&typeof Intl=="object"&&typeof MutationObserver=="function"&&typeof URLSearchParams=="function"&&typeof WebSocket=="function"&&typeof IntersectionObserver=="function"&&typeof queueMicrotask=="function"&&typeof TextEncoder=="function"&&typeof TextDecoder=="function"&&typeof customElements=="object"&&typeof HTMLDetailsElement=="function"&&typeof AbortController=="function"&&typeof AbortSignal=="function"&&"entries"in FormData.prototype&&"toggleAttribute"in Element.prototype&&"replaceChildren"in Element.prototype&&"fromEntries"in Object&&"flatMap"in Array.prototype&&"trimEnd"in String.prototype&&"allSettled"in Promise&&"matchAll"in String.prototype&&"replaceAll"in String.prototype&&!0;function me(){return we&&Q()&&e()&&i()&&y()&&_()&&E()&&m()&&B()&&ie()}c(me,"lib_isSupported");function Pe(){return abortSignalAbort.isPolyfilled()&&abortSignalTimeout.isPolyfilled()&&aggregateError.isPolyfilled()&&arrayAt.isPolyfilled()&&cryptoRandomUUID.isPolyfilled()&&eventAbortSignal.isPolyfilled()&&objectHasOwn.isPolyfilled()&&promiseAny.isPolyfilled()&&requestIdleCallback.isPolyfilled()}c(Pe,"lib_isPolyfilled");function Re(){t(),s(),u(),v(),O(),M(),N(),G(),pe()}c(Re,"lib_apply")},82918:(ve,he,z)=>{"use strict";z.d(he,{b:()=>n});let V;function Q(){return`${Math.round(Math.random()*(Math.pow(2,31)-1))}.${Math.round(Date.now()/1e3)}`}c(Q,"generateClientId");function se(e){const d=`GH1.1.${e}`,s=Date.now(),o=new Date(s+1*365*86400*1e3).toUTCString();let{domain:i}=document;i.endsWith(".github.com")&&(i="github.com"),document.cookie=`_octo=${d}; expires=${o}; path=/; domain=${i}; secure; samesite=lax`}c(se,"setClientIdCookie");function t(){let e;const s=document.cookie.match(/_octo=([^;]+)/g);if(!s)return;let o=[0,0];for(const i of s){const[,r]=i.split("="),[,u,...f]=r.split("."),b=u.split("-").map(Number);b>o&&(o=b,e=f.join("."))}return e}c(t,"getClientIdFromCookie");function n(){try{const e=t();if(e)return e;const d=Q();return se(d),d}catch{return V||(V=Q()),V}}c(n,"getOrCreateClientId")},4687:(ve,he,z)=>{"use strict";z.d(he,{Z:()=>Q});function V(...se){return JSON.stringify(se,(t,n)=>typeof n=="object"?n:String(n))}c(V,"defaultHash");function Q(se,t={}){const{hash:n=V,cache:e=new Map}=t;return function(...d){const s=n.apply(this,d);if(e.has(s))return e.get(s);let o=se.apply(this,d);return o instanceof Promise&&(o=o.catch(i=>{throw e.delete(s),i})),e.set(s,o),o}}c(Q,"memoize")}}]);})();

//# sourceMappingURL=969-2b574e728f7a.js.map