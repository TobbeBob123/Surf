"use strict";(self.webpackChunkug_react=self.webpackChunkug_react||[]).push([[229],{5918:function(t,n,e){e.d(n,{Z:function(){return _}});var r=e(17040),i=e(48320),o=e(63357),u=e(33272),c=function(t){var n=t.notes,e=t.baseDisplayNote,r=u.R3+u.S0,i=function(t){return Math.floor((t-21+r-3)/r)},o=i(Math.min.apply(Math,n)),c=i(Math.max.apply(Math,n))-o;return{baseDisplayNote:e,startOctaveIndex:o,octaveCount:c<2?2:c,fingers:n.map((function(t){var n=i(t);return{midiIndex:t,absoluteOctaveIndex:n,octaveIndex:n-o,keyIndex:t-21-n*r+(r-3)}}))}},s=function(t){return t.fret||!1},a=function(t){var n=t.capo,e=t.fingers,r=t.disabled,i=t.stringCount,o=[];n.lastString&&(o=Array(n.lastString).fill(n).map((function(t,n){return n+1})));var u=[].concat(e.map((function(t){return t.string})),r,o).filter((function(t,n,e){return e.indexOf(t)===n&&!!t}));return Array(i).fill(i).map((function(t,n){return n+1})).filter((function(t){return![].concat(u).includes(t)&&!!t}))},f=function(t){var n=t.variation,e=t.stringCount,r=function(t){var n,e;return t.listCapos.forEach((function(r){n=r.fret-t.fret+(t.fret?1:0),e=r.lastString+1})),{fret:n,lastString:e}}(n),i=function(t){return t.frets.reduce((function(n,e,r){return 0<t.fingers[r]?[].concat(n,[{string:r+1,fret:e-t.fret+(t.fret?1:0),finger:t.fingers[r]}]):n}),[])}(n),o=function(t){return t.frets.map((function(t,n){return-1==t&&n+1})).filter((function(t){return t}))}(n),u=function(t){return t.notes}(n);return{id:n.id,open:a({capo:r,fingers:i,disabled:o,stringCount:e}),fretNum:s(n),capo:r,fingers:i,disabled:o,notes:u}},l=e(56675),d="Eb Ab Db Gb Bb Eb",p="A D G C E A",g="B E A D F# B",v="C F Bb Eb G C",h="C# F# B E G# C#",y="D G C F A D",T="A E A D F# B",m="Bb F Bb Eb G C",b="B F# B E G# C#",P="C G C F A D",C="Db Ab Db Gb Bb Eb",V=[["C","C","B#"],["C#","Db"],["D"],["D#","Eb"],["E","E","Fb"],["F","F","E#"],["F#","Gb"],["G"],["G#","Ab"],["A"],["A#","Bb","Hb"],["B","B","H","Cb"]],S=/([CDEFGABH])(#|b)?([^/.]+)?(\/([CDEFGABH]*)([[#|b]*)?([^/.]+)?)?/,Z=function(t,n,e,r){var i=function(t){for(var n=-1,e=0;e<V.length;e++)if(-1!==V[e].indexOf(t)){n=e;break}return n}(t+n);if(-1!==i){var o=(i+e+12)%12;if(1<V[o].length){if(0===e&&("#"===n&&!r||"b"===n))return""+t+n;if("b"===n||r)return V[o][1]}return V[o][0]}return t},A=function(t){var n=t.currentTranspose,e=t.chord,r=t.withFlat,i=function(t){return t.trim().replace(/\([0-9XIV fr.]+\)/,"")}(e);return function(t,n,e){if(n=parseInt(n,10),isNaN(n))return t;var r=S.exec(t);if(!r)return t;var i=r[1],o=r[2]||"",u=r[3]||"",c=r[5]||"",s=r[6]||"",a=r[7]||"",f=""+Z(i,o,n,e)+u;return(c||a)&&(f+="/"+Z(c,s,n,e)+a),f}(i,n,void 0!==r&&r)},I={convertChords:function(t){var n=this,e=t.chords,r=t.chordType,i=t.hasTranspose;return Object.keys(e).reduce((function(t,o){var u=Object.keys(e[o]).filter((function(t){return"object"==typeof e[o][t]})).map((function(t){return e[o][t]}));return t[n.getChordKey({name:o,hasTranspose:i})]=u.length?n.convertChord({chordType:r,variations:u}):null,t}),{})},convertPianoChordsInversions:function(t){var n=this,e=t.chords,i=t.hasTranspose;return Object.keys(e).reduce((function(t,o){var u,s=n.getChordKey({name:o,hasTranspose:i});return(0,r.Z)({},t,((u={})[s]=Object.keys(e[o]).map((function(t){return(0,r.Z)({},c(e[o][t]),{id:t})})),u))}),{})},convertChord:function(t){var n=this,e=t.variations,r=t.chordType;return r===l.WW?[c(e[0])]:e.map((function(t){return f({stringCount:n.getChordStringsCount({chordType:r}),variation:t})}))},getChordStringsCount:function(t){return t.chordType===l.nq?6:4},getChordType:function(t){var n=t.tabType,e=t.chordType;return n===o.gI||n===o.ID&&e===l.d2?l.d2:e||l.nq},getNormalizedTranspose:function(t){return t%12},getComputedTranspose:function(t){var n=t.tuning,e=t.capo,r=t.transpose,i=t.chordType,o=t.defaultChordType,u=t.isOfficialTab;if(0===r&&o===i)return 0;var c,s=i===l.WW,a=e||0;!u&&[d,h,y].includes(n)&&(a+=12+((c={})[d]=-1,c[y]=-2,c[h]=-3,c)[n]);return 0<a&&(a=o===l.WW?s?0:12-a:s?a:0),this.getNormalizedTranspose(r+a)},transpose:function(t){var n=t.currentTranspose,e=t.chord,r=t.withFlat;return A({currentTranspose:n,chord:e,withFlat:r})},getTuning:function(t){var n=t.chordType,e=t.tabType,r=t.tuning;return(0,i.Vy)(e)&&n!==l.WW?[d,p,g,v,h,y].includes(r)?"E A D G B E":[T,m,b,P,C].includes(r)?"D A D G B E":r:r},getChordVariationIndex:function(t){var n=t.variations,e=t.id,r=n.findIndex((function(t){return t.id===e}));return-1===r?0:r},getChordKey:function(t){var n=t.name;return t.hasTranspose?n+"_transposed":n},getChordsMap:function(t){var n=t.chordsMap,e=t.chords,i=t.chordNames,o=t.chordsVarations,u=void 0===o?{}:o,c=t.chordType,s=void 0===c?l.nq:c;return Object.keys(n).reduce((function(t,o){var c,a,f,d=n[o],p=e[d]||[],g=void 0===u[d]?I.getChordVariationIndex({id:(null===(c=i.find((function(t){return t.name===o})))||void 0===c?void 0:c.id)||d,variations:p}):u[d];return(0,r.Z)({},t,((f={})[o]={name:d,displayName:s===l.WW?null===(a=p[g])||void 0===a?void 0:a.id:void 0,defaultVariation:g},f))}),{})}},_=I},10086:function(t,n,e){e.r(n),e.d(n,{backingTrackToggle:function(){return M},changeColorChords:function(){return G},changeTypeFace:function(){return O},fontSizeDown:function(){return H},fontSizeUp:function(){return B},logTabSettings:function(){return Y},rewindAutoscroll:function(){return I},setAutoscrollSpeed:function(){return L},setFontSize:function(){return E},settingsReset:function(){return W},toggleAutoscroll:function(){return A},toggleChordsHighlight:function(){return w},toggleChordsVisibility:function(){return k},toggleDarkMode:function(){return D},toggleHighlightLines:function(){return R},toggleSmartAutoscroll:function(){return _},toggleStrumminsVisibility:function(){return F},toggleYoutubeMute:function(){return x}});var r=e(55462),i=e(58849),o=e(76345),u=e(7758),c=e(92719),s=e(17040),a=e(60540),f=e(17347),l="tab_tools_usage",d=function(t){function n(){return t.apply(this,arguments)||this}return(0,a.Z)(n,t),n.prototype.writeResult=function(n){var e=(0,s.Z)({_type:l,user_id:window.UGAPP.store.user.id},n);t.prototype.writeResult.call(this,e)},n}(f.Z),p=d,g=e(12367),v=e(63538),h=e(54e3),y=e(11882),T=e(63595),m=e(67810),b=e(50253),P=e(36267),C=e(48229),V=e(23439),S=e(27688),Z=new p,A=function(t){return function(n,e){var i=(0,T.vD)([b.JD],e)[0],o="boolean"==typeof t?t:!i,u=o?r.U_:r.NL;n((0,V.pQ)(u)),n(b.TB.setActive(o))}},I=function(){return function(t){t((0,V.pQ)(r.ju)),S.ZP.seekTo(0),t(b.TB.setCurrentTime(0)),t((0,i.yK)())}},_=function(){return function(t,n){var e=(0,T.vD)([b.AP],n)[0];e||t(I()),t((0,V.pQ)(r.TB,{ui:e?c.x8:c.JA})),t(b.TB.setIsSmartActive(!e)),o.Z.setTool({type:u.e3,value:!e})}},x=function(){return function(t){var n=S.ZP.toggleMute()===S.jp;o.Z.setTool({type:u.dY,value:n}),t((0,V.pQ)(r.G8)),t(h._s.setIsMuted(n))}},F=function(){return function(t,n){var e=(0,T.vD)([y.uC],n)[0];t(y.mV.setStrummingVisible(!e)),o.Z.setTool({type:u.o7,value:!e})}},k=function(){return function(t,n){var e=!(0,v.PW)(n());t(v.yJ.setChordsPanelOpen(e)),o.Z.setTool({type:u.ab,value:e})}},w=function(){return function(t,n){var e=!(0,g.bY)(n());t(g.Rl.setIsChordsHighlited(e)),o.Z.setTool({type:u.mL,value:e})}},D=function(){return function(t,n){var e=!(0,v.Ti)(n());t(v.yJ.setIsDarkModeActive(e)),o.Z.setTool({type:u.Sp,value:e})}},L=function(t){return function(n){n(b.TB.setSpeed(t)),o.Z.setTool({type:u.Tw,value:t}),n((0,V.pQ)(r.HF))}},E=function(t,n,e){var r=(0,g.YU)(e());o.Z.setTool({type:u.xT,value:r+t});var i=o.Z.getToolValue({type:u.xT});n(g.Rl.setFontSize(i))},B=function(){return function(t,n){return E(1,t,n)}},H=function(){return function(t,n){return E(-1,t,n)}},M=function(){return function(t,n){var e=(0,T.vD)([P.I1,m.B9],n),r=e[0],i=e[1];t(P.xC.backingTrackToggle(r?1:1/(i.length+1)))}},O=function(t){return function(n){o.Z.setTool({type:u.Ai,value:t}),n(g.Rl.setFontFamily(t))}},G=function(t){return function(n){o.Z.setTool({type:u.I7,value:t}),n(g.Rl.setChordsColor(t))}},W=function(){return function(t,n){var e=(0,T.vD)([m.pQ,m.HS],n),r=e[0],i=e[1];o.Z.reset(),t(C.kF.reset(r)),t(b.TB.reset()),t(h._s.reset()),t(y.mV.reset()),t(g.Rl.reset()),t(v.yJ.reset(i))}},R=function(t){return function(n){n(b.TB.setIsLinesHighlited(t)),n((0,V.pQ)(r.Jd))}},Y=function(){return function(t,n){var e=n().user.paymentAccountId;Z.writeResult({payment_account_id:e,autoscroll_speed:100*o.Z.getToolValue({type:u.Tw}).toFixed(2),chords_type:o.Z.getToolValue({type:u.ZY}),chords_open:+o.Z.getToolValue({type:u.ab}),strummings_open:+o.Z.getToolValue({type:u.o7}),left_handed_mode:+o.Z.getToolValue({type:u.VY}),flats_count:Object.keys(o.Z.getToolValue({type:u.UJ})).length,simplify_count:Object.keys(o.Z.getToolValue({type:u.cl})).length,transpose_count:Object.keys(o.Z.getToolValue({type:u.SI})).length})}}},27688:function(t,n,e){e.d(n,{jp:function(){return r}});var r=-1,i=new(function(){function t(){this.youtubePlayer=null}var n=t.prototype;return n.setYoutubePlayer=function(t){this.youtubePlayer=t},n.pausePlayer=function(){var t,n;null===(t=this.youtubePlayer)||void 0===t||null===(n=t.pauseVideo)||void 0===n||n.call(t)},n.stopPlayer=function(){var t,n;null===(t=this.youtubePlayer)||void 0===t||null===(n=t.stopVideo)||void 0===n||n.call(t)},n.startPlayer=function(){var t,n;null===(t=this.youtubePlayer)||void 0===t||null===(n=t.playVideo)||void 0===n||n.call(t)},n.seekTo=function(t){var n,e;null===(n=this.youtubePlayer)||void 0===n||null===(e=n.seekTo)||void 0===e||e.call(n,t,!0)},n.getCurrentTime=function(){var t,n;return(null===(t=this.youtubePlayer)||void 0===t||null===(n=t.getCurrentTime)||void 0===n?void 0:n.call(t))||0},n.toggleMute=function(){return this.youtubePlayer?this.youtubePlayer.isMuted()?(this.youtubePlayer.unMute(),1):(this.youtubePlayer.mute(),r):void 0},t}());n.ZP=i},33272:function(t,n,e){e.d(n,{S0:function(){return r},R3:function(){return i},p3:function(){return o}});var r=7,i=5,o=[1,3,6,8,10]},70929:function(t,n,e){e.d(n,{u:function(){return c},b:function(){return s}});var r=e(10360),i=e(76345),o=e(2950),u=e(7758),c=function(){return{isLinesHighlighted:i.Z.getToolValue({type:u.th}),isSmartActive:i.Z.getToolValue({type:u.e3}),speed:i.Z.getToolValue({type:u.Tw})}},s=function(t){var n,e,i=t.tab,u=t.tab_view;return(0,r.Z)({isTooltipVisible:!1,isSmartAvailable:!(!(0,o.Vy)(i.type)||!(null===(n=u.lyrics_lines)||void 0===n||null===(e=n.lyrics)||void 0===e?void 0:e.length))&&u.smart_auto_scroll_available,isActive:!1,currentTime:0,totalTime:0},c())}},50253:function(t,n,e){e.d(n,{YI:function(){return o},Mx:function(){return u},JD:function(){return c},kZ:function(){return s},AP:function(){return a},gc:function(){return f},pC:function(){return l},MV:function(){return d},EZ:function(){return p},iq:function(){return g},TB:function(){return v}});var r=e(63595),i=e(70929),o=(0,r.yA)("autoscroll")({actions:{setSpeed:function(t){return{speed:t}},setCurrentTime:function(t){return{currentTime:t}},setActive:function(t){return{isActive:t}},setIsLinesHighlited:function(t){return{isLinesHighlighted:t}},setIsSmartActive:function(t){return{isSmartActive:t}},setTotalTime:function(t){return{totalTime:t}},setTooltipVisible:function(t){return{isTooltipVisible:t}},reset:i.u}}),u=o.getProp("currentTime"),c=o.getProp("isActive"),s=o.getProp("isLinesHighlighted"),a=o.getProp("isSmartActive"),f=o.getProp("isSmartAvailable"),l=(o.getProp("isTooltipVisible"),o.getProp("speed")),d=o.getProp("totalTime"),p=(0,r.P1)([a,f],(function(t,n){return t&&n})),g=(0,r.P1)([c,p],(function(t,n){return t&&n})),v=o.actions},45528:function(t,n,e){e.d(n,{uo:function(){return a},jE:function(){return l}});var r=e(10360),i=e(63357),o=e(56675),u=e(5918),c=e(76345),s=e(7758),a=function(t){return{transpose:c.Z.getToolValue({type:s.SI,id:t}),isSimplified:c.Z.getToolValue({type:s.cl,id:t}),isFlatActive:c.Z.getToolValue({type:s.UJ,id:t}),isLeftHandedActive:c.Z.getToolValue({type:s.VY})}},f=function(t){var n,e=t.chordType,r=t.tabView;return(n={})[o.nq]={},n[o.WW]={},n[o.d2]={},n[e]=e===o.WW?u.Z.convertPianoChordsInversions({chords:r.piano_inversions||{}}):u.Z.convertChords({chords:r.applicature||{},chordType:e}),n},l=function(t){var n,e=t.tab,u=t.tab_view,l=e.type===i.gI?o.d2:c.Z.getToolValue({type:s.ZY})||o.nq,d=((n={})[o.nq]={},n[o.WW]={},n[o.d2]={},n);return{chordsSettings:(0,r.Z)({chordsVarations:d,chordType:l,changedChordType:""},a(e.id)),chords:f({chordType:l,tabView:u})}}},48229:function(t,n,e){e.d(n,{Gc:function(){return c},Gv:function(){return s},hf:function(){return f},ot:function(){return l},j5:function(){return d},k4:function(){return p},lv:function(){return g},x_:function(){return v},k0:function(){return h},pi:function(){return y},ws:function(){return T},kF:function(){return m}});var r=e(10360),i=e(63595),o=e(56675),u=e(45528),c=(0,i.yA)("chords")({actions:{setTranspose:function(t){var n=t.chordType,e=t.isFlatActive;return{transpose:t.transpose,isFlatActive:e,changedChordType:n}},setIsSimplified:function(t,n){return{isSimplified:t.isSimplified,changedChordType:t.chordType||n.chordType}},setChordVaraition:function(t,n){var e,i,o=t.name,u=t.variationIndex;return{chordsVarations:(0,r.Z)({},n.chordsVarations,(i={},i[n.changedChordType||n.chordType]=(0,r.Z)({},n.chordsVarations[n.changedChordType||n.chordType],(e={},e[o]=u,e)),i))}},setLeftHanded:function(t){return{isLeftHandedActive:t}},reset:u.uo}}),s=c.getProp("chordsVarations"),a=c.getProp("changedChordType"),f=c.getProp("chordType"),l=c.getProp("isFlatActive"),d=c.getProp("isLeftHandedActive"),p=c.getProp("isSimplified"),g=c.getProp("transpose"),v=(0,i.P1)([f,a],(function(t,n){return n||t})),h=(0,i.P1)([v,s],(function(t,n){return n[t]})),y=(0,i.P1)([v],(function(t){return t===o.d2})),T=(0,i.P1)([v],(function(t){return t===o.WW})),m=c.actions},83202:function(t,n,e){e.d(n,{u:function(){return u},i:function(){return c}});var r=e(10360),i=e(76345),o=e(7758),u=function(){return{isMuted:i.Z.getToolValue({type:o.dY}),isListOpen:i.Z.getToolValue({type:o.$$}),isExpaned:i.Z.getToolValue({type:o.HG})}},c=function(t){var n,e=t.tab_view;return(0,r.Z)({isOpen:!1,isReady:!1,activeListIndex:0,activeVideoId:"",activeSmartAutocrollVideoId:(null===(n=e.lyrics_lines)||void 0===n?void 0:n.youtube_id)||"",lists:[],videos:{}},u())}},54e3:function(t,n,e){e.d(n,{k3:function(){return o},tf:function(){return u},Ut:function(){return c},XT:function(){return s},p1:function(){return a},Hs:function(){return f},PT:function(){return l},o3:function(){return d},gJ:function(){return p},YL:function(){return g},Dk:function(){return v},_s:function(){return h}});var r=e(63595),i=e(83202),o=(0,r.yA)("tabVideoPlayer")({actions:{setIsReady:function(){return{isReady:!0}},setActiveListIndex:function(t){return{activeListIndex:t}},setActiveVideoId:function(t){return{activeVideoId:t}},setIsExpanded:function(t){return{isExpaned:t}},setIsListOpen:function(t){return{isListOpen:t}},setIsMuted:function(t){return{isMuted:t}},setIsOpen:function(t){return{isOpen:t}},setVideos:function(t,n){var e=t.lists;return{lists:e,videos:t.videos,activeVideoId:e[n.activeListIndex].videoIds[0]}},reset:i.u}}),u=o.getProp("activeListIndex"),c=o.getProp("activeSmartAutocrollVideoId"),s=o.getProp("activeVideoId"),a=o.getProp("isExpaned"),f=o.getProp("isListOpen"),l=o.getProp("isMuted"),d=o.getProp("isOpen"),p=o.getProp("isReady"),g=o.getProp("lists"),v=o.getProp("videos"),h=o.actions},71352:function(t,n,e){e.d(n,{u:function(){return s},m:function(){return a}});var r=e(10360),i=e(76345),o=e(7758),u=e(66848),c=e(51498),s=function(){return{isStrummingOpen:i.Z.getToolValue({type:o.o7})}},a=function(t){var n=t.tab_view,e=t.access,i=t.tab;return(0,r.Z)({isStummingSurveyVisible:!(null==e||!e.can_vote_strumming||u.Z.isVoted({key:u.Z.KEY_STRUMMING,tabId:i.id})),canEditStrumming:n.can_edit_strumming,canSimplify:n.is_simplify_available,fakePlayerShowIndex:c.Z.currentShowIndex},s())}},51498:function(t,n,e){var r,i=e(34005),o="_ug_playerSideShowsPerDay",u=(r=i.Z.get(o))?+r:0;n.Z={get currentShowIndex(){return u},incrementShow:function(){i.Z.set(o,u+1,4/3)}}},11882:function(t,n,e){e.d(n,{rh:function(){return o},ex:function(){return u},z7:function(){return c},LW:function(){return s},uC:function(){return a},VH:function(){return f},LK:function(){return l},mV:function(){return d}});var r=e(63595),i=e(71352),o=(0,r.yA)("textTabCommon")({actions:{hideStrummingSurvey:function(){return{isStummingSurveyVisible:!1}},setStrummingVisible:function(t){return{isStrummingOpen:t}},reset:i.u}}),u=o.getProp("canEditStrumming"),c=o.getProp("canSimplify"),s=o.getProp("fakePlayerShowIndex"),a=o.getProp("isStrummingOpen"),f=o.getProp("isStummingSurveyVisible"),l=(0,r.P1)([s],(function(t){return t+1})),d=o.actions},24607:function(t,n,e){e.d(n,{u:function(){return u},H:function(){return c}});var r=e(10360),i=e(76345),o=e(7758),u=function(){return{fontSize:i.Z.getToolValue({type:o.xT}),fontFamily:i.Z.getToolValue({type:o.Ai}),isChordsHighlited:i.Z.getToolValue({type:o.mL}),chordsColor:i.Z.getToolValue({type:o.I7})}},c=function(t){var n=t.tab_view;return(0,r.Z)({isManuallyHighlighted:n.tab_manually_highlighted,maxStringLength:0},u())}},12367:function(t,n,e){e.d(n,{on:function(){return c},cO:function(){return s},M:function(){return a},YU:function(){return f},bY:function(){return l},vP:function(){return d},iF:function(){return p},Tt:function(){return g},pY:function(){return v},hL:function(){return h},Rl:function(){return y}});var r=e(63595),i=e(66789),o=e(78416),u=e(24607),c=(0,r.yA)("textTabContent")({actions:{setMaxStringLength:function(t){return{maxStringLength:t}},setFontSize:function(t){return{fontSize:t}},setFontFamily:function(t){return{fontFamily:t}},setChordsColor:function(t){return{chordsColor:t}},setIsChordsHighlited:function(t){return{isChordsHighlited:t}},reset:u.u}}),s=c.getProp("maxStringLength"),a=c.getProp("chordsColor"),f=c.getProp("fontSize"),l=c.getProp("isChordsHighlited"),d=c.getProp("isManuallyHighlighted"),p=c.getProp("fontFamily"),g=(0,r.P1)([p],(function(t){return o.ZP.web[t]})),v=(0,r.P1)([f],(function(t){return(0,i.$)({config:{min:-4,max:5},value:t})})),h=(0,r.P1)(f,(function(t){return 13+2*t})),y=c.actions}}]);
//# sourceMappingURL=/static/public/build/ug_react/../../sourcemap/ug_react/202205/229.33eb08a27ebbf5a5af964d72a32ecbce.js.map